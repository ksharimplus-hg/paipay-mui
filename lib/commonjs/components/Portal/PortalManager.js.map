{"version":3,"names":["PortalManager","React","PureComponent","portals","key","children","setState","state","map","item","filter","render","StyleSheet","absoluteFill"],"sources":["PortalManager.tsx"],"sourcesContent":["import * as React from 'react';\nimport { View, StyleSheet } from 'react-native';\n\ntype State = {\n\tportals: Array<{\n\t\tkey: number;\n\t\tchildren: React.ReactNode;\n\t}>;\n};\n\n/**\n * Portal host is the component which actually renders all Portals.\n */\nexport default class PortalManager extends React.PureComponent<{}, State> {\n\tstate: State = {\n\t\tportals: [],\n\t};\n\n\tmount = (key: number, children: React.ReactNode) => {\n\t\tthis.setState((state) => ({\n\t\t\tportals: [...state.portals, { key, children }],\n\t\t}));\n\t};\n\n\tupdate = (key: number, children: React.ReactNode) =>\n\t\tthis.setState((state) => ({\n\t\t\tportals: state.portals.map((item) => {\n\t\t\t\tif (item.key === key) {\n\t\t\t\t\treturn { ...item, children };\n\t\t\t\t}\n\t\t\t\treturn item;\n\t\t\t}),\n\t\t}));\n\n\tunmount = (key: number) =>\n\t\tthis.setState((state) => ({\n\t\t\tportals: state.portals.filter((item) => item.key !== key),\n\t\t}));\n\n\trender() {\n\t\treturn this.state.portals.map(({ key, children }) => (\n\t\t\t<View\n\t\t\t\tkey={key}\n\t\t\t\tcollapsable={\n\t\t\t\t\tfalse /* Need collapsable=false here to clip the elevations, otherwise they appear above sibling components */\n\t\t\t\t}\n\t\t\t\tpointerEvents=\"box-none\"\n\t\t\t\tstyle={StyleSheet.absoluteFill}\n\t\t\t>\n\t\t\t\t{children}\n\t\t\t</View>\n\t\t));\n\t}\n}\n"],"mappings":";;;;;;AAAA;AACA;AAAgD;AAAA;AAAA;AAAA;AAAA;AAShD;AACA;AACA;AACe,MAAMA,aAAa,SAASC,KAAK,CAACC,aAAa,CAAY;EAAA;IAAA;IAAA,+BAC1D;MACdC,OAAO,EAAE;IACV,CAAC;IAAA,+BAEO,CAACC,GAAW,EAAEC,QAAyB,KAAK;MACnD,IAAI,CAACC,QAAQ,CAAEC,KAAK,KAAM;QACzBJ,OAAO,EAAE,CAAC,GAAGI,KAAK,CAACJ,OAAO,EAAE;UAAEC,GAAG;UAAEC;QAAS,CAAC;MAC9C,CAAC,CAAC,CAAC;IACJ,CAAC;IAAA,gCAEQ,CAACD,GAAW,EAAEC,QAAyB,KAC/C,IAAI,CAACC,QAAQ,CAAEC,KAAK,KAAM;MACzBJ,OAAO,EAAEI,KAAK,CAACJ,OAAO,CAACK,GAAG,CAAEC,IAAI,IAAK;QACpC,IAAIA,IAAI,CAACL,GAAG,KAAKA,GAAG,EAAE;UACrB,OAAO;YAAE,GAAGK,IAAI;YAAEJ;UAAS,CAAC;QAC7B;QACA,OAAOI,IAAI;MACZ,CAAC;IACF,CAAC,CAAC,CAAC;IAAA,iCAEOL,GAAW,IACrB,IAAI,CAACE,QAAQ,CAAEC,KAAK,KAAM;MACzBJ,OAAO,EAAEI,KAAK,CAACJ,OAAO,CAACO,MAAM,CAAED,IAAI,IAAKA,IAAI,CAACL,GAAG,KAAKA,GAAG;IACzD,CAAC,CAAC,CAAC;EAAA;EAEJO,MAAM,GAAG;IACR,OAAO,IAAI,CAACJ,KAAK,CAACJ,OAAO,CAACK,GAAG,CAAC;MAAA,IAAC;QAAEJ,GAAG;QAAEC;MAAS,CAAC;MAAA,oBAC/C,oBAAC,iBAAI;QACJ,GAAG,EAAED,GAAI;QACT,WAAW,EACV,KAAK,CAAC,wGACN;;QACD,aAAa,EAAC,UAAU;QACxB,KAAK,EAAEQ,uBAAU,CAACC;MAAa,GAE9BR,QAAQ,CACH;IAAA,CACP,CAAC;EACH;AACD;AAAC"}