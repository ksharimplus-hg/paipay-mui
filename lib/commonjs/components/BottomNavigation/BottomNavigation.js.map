{"version":3,"names":["MIN_RIPPLE_SCALE","MIN_TAB_WIDTH","MAX_TAB_WIDTH","BAR_HEIGHT","FAR_FAR_AWAY","Platform","OS","OUTLINE_WIDTH","Touchable","route","_0","style","children","borderless","centered","rippleColor","rest","TouchableRipple","supported","disabled","undefined","SceneComponent","React","memo","component","createElement","BottomNavigation","navigationState","renderScene","renderIcon","renderLabel","renderTouchable","props","getLabelText","title","getBadge","badge","getColor","color","getAccessibilityLabel","accessibilityLabel","getTestID","testID","activeColor","inactiveColor","keyboardHidesNavigationBar","barStyle","labeled","theme","sceneAnimationEnabled","sceneAnimationType","sceneAnimationEasing","onTabPress","onIndexChange","shifting","isV3","routes","length","safeAreaInsets","labelMaxFontSizeMultiplier","compact","getLazy","lazy","bottom","left","right","useSafeAreaInsets","scale","animation","console","warn","focusedKey","index","key","visibleAnim","useAnimatedValue","tabsAnims","useAnimatedValueArray","map","_","i","tabsPositionAnims","offsetsAnims","indexAnim","rippleAnim","layout","onLayout","useLayout","loaded","setLoaded","useState","includes","keyboardVisible","setKeyboardVisible","handleKeyboardShow","useCallback","Animated","timing","toValue","duration","useNativeDriver","start","handleKeyboardHide","animateToIndex","setValue","parallel","easing","finished","tab","forEach","offset","useEffect","useIsKeyboardShown","onShow","onHide","prevNavigationState","useRef","current","handleTabPress","event","defaultPrevented","preventDefault","jumpTo","findIndex","colors","dark","isDarkTheme","mode","backgroundColor","customBackground","elevation","StyleSheet","flatten","approxBackgroundColor","overlay","surface","primary","v2BackgroundColorInterpolation","interpolate","inputRange","outputRange","level2","isDark","isLight","textColor","white","black","activeTintColor","onSecondaryContainer","inactiveTintColor","onSurfaceVariant","alpha","rgb","string","touchColor","maxTabWidth","maxTabBarWidth","tabBarWidth","Math","min","width","tabWidth","rippleSize","insets","styles","container","content","background","focused","opacity","top","zIndex","absoluteFill","needsOffscreenAlphaCompositing","transform","translateX","translateY","bar","height","position","measured","barContent","items","marginBottom","marginHorizontal","max","maxWidth","ripple","borderRadius","active","activeOpacity","inactiveOpacity","v3ActiveOpacity","v3InactiveOpacity","outlineScale","activeLabelColor","onSurface","inactiveLabelColor","badgeStyle","String","isV3Shifting","font","fonts","labelMedium","onPress","accessibilityRole","accessibilityState","selected","item","v3Item","v3TouchableContainer","v3NoLabelContainer","iconContainer","v3IconContainer","outline","scaleX","secondaryContainer","iconWrapper","v3IconWrapper","focusedIcon","unfocusedIcon","badgeContainer","labelContainer","labelWrapper","label","SceneMap","scenes","withInternalTheme","create","flex","overflow","alignItems","flexDirection","paddingVertical","marginTop","alignSelf","justifyContent","absoluteFillObject","paddingBottom","fontSize","textAlign","whiteSpace","paddingTop"],"sources":["BottomNavigation.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport {\r\n\tAnimated,\r\n\tEasingFunction,\r\n\tPlatform,\r\n\tStyleProp,\r\n\tStyleSheet,\r\n\tTouchableWithoutFeedback,\r\n\tTouchableWithoutFeedbackProps,\r\n\tView,\r\n\tViewStyle,\r\n} from 'react-native';\r\n\r\nimport color from 'color';\r\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\r\n\r\nimport BottomNavigationRouteScreen from './BottomNavigationRouteScreen';\r\nimport { withInternalTheme } from '../../core/theming';\r\nimport overlay from '../../styles/overlay';\r\nimport { black, white } from '../../styles/themes/v2/colors';\r\nimport type { InternalTheme } from '../../types';\r\nimport useAnimatedValue from '../../utils/useAnimatedValue';\r\nimport useAnimatedValueArray from '../../utils/useAnimatedValueArray';\r\nimport useIsKeyboardShown from '../../utils/useIsKeyboardShown';\r\nimport useLayout from '../../utils/useLayout';\r\nimport Badge from '../Badge';\r\nimport Icon, { IconSource } from '../Icon';\r\nimport Surface from '../Surface';\r\nimport TouchableRipple from '../TouchableRipple/TouchableRipple';\r\nimport Text from '../Typography/Text';\r\n\r\ntype Route = {\r\n\tkey: string;\r\n\ttitle?: string;\r\n\tfocusedIcon?: IconSource;\r\n\tunfocusedIcon?: IconSource;\r\n\tbadge?: string | number | boolean;\r\n\tcolor?: string;\r\n\taccessibilityLabel?: string;\r\n\ttestID?: string;\r\n\tlazy?: boolean;\r\n};\r\n\r\ntype NavigationState = {\r\n\tindex: number;\r\n\troutes: Route[];\r\n};\r\n\r\ntype TabPressEvent = {\r\n\tdefaultPrevented: boolean;\r\n\tpreventDefault(): void;\r\n};\r\n\r\ntype TouchableProps = TouchableWithoutFeedbackProps & {\r\n\tkey: string;\r\n\troute: Route;\r\n\tchildren: React.ReactNode;\r\n\tborderless?: boolean;\r\n\tcentered?: boolean;\r\n\trippleColor?: string;\r\n};\r\n\r\nexport type Props = {\r\n\t/**\r\n\t * Whether the shifting style is used, the active tab icon shifts up to show the label and the inactive tabs won't have a label.\r\n\t *\r\n\t * By default, this is `false` with theme version 3 and `true` when you have more than 3 tabs.\r\n\t * Pass `shifting={false}` to explicitly disable this animation, or `shifting={true}` to always use this animation.\r\n\t * Note that you need at least 2 tabs be able to run this animation.\r\n\t */\r\n\tshifting?: boolean;\r\n\t/**\r\n\t * Whether to show labels in tabs. When `false`, only icons will be displayed.\r\n\t */\r\n\tlabeled?: boolean;\r\n\t/**\r\n\t * Whether tabs should be spread across the entire width.\r\n\t */\r\n\tcompact?: boolean;\r\n\t/**\r\n\t * State for the bottom navigation. The state should contain the following properties:\r\n\t *\r\n\t * - `index`: a number representing the index of the active route in the `routes` array\r\n\t * - `routes`: an array containing a list of route objects used for rendering the tabs\r\n\t *\r\n\t * Each route object should contain the following properties:\r\n\t *\r\n\t * - `key`: a unique key to identify the route (required)\r\n\t * - `title`: title of the route to use as the tab label\r\n\t * - `focusedIcon`:  icon to use as the focused tab icon, can be a string, an image source or a react component @renamed Renamed from 'icon' to 'focusedIcon' in v5.x\r\n\t * - `unfocusedIcon`:  icon to use as the unfocused tab icon, can be a string, an image source or a react component @supported Available in v5.x with theme version 3\r\n\t * - `color`: color to use as background color for shifting bottom navigation @deprecated Deprecated in v5.x\r\n\t * - `badge`: badge to show on the tab icon, can be `true` to show a dot, `string` or `number` to show text.\r\n\t * - `accessibilityLabel`: accessibility label for the tab button\r\n\t * - `testID`: test id for the tab button\r\n\t *\r\n\t * Example:\r\n\t *\r\n\t * ```js\r\n\t * {\r\n\t *   index: 1,\r\n\t *   routes: [\r\n\t *     { key: 'music', title: 'Favorites', focusedIcon: 'heart', unfocusedIcon: 'heart-outline'},\r\n\t *     { key: 'albums', title: 'Albums', focusedIcon: 'album' },\r\n\t *     { key: 'recents', title: 'Recents', focusedIcon: 'history' },\r\n\t *     { key: 'notifications', title: 'Notifications', focusedIcon: 'bell', unfocusedIcon: 'bell-outline' },\r\n\t *   ]\r\n\t * }\r\n\t * ```\r\n\t *\r\n\t * `BottomNavigation` is a controlled component, which means the `index` needs to be updated via the `onIndexChange` callback.\r\n\t */\r\n\tnavigationState: NavigationState;\r\n\t/**\r\n\t * Callback which is called on tab change, receives the index of the new tab as argument.\r\n\t * The navigation state needs to be updated when it's called, otherwise the change is dropped.\r\n\t */\r\n\tonIndexChange: (index: number) => void;\r\n\t/**\r\n\t * Callback which returns a react element to render as the page for the tab. Receives an object containing the route as the argument:\r\n\t *\r\n\t * ```js\r\n\t * renderScene = ({ route, jumpTo }) => {\r\n\t *   switch (route.key) {\r\n\t *     case 'music':\r\n\t *       return <MusicRoute jumpTo={jumpTo} />;\r\n\t *     case 'albums':\r\n\t *       return <AlbumsRoute jumpTo={jumpTo} />;\r\n\t *   }\r\n\t * }\r\n\t * ```\r\n\t *\r\n\t * Pages are lazily rendered, which means that a page will be rendered the first time you navigate to it.\r\n\t * After initial render, all the pages stay rendered to preserve their state.\r\n\t *\r\n\t * You need to make sure that your individual routes implement a `shouldComponentUpdate` to improve the performance.\r\n\t * To make it easier to specify the components, you can use the `SceneMap` helper:\r\n\t *\r\n\t * ```js\r\n\t * renderScene = BottomNavigation.SceneMap({\r\n\t *   music: MusicRoute,\r\n\t *   albums: AlbumsRoute,\r\n\t * });\r\n\t * ```\r\n\t *\r\n\t * Specifying the components this way is easier and takes care of implementing a `shouldComponentUpdate` method.\r\n\t * Each component will receive the current route and a `jumpTo` method as it's props.\r\n\t * The `jumpTo` method can be used to navigate to other tabs programmatically:\r\n\t *\r\n\t * ```js\r\n\t * this.props.jumpTo('albums')\r\n\t * ```\r\n\t */\r\n\trenderScene: (props: {\r\n\t\troute: Route;\r\n\t\tjumpTo: (key: string) => void;\r\n\t}) => React.ReactNode | null;\r\n\t/**\r\n\t * Callback which returns a React Element to be used as tab icon.\r\n\t */\r\n\trenderIcon?: (props: {\r\n\t\troute: Route;\r\n\t\tfocused: boolean;\r\n\t\tcolor: string;\r\n\t}) => React.ReactNode;\r\n\t/**\r\n\t * Callback which React Element to be used as tab label.\r\n\t */\r\n\trenderLabel?: (props: {\r\n\t\troute: Route;\r\n\t\tfocused: boolean;\r\n\t\tcolor: string;\r\n\t}) => React.ReactNode;\r\n\t/**\r\n\t * Callback which returns a React element to be used as the touchable for the tab item.\r\n\t * Renders a `TouchableRipple` on Android and `TouchableWithoutFeedback` with `View` on iOS.\r\n\t */\r\n\trenderTouchable?: (props: TouchableProps) => React.ReactNode;\r\n\t/**\r\n\t * Get accessibility label for the tab button. This is read by the screen reader when the user taps the tab.\r\n\t * Uses `route.accessibilityLabel` by default.\r\n\t */\r\n\tgetAccessibilityLabel?: (props: { route: Route }) => string | undefined;\r\n\t/**\r\n\t * Get badge for the tab, uses `route.badge` by default.\r\n\t */\r\n\tgetBadge?: (props: {\r\n\t\troute: Route;\r\n\t}) => boolean | number | string | undefined;\r\n\t/**\r\n\t * Get color for the tab, uses `route.color` by default.\r\n\t */\r\n\tgetColor?: (props: { route: Route }) => string | undefined;\r\n\t/**\r\n\t * Get label text for the tab, uses `route.title` by default. Use `renderLabel` to replace label component.\r\n\t */\r\n\tgetLabelText?: (props: { route: Route }) => string | undefined;\r\n\t/**\r\n\t * Get lazy for the current screen. Uses true by default.\r\n\t */\r\n\tgetLazy?: (props: { route: Route }) => boolean | undefined;\r\n\t/**\r\n\t * Get the id to locate this tab button in tests, uses `route.testID` by default.\r\n\t */\r\n\tgetTestID?: (props: { route: Route }) => string | undefined;\r\n\t/**\r\n\t * Function to execute on tab press. It receives the route for the pressed tab, useful for things like scroll to top.\r\n\t */\r\n\tonTabPress?: (props: { route: Route } & TabPressEvent) => void;\r\n\t/**\r\n\t * Custom color for icon and label in the active tab.\r\n\t */\r\n\tactiveColor?: string;\r\n\t/**\r\n\t * Custom color for icon and label in the inactive tab.\r\n\t */\r\n\tinactiveColor?: string;\r\n\t/**\r\n\t * Whether animation is enabled for scenes transitions in `shifting` mode.\r\n\t * By default, the scenes cross-fade during tab change when `shifting` is enabled.\r\n\t * Specify `sceneAnimationEnabled` as `false` to disable the animation.\r\n\t */\r\n\tsceneAnimationEnabled?: boolean;\r\n\t/**\r\n\t * The scene animation effect. Specify `'shifting'` for a different effect.\r\n\t * By default, 'opacity' will be used.\r\n\t */\r\n\tsceneAnimationType?: 'opacity' | 'shifting';\r\n\t/**\r\n\t * The scene animation Easing.\r\n\t */\r\n\tsceneAnimationEasing?: EasingFunction | undefined;\r\n\t/**\r\n\t * Whether the bottom navigation bar is hidden when keyboard is shown.\r\n\t * On Android, this works best when [`windowSoftInputMode`](https://developer.android.com/guide/topics/manifest/activity-element#wsoft) is set to `adjustResize`.\r\n\t */\r\n\tkeyboardHidesNavigationBar?: boolean;\r\n\t/**\r\n\t * Safe area insets for the tab bar. This can be used to avoid elements like the navigation bar on Android and bottom safe area on iOS.\r\n\t * The bottom insets for iOS is added by default. You can override the behavior with this option.\r\n\t */\r\n\tsafeAreaInsets?: {\r\n\t\ttop?: number;\r\n\t\tright?: number;\r\n\t\tbottom?: number;\r\n\t\tleft?: number;\r\n\t};\r\n\t/**\r\n\t * Style for the bottom navigation bar.  You can pass a custom background color here:\r\n\t *\r\n\t * ```js\r\n\t * barStyle={{ backgroundColor: '#694fad' }}\r\n\t * ```\r\n\t */\r\n\tbarStyle?: StyleProp<ViewStyle>;\r\n\t/**\r\n\t * Specifies the largest possible scale a label font can reach.\r\n\t */\r\n\tlabelMaxFontSizeMultiplier?: number;\r\n\tstyle?: StyleProp<ViewStyle>;\r\n\t/**\r\n\t * @optional\r\n\t */\r\n\ttheme: InternalTheme;\r\n\t/**\r\n\t * TestID used for testing purposes\r\n\t */\r\n\ttestID?: string;\r\n};\r\n\r\nconst MIN_RIPPLE_SCALE = 0.001; // Minimum scale is not 0 due to bug with animation\r\nconst MIN_TAB_WIDTH = 96;\r\nconst MAX_TAB_WIDTH = 168;\r\nconst BAR_HEIGHT = 56;\r\nconst FAR_FAR_AWAY = Platform.OS === 'web' ? 0 : 9999;\r\nconst OUTLINE_WIDTH = 64;\r\n\r\nconst Touchable = ({\r\n\troute: _0,\r\n\tstyle,\r\n\tchildren,\r\n\tborderless,\r\n\tcentered,\r\n\trippleColor,\r\n\t...rest\r\n}: TouchableProps) =>\r\n\tTouchableRipple.supported ? (\r\n\t\t<TouchableRipple\r\n\t\t\t{...rest}\r\n\t\t\tdisabled={rest.disabled || undefined}\r\n\t\t\tborderless={borderless}\r\n\t\t\tcentered={centered}\r\n\t\t\trippleColor={rippleColor}\r\n\t\t\tstyle={style}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</TouchableRipple>\r\n\t) : (\r\n\t\t<TouchableWithoutFeedback {...rest}>\r\n\t\t\t<View style={style}>{children}</View>\r\n\t\t</TouchableWithoutFeedback>\r\n\t);\r\n\r\nconst SceneComponent = React.memo(({ component, ...rest }: any) =>\r\n\tReact.createElement(component, rest)\r\n);\r\n\r\n/**\r\n * Bottom navigation provides quick navigation between top-level views of an app with a bottom navigation bar.\r\n * It is primarily designed for use on mobile.\r\n *\r\n * For integration with React Navigation, you can use [react-navigation-material-bottom-tabs](https://github.com/react-navigation/react-navigation/tree/main/packages/material-bottom-tabs) and consult [createMaterialBottomTabNavigator](https://reactnavigation.org/docs/material-bottom-tab-navigator/) documentation.\r\n *\r\n * By default Bottom navigation uses primary color as a background, in dark theme with `adaptive` mode it will use surface colour instead.\r\n * See [Dark InternalTheme](https://callstack.github.io/react-native-paper/theming.html#dark-theme) for more information.\r\n *\r\n * <div class=\"screenshots\">\r\n *   <img class=\"small\" src=\"screenshots/bottom-navigation.gif\" />\r\n * </div>\r\n *\r\n * ## Usage\r\n * ```js\r\n * import * as React from 'react';\r\n * import { BottomNavigation, Text } from 'react-native-paper';\r\n *\r\n * const MusicRoute = () => <Text>Music</Text>;\r\n *\r\n * const AlbumsRoute = () => <Text>Albums</Text>;\r\n *\r\n * const RecentsRoute = () => <Text>Recents</Text>;\r\n *\r\n * const NotificationsRoute = () => <Text>Notifications</Text>;\r\n *\r\n * const MyComponent = () => {\r\n *   const [index, setIndex] = React.useState(0);\r\n *   const [routes] = React.useState([\r\n *     { key: 'music', title: 'Favorites', focusedIcon: 'heart', unfocusedIcon: 'heart-outline'},\r\n *     { key: 'albums', title: 'Albums', focusedIcon: 'album' },\r\n *     { key: 'recents', title: 'Recents', focusedIcon: 'history' },\r\n *     { key: 'notifications', title: 'Notifications', focusedIcon: 'bell', unfocusedIcon: 'bell-outline' },\r\n *   ]);\r\n *\r\n *   const renderScene = BottomNavigation.SceneMap({\r\n *     music: MusicRoute,\r\n *     albums: AlbumsRoute,\r\n *     recents: RecentsRoute,\r\n *     notifications: NotificationsRoute,\r\n *   });\r\n *\r\n *   return (\r\n *     <BottomNavigation\r\n *       navigationState={{ index, routes }}\r\n *       onIndexChange={setIndex}\r\n *       renderScene={renderScene}\r\n *     />\r\n *   );\r\n * };\r\n *\r\n * export default MyComponent;\r\n * ```\r\n */\r\nconst BottomNavigation = ({\r\n\tnavigationState,\r\n\trenderScene,\r\n\trenderIcon,\r\n\trenderLabel,\r\n\trenderTouchable = (props: TouchableProps) => <Touchable {...props} />,\r\n\tgetLabelText = ({ route }: { route: Route }) => route.title,\r\n\tgetBadge = ({ route }: { route: Route }) => route.badge,\r\n\tgetColor = ({ route }: { route: Route }) => route.color,\r\n\tgetAccessibilityLabel = ({ route }: { route: Route }) =>\r\n\t\troute.accessibilityLabel,\r\n\tgetTestID = ({ route }: { route: Route }) => route.testID,\r\n\tactiveColor,\r\n\tinactiveColor,\r\n\tkeyboardHidesNavigationBar = Platform.OS === 'android',\r\n\tbarStyle,\r\n\tlabeled = true,\r\n\tstyle,\r\n\ttheme,\r\n\tsceneAnimationEnabled = false,\r\n\tsceneAnimationType = 'opacity',\r\n\tsceneAnimationEasing,\r\n\tonTabPress,\r\n\tonIndexChange,\r\n\tshifting = theme.isV3 ? false : navigationState.routes.length > 3,\r\n\tsafeAreaInsets,\r\n\tlabelMaxFontSizeMultiplier = 1,\r\n\tcompact = !theme.isV3,\r\n\ttestID = 'bottom-navigation',\r\n\tgetLazy = ({ route }: { route: Route }) => route.lazy,\r\n}: Props) => {\r\n\tconst { bottom, left, right } = useSafeAreaInsets();\r\n\tconst { scale } = theme.animation;\r\n\r\n\tif (shifting && navigationState.routes.length < 2) {\r\n\t\tshifting = false;\r\n\r\n\t\tconsole.warn(\r\n\t\t\t'BottomNavigation needs at least 2 tabs to run shifting animation'\r\n\t\t);\r\n\t}\r\n\r\n\tconst focusedKey = navigationState.routes[navigationState.index].key;\r\n\r\n\t/**\r\n\t * Visibility of the navigation bar, visible state is 1 and invisible is 0.\r\n\t */\r\n\tconst visibleAnim = useAnimatedValue(1);\r\n\r\n\t/**\r\n\t * Active state of individual tab items, active state is 1 and inactive state is 0.\r\n\t */\r\n\tconst tabsAnims = useAnimatedValueArray(\r\n\t\tnavigationState.routes.map(\r\n\t\t\t// focused === 1, unfocused === 0\r\n\t\t\t(_, i) => (i === navigationState.index ? 1 : 0)\r\n\t\t)\r\n\t);\r\n\r\n\t/**\r\n\t * Active state of individual tab item positions:\r\n\t * -1 if they're before the active tab, 0 if they're active, 1 if they're after the active tab\r\n\t */\r\n\tconst tabsPositionAnims = useAnimatedValueArray(\r\n\t\tnavigationState.routes.map((_, i) =>\r\n\t\t\ti === navigationState.index\r\n\t\t\t\t? 0\r\n\t\t\t\t: i >= navigationState.index\r\n\t\t\t\t? 1\r\n\t\t\t\t: -1\r\n\t\t)\r\n\t);\r\n\r\n\t/**\r\n\t * The top offset for each tab item to position it offscreen.\r\n\t * Placing items offscreen helps to save memory usage for inactive screens with removeClippedSubviews.\r\n\t * We use animated values for this to prevent unnecessary re-renders.\r\n\t */\r\n\tconst offsetsAnims = useAnimatedValueArray(\r\n\t\tnavigationState.routes.map(\r\n\t\t\t// offscreen === 1, normal === 0\r\n\t\t\t(_, i) => (i === navigationState.index ? 0 : 1)\r\n\t\t)\r\n\t);\r\n\r\n\t/**\r\n\t * Index of the currently active tab. Used for setting the background color.\r\n\t * We don't use the color as an animated value directly, because `setValue` seems to be buggy with colors?.\r\n\t */\r\n\tconst indexAnim = useAnimatedValue(navigationState.index);\r\n\r\n\t/**\r\n\t * Animation for the background color ripple, used to determine it's scale and opacity.\r\n\t */\r\n\tconst rippleAnim = useAnimatedValue(MIN_RIPPLE_SCALE);\r\n\r\n\t/**\r\n\t * Layout of the navigation bar. The width is used to determine the size and position of the ripple.\r\n\t */\r\n\tconst [layout, onLayout] = useLayout();\r\n\r\n\t/**\r\n\t * List of loaded tabs, tabs will be loaded when navigated to.\r\n\t */\r\n\tconst [loaded, setLoaded] = React.useState<string[]>([focusedKey]);\r\n\r\n\tif (!loaded.includes(focusedKey)) {\r\n\t\t// Set the current tab to be loaded if it was not loaded before\r\n\t\tsetLoaded((loaded) => [...loaded, focusedKey]);\r\n\t}\r\n\r\n\t/**\r\n\t * Track whether the keyboard is visible to show and hide the navigation bar.\r\n\t */\r\n\tconst [keyboardVisible, setKeyboardVisible] = React.useState(false);\r\n\r\n\tconst handleKeyboardShow = React.useCallback(() => {\r\n\t\tsetKeyboardVisible(true);\r\n\t\tAnimated.timing(visibleAnim, {\r\n\t\t\ttoValue: 0,\r\n\t\t\tduration: 150 * scale,\r\n\t\t\tuseNativeDriver: true,\r\n\t\t}).start();\r\n\t}, [scale, visibleAnim]);\r\n\r\n\tconst handleKeyboardHide = React.useCallback(() => {\r\n\t\tAnimated.timing(visibleAnim, {\r\n\t\t\ttoValue: 1,\r\n\t\t\tduration: 100 * scale,\r\n\t\t\tuseNativeDriver: true,\r\n\t\t}).start(() => {\r\n\t\t\tsetKeyboardVisible(false);\r\n\t\t});\r\n\t}, [scale, visibleAnim]);\r\n\r\n\tconst animateToIndex = React.useCallback(\r\n\t\t(index: number) => {\r\n\t\t\t// Reset the ripple to avoid glitch if it's currently animating\r\n\t\t\trippleAnim.setValue(MIN_RIPPLE_SCALE);\r\n\r\n\t\t\tAnimated.parallel([\r\n\t\t\t\tAnimated.timing(rippleAnim, {\r\n\t\t\t\t\ttoValue: 1,\r\n\t\t\t\t\tduration: theme.isV3 || shifting ? 400 * scale : 0,\r\n\t\t\t\t\tuseNativeDriver: true,\r\n\t\t\t\t}),\r\n\t\t\t\t...navigationState.routes.map((_, i) =>\r\n\t\t\t\t\tAnimated.timing(tabsAnims[i], {\r\n\t\t\t\t\t\ttoValue: i === index ? 1 : 0,\r\n\t\t\t\t\t\tduration: theme.isV3 || shifting ? 150 * scale : 0,\r\n\t\t\t\t\t\tuseNativeDriver: true,\r\n\t\t\t\t\t\teasing: sceneAnimationEasing,\r\n\t\t\t\t\t})\r\n\t\t\t\t),\r\n\t\t\t\t...navigationState.routes.map((_, i) =>\r\n\t\t\t\t\tAnimated.timing(tabsPositionAnims[i], {\r\n\t\t\t\t\t\ttoValue: i === index ? 0 : i >= index ? 1 : -1,\r\n\t\t\t\t\t\tduration: theme.isV3 || shifting ? 150 * scale : 0,\r\n\t\t\t\t\t\tuseNativeDriver: true,\r\n\t\t\t\t\t\teasing: sceneAnimationEasing,\r\n\t\t\t\t\t})\r\n\t\t\t\t),\r\n\t\t\t]).start(({ finished }) => {\r\n\t\t\t\t// Workaround a bug in native animations where this is reset after first animation\r\n\t\t\t\ttabsAnims.map((tab, i) => tab.setValue(i === index ? 1 : 0));\r\n\r\n\t\t\t\t// Update the index to change bar's background color and then hide the ripple\r\n\t\t\t\tindexAnim.setValue(index);\r\n\t\t\t\trippleAnim.setValue(MIN_RIPPLE_SCALE);\r\n\r\n\t\t\t\tif (finished) {\r\n\t\t\t\t\t// Position all inactive screens offscreen to save memory usage\r\n\t\t\t\t\t// Only do it when animation has finished to avoid glitches mid-transition if switching fast\r\n\t\t\t\t\toffsetsAnims.forEach((offset, i) => {\r\n\t\t\t\t\t\tif (i === index) {\r\n\t\t\t\t\t\t\toffset.setValue(0);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\toffset.setValue(1);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t\t[\r\n\t\t\tindexAnim,\r\n\t\t\tshifting,\r\n\t\t\tnavigationState.routes,\r\n\t\t\toffsetsAnims,\r\n\t\t\trippleAnim,\r\n\t\t\tscale,\r\n\t\t\ttabsAnims,\r\n\t\t\ttabsPositionAnims,\r\n\t\t\tsceneAnimationEasing,\r\n\t\t\ttheme,\r\n\t\t]\r\n\t);\r\n\r\n\tReact.useEffect(() => {\r\n\t\t// Workaround for native animated bug in react-native@^0.57\r\n\t\t// Context: https://github.com/callstack/react-native-paper/pull/637\r\n\t\tanimateToIndex(navigationState.index);\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tuseIsKeyboardShown({\r\n\t\tonShow: handleKeyboardShow,\r\n\t\tonHide: handleKeyboardHide,\r\n\t});\r\n\r\n\tconst prevNavigationState = React.useRef<NavigationState>();\r\n\r\n\tReact.useEffect(() => {\r\n\t\t// Reset offsets of previous and current tabs before animation\r\n\t\toffsetsAnims.forEach((offset, i) => {\r\n\t\t\tif (\r\n\t\t\t\ti === navigationState.index ||\r\n\t\t\t\ti === prevNavigationState.current?.index\r\n\t\t\t) {\r\n\t\t\t\toffset.setValue(0);\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tanimateToIndex(navigationState.index);\r\n\t}, [navigationState.index, animateToIndex, offsetsAnims]);\r\n\r\n\tconst handleTabPress = (index: number) => {\r\n\t\tconst event = {\r\n\t\t\troute: navigationState.routes[index],\r\n\t\t\tdefaultPrevented: false,\r\n\t\t\tpreventDefault: () => {\r\n\t\t\t\tevent.defaultPrevented = true;\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\tonTabPress?.(event);\r\n\r\n\t\tif (event.defaultPrevented) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif (index !== navigationState.index) {\r\n\t\t\tonIndexChange(index);\r\n\t\t}\r\n\t};\r\n\r\n\tconst jumpTo = React.useCallback(\r\n\t\t(key: string) => {\r\n\t\t\tconst index = navigationState.routes.findIndex(\r\n\t\t\t\t(route) => route.key === key\r\n\t\t\t);\r\n\r\n\t\t\tonIndexChange(index);\r\n\t\t},\r\n\t\t[navigationState.routes, onIndexChange]\r\n\t);\r\n\r\n\tconst { routes } = navigationState;\r\n\tconst { colors, dark: isDarkTheme, mode, isV3 } = theme;\r\n\r\n\tconst { backgroundColor: customBackground, elevation = 4 }: ViewStyle =\r\n\t\tStyleSheet.flatten(barStyle) || {};\r\n\r\n\tconst approxBackgroundColor = customBackground\r\n\t\t? customBackground\r\n\t\t: isDarkTheme && mode === 'adaptive'\r\n\t\t? overlay(elevation, colors?.surface)\r\n\t\t: colors?.primary;\r\n\r\n\tconst v2BackgroundColorInterpolation = shifting\r\n\t\t? indexAnim.interpolate({\r\n\t\t\t\tinputRange: routes.map((_, i) => i),\r\n\t\t\t\t/* @ts-ignore */\r\n\t\t\t\toutputRange: routes.map(\r\n\t\t\t\t\t(route) => getColor({ route }) || approxBackgroundColor\r\n\t\t\t\t),\r\n\t\t  })\r\n\t\t: approxBackgroundColor;\r\n\r\n\tconst backgroundColor = isV3\r\n\t\t? customBackground || theme.colors.elevation.level2\r\n\t\t: shifting\r\n\t\t? v2BackgroundColorInterpolation\r\n\t\t: approxBackgroundColor;\r\n\r\n\tconst isDark =\r\n\t\ttypeof approxBackgroundColor === 'string'\r\n\t\t\t? !color(approxBackgroundColor).isLight()\r\n\t\t\t: true;\r\n\r\n\tconst textColor = isDark ? white : black;\r\n\r\n\tconst activeTintColor =\r\n\t\ttypeof activeColor !== 'undefined'\r\n\t\t\t? activeColor\r\n\t\t\t: isV3\r\n\t\t\t? theme.colors.onSecondaryContainer\r\n\t\t\t: textColor;\r\n\r\n\tconst inactiveTintColor =\r\n\t\ttypeof inactiveColor !== 'undefined'\r\n\t\t\t? inactiveColor\r\n\t\t\t: isV3\r\n\t\t\t? theme.colors.onSurfaceVariant\r\n\t\t\t: color(textColor).alpha(0.5).rgb().string();\r\n\r\n\tconst touchColor = color(activeColor || activeTintColor)\r\n\t\t.alpha(0.12)\r\n\t\t.rgb()\r\n\t\t.string();\r\n\r\n\tconst maxTabWidth = routes.length > 3 ? MIN_TAB_WIDTH : MAX_TAB_WIDTH;\r\n\tconst maxTabBarWidth = maxTabWidth * routes.length;\r\n\r\n\tconst tabBarWidth = Math.min(layout.width, maxTabBarWidth);\r\n\tconst tabWidth = tabBarWidth / routes.length;\r\n\r\n\tconst rippleSize = layout.width / 4;\r\n\r\n\tconst insets = {\r\n\t\tleft: safeAreaInsets?.left ?? left,\r\n\t\tright: safeAreaInsets?.right ?? right,\r\n\t\tbottom: safeAreaInsets?.bottom ?? bottom,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<View style={[styles.container, style]} testID={testID}>\r\n\t\t\t<View\r\n\t\t\t\tstyle={[\r\n\t\t\t\t\tstyles.content,\r\n\t\t\t\t\t{ backgroundColor: colors?.background },\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t{routes.map((route, index) => {\r\n\t\t\t\t\tif (\r\n\t\t\t\t\t\tgetLazy({ route }) !== false &&\r\n\t\t\t\t\t\t!loaded.includes(route.key)\r\n\t\t\t\t\t) {\r\n\t\t\t\t\t\t// Don't render a screen if we've never navigated to it\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst focused = navigationState.index === index;\r\n\r\n\t\t\t\t\tconst opacity = sceneAnimationEnabled\r\n\t\t\t\t\t\t? tabsPositionAnims[index].interpolate({\r\n\t\t\t\t\t\t\t\tinputRange: [-1, 0, 1],\r\n\t\t\t\t\t\t\t\toutputRange: [0, 1, 0],\r\n\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t: focused\r\n\t\t\t\t\t\t? 1\r\n\t\t\t\t\t\t: 0;\r\n\r\n\t\t\t\t\tconst top = sceneAnimationEnabled\r\n\t\t\t\t\t\t? offsetsAnims[index].interpolate({\r\n\t\t\t\t\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\t\t\t\t\toutputRange: [0, FAR_FAR_AWAY],\r\n\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t: focused\r\n\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t: FAR_FAR_AWAY;\r\n\r\n\t\t\t\t\tconst left =\r\n\t\t\t\t\t\tsceneAnimationType === 'shifting'\r\n\t\t\t\t\t\t\t? tabsPositionAnims[index].interpolate({\r\n\t\t\t\t\t\t\t\t\tinputRange: [-1, 0, 1],\r\n\t\t\t\t\t\t\t\t\toutputRange: [-50, 0, 50],\r\n\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t: 0;\r\n\r\n\t\t\t\t\tconst zIndex = focused ? 1 : 0;\r\n\r\n\t\t\t\t\treturn (\r\n\t\t\t\t\t\t<BottomNavigationRouteScreen\r\n\t\t\t\t\t\t\tkey={route.key}\r\n\t\t\t\t\t\t\tpointerEvents={focused ? 'auto' : 'none'}\r\n\t\t\t\t\t\t\taccessibilityElementsHidden={!focused}\r\n\t\t\t\t\t\t\timportantForAccessibility={\r\n\t\t\t\t\t\t\t\tfocused ? 'auto' : 'no-hide-descendants'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tindex={index}\r\n\t\t\t\t\t\t\tvisibility={opacity}\r\n\t\t\t\t\t\t\tstyle={[StyleSheet.absoluteFill, { zIndex }]}\r\n\t\t\t\t\t\t\tcollapsable={false}\r\n\t\t\t\t\t\t\tremoveClippedSubviews={\r\n\t\t\t\t\t\t\t\t// On iOS, set removeClippedSubviews to true only when not focused\r\n\t\t\t\t\t\t\t\t// This is an workaround for a bug where the clipped view never re-appears\r\n\t\t\t\t\t\t\t\tPlatform.OS === 'ios'\r\n\t\t\t\t\t\t\t\t\t? navigationState.index !== index\r\n\t\t\t\t\t\t\t\t\t: true\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\t{...(Platform.OS === 'android' && {\r\n\t\t\t\t\t\t\t\t\tneedsOffscreenAlphaCompositing:\r\n\t\t\t\t\t\t\t\t\t\tsceneAnimationEnabled,\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\trenderToHardwareTextureAndroid={\r\n\t\t\t\t\t\t\t\t\tsceneAnimationEnabled\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\tstyles.content,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\topacity: opacity,\r\n\t\t\t\t\t\t\t\t\t\ttransform: [\r\n\t\t\t\t\t\t\t\t\t\t\t{ translateX: left },\r\n\t\t\t\t\t\t\t\t\t\t\t{ translateY: top },\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{renderScene({ route, jumpTo })}\r\n\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t</BottomNavigationRouteScreen>\r\n\t\t\t\t\t);\r\n\t\t\t\t})}\r\n\t\t\t</View>\r\n\t\t\t<Surface\r\n\t\t\t\t{...(theme.isV3 && { elevation: 0 })}\r\n\t\t\t\tstyle={\r\n\t\t\t\t\t[\r\n\t\t\t\t\t\t!theme.isV3 && { elevation: 4 },\r\n\t\t\t\t\t\tstyles.bar,\r\n\t\t\t\t\t\tkeyboardHidesNavigationBar\r\n\t\t\t\t\t\t\t? {\r\n\t\t\t\t\t\t\t\t\t// When the keyboard is shown, slide down the navigation bar\r\n\t\t\t\t\t\t\t\t\ttransform: [\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttranslateY: visibleAnim.interpolate(\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toutputRange: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlayout.height,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t// Absolutely position the navigation bar so that the content is below it\r\n\t\t\t\t\t\t\t\t\t// This is needed to avoid gap at bottom when the navigation bar is hidden\r\n\t\t\t\t\t\t\t\t\tposition: keyboardVisible\r\n\t\t\t\t\t\t\t\t\t\t? 'absolute'\r\n\t\t\t\t\t\t\t\t\t\t: null,\r\n\t\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t\t: null,\r\n\t\t\t\t\t\tbarStyle,\r\n\t\t\t\t\t] as StyleProp<ViewStyle>\r\n\t\t\t\t}\r\n\t\t\t\tpointerEvents={\r\n\t\t\t\t\tlayout.measured\r\n\t\t\t\t\t\t? keyboardHidesNavigationBar && keyboardVisible\r\n\t\t\t\t\t\t\t? 'none'\r\n\t\t\t\t\t\t\t: 'auto'\r\n\t\t\t\t\t\t: 'none'\r\n\t\t\t\t}\r\n\t\t\t\tonLayout={onLayout}\r\n\t\t\t>\r\n\t\t\t\t<Animated.View\r\n\t\t\t\t\tstyle={[styles.barContent, { backgroundColor }]}\r\n\t\t\t\t\ttestID={`${testID}-bar-content`}\r\n\t\t\t\t>\r\n\t\t\t\t\t<View\r\n\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\tstyles.items,\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\tmarginBottom: insets.bottom,\r\n\t\t\t\t\t\t\t\tmarginHorizontal: Math.max(\r\n\t\t\t\t\t\t\t\t\tinsets.left,\r\n\t\t\t\t\t\t\t\t\tinsets.right\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcompact && {\r\n\t\t\t\t\t\t\t\tmaxWidth: maxTabBarWidth,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t\taccessibilityRole={'tablist'}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{shifting ? (\r\n\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\tpointerEvents=\"none\"\r\n\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\tstyles.ripple,\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t// Since we have a single ripple, we have to reposition it so that it appears to expand from active tab.\r\n\t\t\t\t\t\t\t\t\t\t// We need to move it from the top to center of the navigation bar and from the left to the active tab.\r\n\t\t\t\t\t\t\t\t\t\ttop: (BAR_HEIGHT - rippleSize) / 2,\r\n\t\t\t\t\t\t\t\t\t\tleft:\r\n\t\t\t\t\t\t\t\t\t\t\ttabWidth *\r\n\t\t\t\t\t\t\t\t\t\t\t\t(navigationState.index + 0.5) -\r\n\t\t\t\t\t\t\t\t\t\t\trippleSize / 2,\r\n\t\t\t\t\t\t\t\t\t\theight: rippleSize,\r\n\t\t\t\t\t\t\t\t\t\twidth: rippleSize,\r\n\t\t\t\t\t\t\t\t\t\tborderRadius: rippleSize / 2,\r\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: getColor({\r\n\t\t\t\t\t\t\t\t\t\t\troute: routes[\r\n\t\t\t\t\t\t\t\t\t\t\t\tnavigationState.index\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\ttransform: [\r\n\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t// Scale to twice the size  to ensure it covers the whole navigation bar\r\n\t\t\t\t\t\t\t\t\t\t\t\tscale: rippleAnim.interpolate({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\toutputRange: [0, 8],\r\n\t\t\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\topacity: rippleAnim.interpolate({\r\n\t\t\t\t\t\t\t\t\t\t\tinputRange: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t0,\r\n\t\t\t\t\t\t\t\t\t\t\t\tMIN_RIPPLE_SCALE,\r\n\t\t\t\t\t\t\t\t\t\t\t\t0.3,\r\n\t\t\t\t\t\t\t\t\t\t\t\t1,\r\n\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\toutputRange: [0, 0, 1, 1],\r\n\t\t\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t{routes.map((route, index) => {\r\n\t\t\t\t\t\t\tconst focused = navigationState.index === index;\r\n\t\t\t\t\t\t\tconst active = tabsAnims[index];\r\n\r\n\t\t\t\t\t\t\t// Scale the label up\r\n\t\t\t\t\t\t\tconst scale =\r\n\t\t\t\t\t\t\t\tlabeled && shifting\r\n\t\t\t\t\t\t\t\t\t? active.interpolate({\r\n\t\t\t\t\t\t\t\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\t\t\t\t\t\t\t\toutputRange: [0.5, 1],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t: 1;\r\n\r\n\t\t\t\t\t\t\t// Move down the icon to account for no-label in shifting and smaller label in non-shifting.\r\n\t\t\t\t\t\t\tconst translateY = labeled\r\n\t\t\t\t\t\t\t\t? shifting\r\n\t\t\t\t\t\t\t\t\t? active.interpolate({\r\n\t\t\t\t\t\t\t\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\t\t\t\t\t\t\t\toutputRange: [7, 0],\r\n\t\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t\t: 0\r\n\t\t\t\t\t\t\t\t: 7;\r\n\r\n\t\t\t\t\t\t\t// We render the active icon and label on top of inactive ones and cross-fade them on change.\r\n\t\t\t\t\t\t\t// This trick gives the illusion that we are animating between active and inactive colors.\r\n\t\t\t\t\t\t\t// This is to ensure that we can use native driver, as colors cannot be animated with native driver.\r\n\t\t\t\t\t\t\tconst activeOpacity = active;\r\n\t\t\t\t\t\t\tconst inactiveOpacity = active.interpolate({\r\n\t\t\t\t\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\t\t\t\t\toutputRange: [1, 0],\r\n\t\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\t\tconst v3ActiveOpacity = focused ? 1 : 0;\r\n\t\t\t\t\t\t\tconst v3InactiveOpacity = shifting\r\n\t\t\t\t\t\t\t\t? inactiveOpacity\r\n\t\t\t\t\t\t\t\t: focused\r\n\t\t\t\t\t\t\t\t? 0\r\n\t\t\t\t\t\t\t\t: 1;\r\n\r\n\t\t\t\t\t\t\t// Scale horizontally the outline pill\r\n\t\t\t\t\t\t\tconst outlineScale = focused\r\n\t\t\t\t\t\t\t\t? active.interpolate({\r\n\t\t\t\t\t\t\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\t\t\t\t\t\t\toutputRange: [0.5, 1],\r\n\t\t\t\t\t\t\t\t  })\r\n\t\t\t\t\t\t\t\t: 0;\r\n\r\n\t\t\t\t\t\t\tconst badge = getBadge({ route });\r\n\r\n\t\t\t\t\t\t\tconst activeLabelColor = !isV3\r\n\t\t\t\t\t\t\t\t? activeTintColor\r\n\t\t\t\t\t\t\t\t: focused\r\n\t\t\t\t\t\t\t\t? theme.colors.onSurface\r\n\t\t\t\t\t\t\t\t: theme.colors.onSurfaceVariant;\r\n\r\n\t\t\t\t\t\t\tconst inactiveLabelColor = !isV3\r\n\t\t\t\t\t\t\t\t? inactiveTintColor\r\n\t\t\t\t\t\t\t\t: focused\r\n\t\t\t\t\t\t\t\t? theme.colors.onSurface\r\n\t\t\t\t\t\t\t\t: theme.colors.onSurfaceVariant;\r\n\r\n\t\t\t\t\t\t\tconst badgeStyle = {\r\n\t\t\t\t\t\t\t\ttop: !isV3\r\n\t\t\t\t\t\t\t\t\t? -2\r\n\t\t\t\t\t\t\t\t\t: typeof badge === 'boolean'\r\n\t\t\t\t\t\t\t\t\t? 4\r\n\t\t\t\t\t\t\t\t\t: 2,\r\n\t\t\t\t\t\t\t\tright:\r\n\t\t\t\t\t\t\t\t\t(badge != null && typeof badge !== 'boolean'\r\n\t\t\t\t\t\t\t\t\t\t? String(badge).length * -2\r\n\t\t\t\t\t\t\t\t\t\t: 0) - (!isV3 ? 2 : 0),\r\n\t\t\t\t\t\t\t};\r\n\r\n\t\t\t\t\t\t\tconst isV3Shifting = isV3 && shifting && labeled;\r\n\r\n\t\t\t\t\t\t\tconst font = isV3 ? theme.fonts.labelMedium : {};\r\n\r\n\t\t\t\t\t\t\treturn renderTouchable({\r\n\t\t\t\t\t\t\t\tkey: route.key,\r\n\t\t\t\t\t\t\t\troute,\r\n\t\t\t\t\t\t\t\tborderless: true,\r\n\t\t\t\t\t\t\t\tcentered: true,\r\n\t\t\t\t\t\t\t\trippleColor: isV3 ? 'transparent' : touchColor,\r\n\t\t\t\t\t\t\t\tonPress: () => handleTabPress(index),\r\n\t\t\t\t\t\t\t\ttestID: getTestID({ route }),\r\n\t\t\t\t\t\t\t\taccessibilityLabel: getAccessibilityLabel({\r\n\t\t\t\t\t\t\t\t\troute,\r\n\t\t\t\t\t\t\t\t}),\r\n\t\t\t\t\t\t\t\taccessibilityRole:\r\n\t\t\t\t\t\t\t\t\tPlatform.OS === 'ios' ? 'button' : 'tab',\r\n\t\t\t\t\t\t\t\taccessibilityState: { selected: focused },\r\n\t\t\t\t\t\t\t\tstyle: [styles.item, isV3 && styles.v3Item],\r\n\t\t\t\t\t\t\t\tchildren: (\r\n\t\t\t\t\t\t\t\t\t<View\r\n\t\t\t\t\t\t\t\t\t\tpointerEvents=\"none\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\tisV3 &&\r\n\t\t\t\t\t\t\t\t\t\t\t(labeled\r\n\t\t\t\t\t\t\t\t\t\t\t\t? styles.v3TouchableContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t: styles.v3NoLabelContainer)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyles.iconContainer,\r\n\t\t\t\t\t\t\t\t\t\t\t\tisV3 && styles.v3IconContainer,\r\n\t\t\t\t\t\t\t\t\t\t\t\t(!isV3 || isV3Shifting) && {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: [{ translateY }],\r\n\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t{isV3 && focused && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.outline,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: [\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tscaleX: outlineScale,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttheme.colors\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t.secondaryContainer,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.iconWrapper,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisV3 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.v3IconWrapper,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topacity: isV3\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? v3ActiveOpacity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: activeOpacity,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{renderIcon ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderIcon({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\troute,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfocused: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: activeTintColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsource={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\troute.focusedIcon as IconSource\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={activeTintColor}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.iconWrapper,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tisV3 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.v3IconWrapper,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\topacity: isV3\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? v3InactiveOpacity\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: inactiveOpacity,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{renderIcon ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trenderIcon({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\troute,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfocused: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: inactiveTintColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Icon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsource={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\ttheme.isV3 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\troute.unfocusedIcon !==\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tundefined\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t? route.unfocusedIcon\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (route.focusedIcon as IconSource)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinactiveTintColor\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t\t\t\t\t\t<View\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.badgeContainer,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbadgeStyle,\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{typeof badge === 'boolean' ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible={badge}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={isV3 ? 6 : 8}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Badge\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvisible={badge != null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize={16}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{badge}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Badge>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t\t\t\t\t{labeled ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.labelContainer,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t!isV3 && {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttransform: [{ scale }],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.labelWrapper,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t(!isV3 ||\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tisV3Shifting) && {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topacity:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tactiveOpacity,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{renderLabel ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderLabel({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\troute,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfocused: true,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: activeLabelColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxFontSizeMultiplier={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelMaxFontSizeMultiplier\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"labelMedium\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: activeLabelColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...font,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{getLabelText({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\troute,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{shifting ? null : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Animated.View\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.labelWrapper,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\topacity:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tinactiveOpacity,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderLabel ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trenderLabel({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\troute,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfocused: false,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: inactiveLabelColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Text\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmaxFontSizeMultiplier={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelMaxFontSizeMultiplier\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"labelMedium\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tselectable={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfalse\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.label,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: inactiveLabelColor,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t...font,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{getLabelText({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\troute,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</Text>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</Animated.View>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t!isV3 && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<View\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyles.labelContainer\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</View>\r\n\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</View>\r\n\t\t\t\t</Animated.View>\r\n\t\t\t</Surface>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\n/**\r\n * Function which takes a map of route keys to components.\r\n * Pure components are used to minimize re-rendering of the pages.\r\n * This drastically improves the animation performance.\r\n */\r\nBottomNavigation.SceneMap = (scenes: {\r\n\t[key: string]: React.ComponentType<{\r\n\t\troute: Route;\r\n\t\tjumpTo: (key: string) => void;\r\n\t}>;\r\n}) => {\r\n\treturn ({\r\n\t\troute,\r\n\t\tjumpTo,\r\n\t}: {\r\n\t\troute: Route;\r\n\t\tjumpTo: (key: string) => void;\r\n\t}) => (\r\n\t\t<SceneComponent\r\n\t\t\tkey={route.key}\r\n\t\t\tcomponent={scenes[route.key ? route.key : '']}\r\n\t\t\troute={route}\r\n\t\t\tjumpTo={jumpTo}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default withInternalTheme(BottomNavigation);\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tflex: 1,\r\n\t\toverflow: 'hidden',\r\n\t},\r\n\tcontent: {\r\n\t\tflex: 1,\r\n\t},\r\n\tbar: {\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\tbottom: 0,\r\n\t},\r\n\tbarContent: {\r\n\t\talignItems: 'center',\r\n\t\toverflow: 'hidden',\r\n\t},\r\n\titems: {\r\n\t\tflexDirection: 'row',\r\n\t\t...(Platform.OS === 'web'\r\n\t\t\t? {\r\n\t\t\t\t\twidth: '100%',\r\n\t\t\t  }\r\n\t\t\t: null),\r\n\t},\r\n\titem: {\r\n\t\tflex: 1,\r\n\t\t// Top padding is 6 and bottom padding is 10\r\n\t\t// The extra 4dp bottom padding is offset by label's height\r\n\t\tpaddingVertical: 6,\r\n\t},\r\n\tv3Item: {\r\n\t\tpaddingVertical: 0,\r\n\t},\r\n\tripple: {\r\n\t\tposition: 'absolute',\r\n\t},\r\n\ticonContainer: {\r\n\t\theight: 24,\r\n\t\twidth: 24,\r\n\t\tmarginTop: 2,\r\n\t\tmarginHorizontal: 12,\r\n\t\talignSelf: 'center',\r\n\t},\r\n\tv3IconContainer: {\r\n\t\theight: 32,\r\n\t\twidth: 32,\r\n\t\tmarginBottom: 4,\r\n\t\tmarginTop: 0,\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\ticonWrapper: {\r\n\t\t...StyleSheet.absoluteFillObject,\r\n\t\talignItems: 'center',\r\n\t},\r\n\tv3IconWrapper: {\r\n\t\ttop: 4,\r\n\t},\r\n\tlabelContainer: {\r\n\t\theight: 16,\r\n\t\tpaddingBottom: 2,\r\n\t},\r\n\tlabelWrapper: {\r\n\t\t...StyleSheet.absoluteFillObject,\r\n\t},\r\n\t// eslint-disable-next-line react-native/no-color-literals\r\n\tlabel: {\r\n\t\tfontSize: 12,\r\n\t\theight: BAR_HEIGHT,\r\n\t\ttextAlign: 'center',\r\n\t\tbackgroundColor: 'transparent',\r\n\t\t...(Platform.OS === 'web'\r\n\t\t\t? {\r\n\t\t\t\t\twhiteSpace: 'nowrap',\r\n\t\t\t\t\talignSelf: 'center',\r\n\t\t\t  }\r\n\t\t\t: null),\r\n\t},\r\n\tbadgeContainer: {\r\n\t\tposition: 'absolute',\r\n\t\tleft: 0,\r\n\t},\r\n\tv3TouchableContainer: {\r\n\t\tpaddingTop: 12,\r\n\t\tpaddingBottom: 16,\r\n\t},\r\n\tv3NoLabelContainer: {\r\n\t\theight: 80,\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t},\r\n\toutline: {\r\n\t\twidth: OUTLINE_WIDTH,\r\n\t\theight: OUTLINE_WIDTH / 2,\r\n\t\tborderRadius: OUTLINE_WIDTH / 4,\r\n\t\talignSelf: 'center',\r\n\t},\r\n});\r\n"],"mappings":"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"}