{"version":3,"names":["getAppbarColor","theme","elevation","customBackground","elevated","isV3","dark","isDarkTheme","mode","colors","isAdaptiveMode","overlay","surface","primary","level2","DEFAULT_APPBAR_HEIGHT","MD3_DEFAULT_APPBAR_HEIGHT","modeAppbarHeight","small","medium","large","modeTextVariant","renderAppbarContent","children","isDark","shouldCenterContent","renderOnly","renderExcept","React","Children","toArray","filter","child","includes","type","map","i","isValidElement","AppbarContent","AppbarAction","AppbarBackAction","Tooltip","props","color","undefined","white","black","style","styles","v3Spacing","v2Spacing","centerAlignedContent","cloneElement","StyleSheet","create","alignItems","marginLeft"],"sources":["utils.ts"],"sourcesContent":["import React from 'react';\nimport type { ColorValue, StyleProp, ViewStyle } from 'react-native';\nimport { StyleSheet } from 'react-native';\n\nimport AppbarAction from './AppbarAction';\nimport AppbarBackAction from './AppbarBackAction';\nimport AppbarContent from './AppbarContent';\nimport overlay from '../../styles/overlay';\nimport { black, white } from '../../styles/themes/v2/colors';\nimport type { InternalTheme } from '../../types';\nimport Tooltip from '../Tooltip/Tooltip';\n\nexport type AppbarModes = 'small' | 'medium' | 'large' | 'center-aligned';\n\nexport const getAppbarColor = (\n\ttheme: InternalTheme,\n\televation: number,\n\tcustomBackground?: ColorValue,\n\televated?: boolean\n) => {\n\tconst { isV3, dark: isDarkTheme, mode, colors } = theme;\n\tconst isAdaptiveMode = mode === 'adaptive';\n\tif (customBackground) {\n\t\treturn customBackground;\n\t}\n\n\tif (!isV3) {\n\t\tif (isDarkTheme && isAdaptiveMode) {\n\t\t\treturn overlay(elevation, colors?.surface);\n\t\t}\n\n\t\treturn colors.primary;\n\t}\n\n\tif (elevated) {\n\t\treturn theme.colors.elevation.level2;\n\t}\n\n\treturn colors.surface;\n};\n\ntype RenderAppbarContentProps = {\n\tchildren: React.ReactNode;\n\tisDark: boolean;\n\tshouldCenterContent?: boolean;\n\tisV3: boolean;\n\trenderOnly?: React.ComponentType<any>[];\n\trenderExcept?: React.ComponentType<any>[];\n\tmode?: AppbarModes;\n};\n\nexport const DEFAULT_APPBAR_HEIGHT = 56;\nconst MD3_DEFAULT_APPBAR_HEIGHT = 64;\n\nexport const modeAppbarHeight = {\n\tsmall: MD3_DEFAULT_APPBAR_HEIGHT,\n\tmedium: 112,\n\tlarge: 152,\n\t'center-aligned': MD3_DEFAULT_APPBAR_HEIGHT,\n};\n\nexport const modeTextVariant = {\n\tsmall: 'titleLarge',\n\tmedium: 'headlineSmall',\n\tlarge: 'headlineMedium',\n\t'center-aligned': 'titleLarge',\n};\n\nexport const renderAppbarContent = ({\n\tchildren,\n\tisDark,\n\tshouldCenterContent = false,\n\tisV3,\n\trenderOnly,\n\trenderExcept,\n\tmode = 'small',\n}: RenderAppbarContentProps) => {\n\treturn (\n\t\tReact.Children.toArray(children as React.ReactNode | React.ReactNode[])\n\t\t\t.filter((child) => child != null && typeof child !== 'boolean')\n\t\t\t.filter((child) =>\n\t\t\t\t/* @ts-ignore */\n\t\t\t\trenderExcept ? !renderExcept.includes(child.type) : child\n\t\t\t)\n\t\t\t/* @ts-ignore */\n\t\t\t.filter((child) =>\n\t\t\t\t/* @ts-ignore */\n\t\t\t\trenderOnly ? renderOnly.includes(child.type) : child\n\t\t\t)\n\t\t\t.map((child, i) => {\n\t\t\t\tif (\n\t\t\t\t\t!React.isValidElement(child) ||\n\t\t\t\t\t![\n\t\t\t\t\t\tAppbarContent,\n\t\t\t\t\t\tAppbarAction,\n\t\t\t\t\t\tAppbarBackAction,\n\t\t\t\t\t\tTooltip,\n\t\t\t\t\t].includes(\n\t\t\t\t\t\t/* @ts-ignore */\n\t\t\t\t\t\tchild.type\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn child;\n\t\t\t\t}\n\n\t\t\t\tconst props: {\n\t\t\t\t\tcolor?: string;\n\t\t\t\t\tstyle?: StyleProp<ViewStyle>;\n\t\t\t\t\tmode?: AppbarModes;\n\t\t\t\t} = {\n\t\t\t\t\tcolor:\n\t\t\t\t\t\ttypeof child.props.color !== 'undefined'\n\t\t\t\t\t\t\t? child.props.color\n\t\t\t\t\t\t\t: isV3\n\t\t\t\t\t\t\t? undefined\n\t\t\t\t\t\t\t: isDark\n\t\t\t\t\t\t\t? white\n\t\t\t\t\t\t\t: black,\n\t\t\t\t};\n\n\t\t\t\tif (child.type === AppbarContent) {\n\t\t\t\t\tprops.mode = mode;\n\t\t\t\t\tprops.style = [\n\t\t\t\t\t\tisV3\n\t\t\t\t\t\t\t? i === 0 &&\n\t\t\t\t\t\t\t  !shouldCenterContent &&\n\t\t\t\t\t\t\t  styles.v3Spacing\n\t\t\t\t\t\t\t: i !== 0 && styles.v2Spacing,\n\t\t\t\t\t\tshouldCenterContent && styles.centerAlignedContent,\n\t\t\t\t\t\tchild.props.style,\n\t\t\t\t\t];\n\t\t\t\t}\n\t\t\t\treturn React.cloneElement(child, props);\n\t\t\t})\n\t);\n};\n\nconst styles = StyleSheet.create({\n\tcenterAlignedContent: {\n\t\talignItems: 'center',\n\t},\n\tv2Spacing: {\n\t\tmarginLeft: 8,\n\t},\n\tv3Spacing: {\n\t\tmarginLeft: 12,\n\t},\n});\n"],"mappings":"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"}