{"version":3,"names":["getAdornmentConfig","left","right","adornmentConfig","side","AdornmentSide","Left","adornment","Right","forEach","React","isValidElement","type","TextInputAffix","AdornmentType","Affix","TextInputIcon","Icon","push","getAdornmentStyleAdjustmentForNativeInput","leftAffixWidth","rightAffixWidth","paddingHorizontal","inputOffset","mode","isV3","OUTLINED_INPUT_OFFSET","ADORNMENT_OFFSET","getConstants","length","adornmentStyleAdjustmentForNativeInput","map","isLeftSide","inputModeAdornemntOffset","InputMode","Outlined","paddingKey","captalize","affixWidth","padding","offset","isAffix","marginKey","allStyleAdjustmentsMerged","reduce","mergedStyles","currentStyle","text","charAt","toUpperCase","slice","TextInputAdornment","onAffixChange","textStyle","visible","topPosition","isTextInputFocused","forceFocus","maxFontSizeMultiplier","inputAdornmentComponent","commonProps","testID"],"sources":["TextInputAdornment.tsx"],"sourcesContent":["import React from 'react';\nimport type {\n\tLayoutChangeEvent,\n\tTextStyle,\n\tStyleProp,\n\tAnimated,\n} from 'react-native';\n\nimport { AdornmentSide, AdornmentType, InputMode } from './enums';\nimport TextInputAffix, { AffixAdornment } from './TextInputAffix';\nimport TextInputIcon, { IconAdornment } from './TextInputIcon';\nimport type {\n\tAdornmentConfig,\n\tAdornmentStyleAdjustmentForNativeInput,\n} from './types';\nimport { getConstants } from '../helpers';\n\nexport function getAdornmentConfig({\n\tleft,\n\tright,\n}: {\n\tleft?: React.ReactNode;\n\tright?: React.ReactNode;\n}): Array<AdornmentConfig> {\n\tlet adornmentConfig: any[] = [];\n\tif (left || right) {\n\t\t[\n\t\t\t{ side: AdornmentSide.Left, adornment: left },\n\t\t\t{ side: AdornmentSide.Right, adornment: right },\n\t\t].forEach(({ side, adornment }) => {\n\t\t\tif (adornment && React.isValidElement(adornment)) {\n\t\t\t\tlet type;\n\t\t\t\tif (adornment.type === TextInputAffix) {\n\t\t\t\t\ttype = AdornmentType.Affix;\n\t\t\t\t} else if (adornment.type === TextInputIcon) {\n\t\t\t\t\ttype = AdornmentType.Icon;\n\t\t\t\t}\n\t\t\t\tadornmentConfig.push({\n\t\t\t\t\tside,\n\t\t\t\t\ttype,\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\treturn adornmentConfig;\n}\n\nexport function getAdornmentStyleAdjustmentForNativeInput({\n\tadornmentConfig,\n\tleftAffixWidth,\n\trightAffixWidth,\n\tpaddingHorizontal,\n\tinputOffset = 0,\n\tmode,\n\tisV3,\n}: {\n\tinputOffset?: number;\n\tadornmentConfig: AdornmentConfig[];\n\tleftAffixWidth: number;\n\trightAffixWidth: number;\n\tmode?: 'outlined' | 'flat';\n\tpaddingHorizontal?: number | string;\n\tisV3?: boolean;\n}): AdornmentStyleAdjustmentForNativeInput | {} {\n\tconst { OUTLINED_INPUT_OFFSET, ADORNMENT_OFFSET } = getConstants(isV3);\n\n\tif (adornmentConfig.length) {\n\t\tconst adornmentStyleAdjustmentForNativeInput = adornmentConfig.map(\n\t\t\t({ type, side }: AdornmentConfig) => {\n\t\t\t\tconst isLeftSide = side === AdornmentSide.Left;\n\t\t\t\tconst inputModeAdornemntOffset =\n\t\t\t\t\tmode === InputMode.Outlined\n\t\t\t\t\t\t? ADORNMENT_OFFSET + OUTLINED_INPUT_OFFSET\n\t\t\t\t\t\t: ADORNMENT_OFFSET;\n\t\t\t\tconst paddingKey = `padding${captalize(side)}`;\n\t\t\t\tconst affixWidth = isLeftSide\n\t\t\t\t\t? leftAffixWidth\n\t\t\t\t\t: rightAffixWidth;\n\t\t\t\tconst padding =\n\t\t\t\t\ttypeof paddingHorizontal === 'number'\n\t\t\t\t\t\t? paddingHorizontal\n\t\t\t\t\t\t: inputModeAdornemntOffset;\n\t\t\t\tconst offset = affixWidth + padding;\n\n\t\t\t\tconst isAffix = type === AdornmentType.Affix;\n\t\t\t\tconst marginKey = `margin${captalize(side)}`;\n\n\t\t\t\treturn {\n\t\t\t\t\t[marginKey]: isAffix ? 0 : offset,\n\t\t\t\t\t[paddingKey]: isAffix ? offset : inputOffset,\n\t\t\t\t};\n\t\t\t}\n\t\t);\n\t\tconst allStyleAdjustmentsMerged =\n\t\t\tadornmentStyleAdjustmentForNativeInput.reduce(\n\t\t\t\t(mergedStyles, currentStyle) => {\n\t\t\t\t\treturn {\n\t\t\t\t\t\t...mergedStyles,\n\t\t\t\t\t\t...currentStyle,\n\t\t\t\t\t};\n\t\t\t\t},\n\t\t\t\t{}\n\t\t\t);\n\t\treturn allStyleAdjustmentsMerged;\n\t} else {\n\t\treturn [{}];\n\t}\n}\n\nconst captalize = (text: string) =>\n\ttext.charAt(0).toUpperCase() + text.slice(1);\n\nexport interface TextInputAdornmentProps {\n\tforceFocus: () => void;\n\tadornmentConfig: AdornmentConfig[];\n\ttopPosition: {\n\t\t[AdornmentType.Affix]: {\n\t\t\t[AdornmentSide.Left]: number | null;\n\t\t\t[AdornmentSide.Right]: number | null;\n\t\t};\n\t\t[AdornmentType.Icon]: number;\n\t};\n\tonAffixChange: {\n\t\t[AdornmentSide.Left]: (event: LayoutChangeEvent) => void;\n\t\t[AdornmentSide.Right]: (event: LayoutChangeEvent) => void;\n\t};\n\tleft?: React.ReactNode;\n\tright?: React.ReactNode;\n\ttextStyle?: StyleProp<TextStyle>;\n\tvisible?: Animated.Value;\n\tisTextInputFocused: boolean;\n\tpaddingHorizontal?: number | string;\n\tmaxFontSizeMultiplier?: number | undefined | null;\n}\n\nconst TextInputAdornment: React.FunctionComponent<TextInputAdornmentProps> = ({\n\tadornmentConfig,\n\tleft,\n\tright,\n\tonAffixChange,\n\ttextStyle,\n\tvisible,\n\ttopPosition,\n\tisTextInputFocused,\n\tforceFocus,\n\tpaddingHorizontal,\n\tmaxFontSizeMultiplier,\n}) => {\n\tif (adornmentConfig.length) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{adornmentConfig.map(({ type, side }: AdornmentConfig) => {\n\t\t\t\t\tlet inputAdornmentComponent;\n\t\t\t\t\tif (side === AdornmentSide.Left) {\n\t\t\t\t\t\tinputAdornmentComponent = left;\n\t\t\t\t\t} else if (side === AdornmentSide.Right) {\n\t\t\t\t\t\tinputAdornmentComponent = right;\n\t\t\t\t\t}\n\n\t\t\t\t\tconst commonProps = {\n\t\t\t\t\t\tside: side,\n\t\t\t\t\t\ttestID: `${side}-${type}-adornment`,\n\t\t\t\t\t\tisTextInputFocused,\n\t\t\t\t\t\tpaddingHorizontal,\n\t\t\t\t\t};\n\t\t\t\t\tif (type === AdornmentType.Icon) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<IconAdornment\n\t\t\t\t\t\t\t\t{...commonProps}\n\t\t\t\t\t\t\t\tkey={side}\n\t\t\t\t\t\t\t\ticon={inputAdornmentComponent}\n\t\t\t\t\t\t\t\ttopPosition={topPosition[AdornmentType.Icon]}\n\t\t\t\t\t\t\t\tforceFocus={forceFocus}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} else if (type === AdornmentType.Affix) {\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<AffixAdornment\n\t\t\t\t\t\t\t\t{...commonProps}\n\t\t\t\t\t\t\t\tkey={side}\n\t\t\t\t\t\t\t\ttopPosition={\n\t\t\t\t\t\t\t\t\ttopPosition[AdornmentType.Affix][side]\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\taffix={inputAdornmentComponent}\n\t\t\t\t\t\t\t\ttextStyle={textStyle}\n\t\t\t\t\t\t\t\tonLayout={onAffixChange[side]}\n\t\t\t\t\t\t\t\tvisible={visible}\n\t\t\t\t\t\t\t\tmaxFontSizeMultiplier={maxFontSizeMultiplier}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t);\n\t\t\t\t\t} else {\n\t\t\t\t\t\treturn null;\n\t\t\t\t\t}\n\t\t\t\t})}\n\t\t\t</>\n\t\t);\n\t} else {\n\t\treturn null;\n\t}\n};\n\nexport default TextInputAdornment;\n"],"mappings":";;;;;;;;AAAA;AAQA;AACA;AACA;AAKA;AAA0C;AAAA;AAAA;AAAA;AAEnC,SAASA,kBAAkB,OAMP;EAAA,IANQ;IAClCC,IAAI;IACJC;EAID,CAAC;EACA,IAAIC,eAAsB,GAAG,EAAE;EAC/B,IAAIF,IAAI,IAAIC,KAAK,EAAE;IAClB,CACC;MAAEE,IAAI,EAAEC,oBAAa,CAACC,IAAI;MAAEC,SAAS,EAAEN;IAAK,CAAC,EAC7C;MAAEG,IAAI,EAAEC,oBAAa,CAACG,KAAK;MAAED,SAAS,EAAEL;IAAM,CAAC,CAC/C,CAACO,OAAO,CAAC,SAAyB;MAAA,IAAxB;QAAEL,IAAI;QAAEG;MAAU,CAAC;MAC7B,IAAIA,SAAS,iBAAIG,cAAK,CAACC,cAAc,CAACJ,SAAS,CAAC,EAAE;QACjD,IAAIK,IAAI;QACR,IAAIL,SAAS,CAACK,IAAI,KAAKC,uBAAc,EAAE;UACtCD,IAAI,GAAGE,oBAAa,CAACC,KAAK;QAC3B,CAAC,MAAM,IAAIR,SAAS,CAACK,IAAI,KAAKI,sBAAa,EAAE;UAC5CJ,IAAI,GAAGE,oBAAa,CAACG,IAAI;QAC1B;QACAd,eAAe,CAACe,IAAI,CAAC;UACpBd,IAAI;UACJQ;QACD,CAAC,CAAC;MACH;IACD,CAAC,CAAC;EACH;EAEA,OAAOT,eAAe;AACvB;AAEO,SAASgB,yCAAyC,QAgBT;EAAA,IAhBU;IACzDhB,eAAe;IACfiB,cAAc;IACdC,eAAe;IACfC,iBAAiB;IACjBC,WAAW,GAAG,CAAC;IACfC,IAAI;IACJC;EASD,CAAC;EACA,MAAM;IAAEC,qBAAqB;IAAEC;EAAiB,CAAC,GAAG,IAAAC,qBAAY,EAACH,IAAI,CAAC;EAEtE,IAAItB,eAAe,CAAC0B,MAAM,EAAE;IAC3B,MAAMC,sCAAsC,GAAG3B,eAAe,CAAC4B,GAAG,CACjE,SAAqC;MAAA,IAApC;QAAEnB,IAAI;QAAER;MAAsB,CAAC;MAC/B,MAAM4B,UAAU,GAAG5B,IAAI,KAAKC,oBAAa,CAACC,IAAI;MAC9C,MAAM2B,wBAAwB,GAC7BT,IAAI,KAAKU,gBAAS,CAACC,QAAQ,GACxBR,gBAAgB,GAAGD,qBAAqB,GACxCC,gBAAgB;MACpB,MAAMS,UAAU,GAAI,UAASC,SAAS,CAACjC,IAAI,CAAE,EAAC;MAC9C,MAAMkC,UAAU,GAAGN,UAAU,GAC1BZ,cAAc,GACdC,eAAe;MAClB,MAAMkB,OAAO,GACZ,OAAOjB,iBAAiB,KAAK,QAAQ,GAClCA,iBAAiB,GACjBW,wBAAwB;MAC5B,MAAMO,MAAM,GAAGF,UAAU,GAAGC,OAAO;MAEnC,MAAME,OAAO,GAAG7B,IAAI,KAAKE,oBAAa,CAACC,KAAK;MAC5C,MAAM2B,SAAS,GAAI,SAAQL,SAAS,CAACjC,IAAI,CAAE,EAAC;MAE5C,OAAO;QACN,CAACsC,SAAS,GAAGD,OAAO,GAAG,CAAC,GAAGD,MAAM;QACjC,CAACJ,UAAU,GAAGK,OAAO,GAAGD,MAAM,GAAGjB;MAClC,CAAC;IACF,CAAC,CACD;IACD,MAAMoB,yBAAyB,GAC9Bb,sCAAsC,CAACc,MAAM,CAC5C,CAACC,YAAY,EAAEC,YAAY,KAAK;MAC/B,OAAO;QACN,GAAGD,YAAY;QACf,GAAGC;MACJ,CAAC;IACF,CAAC,EACD,CAAC,CAAC,CACF;IACF,OAAOH,yBAAyB;EACjC,CAAC,MAAM;IACN,OAAO,CAAC,CAAC,CAAC,CAAC;EACZ;AACD;AAEA,MAAMN,SAAS,GAAIU,IAAY,IAC9BA,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGF,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC;AAyB7C,MAAMC,kBAAoE,GAAG,SAYvE;EAAA,IAZwE;IAC7EhD,eAAe;IACfF,IAAI;IACJC,KAAK;IACLkD,aAAa;IACbC,SAAS;IACTC,OAAO;IACPC,WAAW;IACXC,kBAAkB;IAClBC,UAAU;IACVnC,iBAAiB;IACjBoC;EACD,CAAC;EACA,IAAIvD,eAAe,CAAC0B,MAAM,EAAE;IAC3B,oBACC,4DACE1B,eAAe,CAAC4B,GAAG,CAAC,SAAqC;MAAA,IAApC;QAAEnB,IAAI;QAAER;MAAsB,CAAC;MACpD,IAAIuD,uBAAuB;MAC3B,IAAIvD,IAAI,KAAKC,oBAAa,CAACC,IAAI,EAAE;QAChCqD,uBAAuB,GAAG1D,IAAI;MAC/B,CAAC,MAAM,IAAIG,IAAI,KAAKC,oBAAa,CAACG,KAAK,EAAE;QACxCmD,uBAAuB,GAAGzD,KAAK;MAChC;MAEA,MAAM0D,WAAW,GAAG;QACnBxD,IAAI,EAAEA,IAAI;QACVyD,MAAM,EAAG,GAAEzD,IAAK,IAAGQ,IAAK,YAAW;QACnC4C,kBAAkB;QAClBlC;MACD,CAAC;MACD,IAAIV,IAAI,KAAKE,oBAAa,CAACG,IAAI,EAAE;QAChC,oBACC,6BAAC,4BAAa,eACT2C,WAAW;UACf,GAAG,EAAExD,IAAK;UACV,IAAI,EAAEuD,uBAAwB;UAC9B,WAAW,EAAEJ,WAAW,CAACzC,oBAAa,CAACG,IAAI,CAAE;UAC7C,UAAU,EAAEwC;QAAW,GACtB;MAEJ,CAAC,MAAM,IAAI7C,IAAI,KAAKE,oBAAa,CAACC,KAAK,EAAE;QACxC,oBACC,6BAAC,8BAAc,eACV6C,WAAW;UACf,GAAG,EAAExD,IAAK;UACV,WAAW,EACVmD,WAAW,CAACzC,oBAAa,CAACC,KAAK,CAAC,CAACX,IAAI,CACrC;UACD,KAAK,EAAEuD,uBAAwB;UAC/B,SAAS,EAAEN,SAAU;UACrB,QAAQ,EAAED,aAAa,CAAChD,IAAI,CAAE;UAC9B,OAAO,EAAEkD,OAAQ;UACjB,qBAAqB,EAAEI;QAAsB,GAC5C;MAEJ,CAAC,MAAM;QACN,OAAO,IAAI;MACZ;IACD,CAAC,CAAC,CACA;EAEL,CAAC,MAAM;IACN,OAAO,IAAI;EACZ;AACD,CAAC;AAAC,eAEaP,kBAAkB;AAAA"}