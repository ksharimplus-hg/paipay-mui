{"version":3,"names":["AffixContext","React","createContext","textStyle","fontFamily","color","topPosition","side","AdornmentSide","Left","AffixAdornment","affix","onLayout","visible","paddingHorizontal","maxFontSizeMultiplier","testID","TextInputAffix","text","labelStyle","theme","AFFIX_OFFSET","getConstants","isV3","useContext","textColor","colors","onSurface","alpha","dark","rgb","string","offset","style","top","styles","container","opacity","interpolate","inputRange","outputRange","displayName","StyleSheet","create","position","justifyContent","alignItems","withInternalTheme"],"sources":["TextInputAffix.tsx"],"sourcesContent":["import React from 'react';\nimport {\n\tAnimated,\n\tLayoutChangeEvent,\n\tStyleProp,\n\tStyleSheet,\n\tText,\n\tTextStyle,\n\tViewStyle,\n} from 'react-native';\n\nimport color from 'color';\n\nimport { AdornmentSide } from './enums';\nimport { withInternalTheme } from '../../../core/theming';\nimport type { InternalTheme } from '../../../types';\nimport { getConstants } from '../helpers';\n\nexport type Props = {\n\t/**\n\t * Text to show.\n\t */\n\ttext: string;\n\tonLayout?: (event: LayoutChangeEvent) => void;\n\t/**\n\t * Style that is passed to the Text element.\n\t */\n\ttextStyle?: StyleProp<TextStyle>;\n\t/**\n\t * @optional\n\t */\n\ttheme: InternalTheme;\n};\n\ntype ContextState = {\n\ttopPosition: number | null;\n\tonLayout?: (event: LayoutChangeEvent) => void;\n\tvisible?: Animated.Value;\n\ttextStyle?: StyleProp<TextStyle>;\n\tside: AdornmentSide;\n\tpaddingHorizontal?: number | string;\n\tmaxFontSizeMultiplier?: number | undefined | null;\n\ttestID?: string;\n};\n\nconst AffixContext = React.createContext<ContextState>({\n\ttextStyle: { fontFamily: '', color: '' },\n\ttopPosition: null,\n\tside: AdornmentSide.Left,\n});\n\nconst AffixAdornment: React.FunctionComponent<\n\t{\n\t\taffix: React.ReactNode;\n\t\ttestID: string;\n\t} & ContextState\n> = ({\n\taffix,\n\tside,\n\ttextStyle,\n\ttopPosition,\n\tonLayout,\n\tvisible,\n\tpaddingHorizontal,\n\tmaxFontSizeMultiplier,\n\ttestID,\n}) => {\n\treturn (\n\t\t<AffixContext.Provider\n\t\t\tvalue={{\n\t\t\t\tside,\n\t\t\t\ttextStyle,\n\t\t\t\ttopPosition,\n\t\t\t\tonLayout,\n\t\t\t\tvisible,\n\t\t\t\tpaddingHorizontal,\n\t\t\t\tmaxFontSizeMultiplier,\n\t\t\t\ttestID,\n\t\t\t}}\n\t\t>\n\t\t\t{affix}\n\t\t</AffixContext.Provider>\n\t);\n};\n\n/**\n * A component to render a leading / trailing text in the TextInput\n *\n * <div class=\"screenshots\">\n *   <figure>\n *     <img class=\"small\" src=\"screenshots/textinput-outline.affix.png\" />\n *   </figure>\n * </div>\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { TextInput } from 'react-native-paper';\n *\n * const MyComponent = () => {\n *   const [text, setText] = React.useState('');\n *\n *   return (\n *     <TextInput\n *       mode=\"outlined\"\n *       label=\"Outlined input\"\n *       placeholder=\"Type something\"\n *       right={<TextInput.Affix text=\"/100\" />}\n *     />\n *   );\n * };\n *\n * export default MyComponent;\n * ```\n */\n\nconst TextInputAffix = ({ text, textStyle: labelStyle, theme }: Props) => {\n\tconst { AFFIX_OFFSET } = getConstants(theme.isV3);\n\n\tconst {\n\t\ttextStyle,\n\t\tonLayout,\n\t\ttopPosition,\n\t\tside,\n\t\tvisible,\n\t\tpaddingHorizontal,\n\t\tmaxFontSizeMultiplier,\n\t\ttestID,\n\t} = React.useContext(AffixContext);\n\n\tconst textColor = color(\n\t\ttheme.isV3 ? theme.colors.onSurface : theme.colors?.text\n\t)\n\t\t.alpha(theme.dark ? 0.7 : 0.54)\n\t\t.rgb()\n\t\t.string();\n\n\tconst offset =\n\t\ttypeof paddingHorizontal === 'number'\n\t\t\t? paddingHorizontal\n\t\t\t: AFFIX_OFFSET;\n\n\tconst style = {\n\t\ttop: topPosition,\n\t\t[side]: offset,\n\t} as ViewStyle;\n\n\treturn (\n\t\t<Animated.View\n\t\t\tstyle={[\n\t\t\t\tstyles.container,\n\t\t\t\tstyle,\n\t\t\t\t{\n\t\t\t\t\topacity:\n\t\t\t\t\t\tvisible?.interpolate({\n\t\t\t\t\t\t\tinputRange: [0, 1],\n\t\t\t\t\t\t\toutputRange: [1, 0],\n\t\t\t\t\t\t}) || 1,\n\t\t\t\t},\n\t\t\t]}\n\t\t\tonLayout={onLayout}\n\t\t\ttestID={testID}\n\t\t>\n\t\t\t<Text\n\t\t\t\tmaxFontSizeMultiplier={maxFontSizeMultiplier}\n\t\t\t\tstyle={[{ color: textColor }, textStyle, labelStyle]}\n\t\t\t>\n\t\t\t\t{text}\n\t\t\t</Text>\n\t\t</Animated.View>\n\t);\n};\nTextInputAffix.displayName = 'TextInput.Affix';\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tposition: 'absolute',\n\t\tjustifyContent: 'center',\n\t\talignItems: 'center',\n\t},\n});\n\nexport default withInternalTheme(TextInputAffix);\n\n// @component-docs ignore-next-line\nexport { TextInputAffix, AffixAdornment };\n"],"mappings":"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"}