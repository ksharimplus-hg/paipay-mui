{"version":3,"names":["CrossFadeIcon","color","size","source","theme","currentIcon","setCurrentIcon","React","useState","previousIcon","setPreviousIcon","current","fade","useRef","Animated","Value","scale","animation","useEffect","isValidIcon","isEqualIcon","setValue","timing","duration","toValue","useNativeDriver","start","opacityPrev","opacityNext","interpolate","inputRange","outputRange","rotatePrev","rotateNext","styles","content","height","width","icon","opacity","transform","rotate","withInternalTheme","StyleSheet","create","alignItems","justifyContent","position","top","left","right","bottom"],"sources":["CrossFadeIcon.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Animated, StyleSheet, View } from 'react-native';\n\nimport Icon, { IconSource, isEqualIcon, isValidIcon } from './Icon';\nimport { withInternalTheme } from '../core/theming';\nimport type { InternalTheme } from '../types';\n\ntype Props = {\n\t/**\n\t * Icon to display for the `CrossFadeIcon`.\n\t */\n\tsource: IconSource;\n\t/**\n\t * Color of the icon.\n\t */\n\tcolor: string;\n\t/**\n\t * Size of the icon.\n\t */\n\tsize: number;\n\t/**\n\t * @optional\n\t */\n\ttheme: InternalTheme;\n};\n\nconst CrossFadeIcon = ({ color, size, source, theme }: Props) => {\n\tconst [currentIcon, setCurrentIcon] = React.useState<IconSource>(\n\t\t() => source\n\t);\n\tconst [previousIcon, setPreviousIcon] = React.useState<IconSource | null>(\n\t\tnull\n\t);\n\tconst { current: fade } = React.useRef<Animated.Value>(\n\t\tnew Animated.Value(1)\n\t);\n\n\tconst { scale } = theme.animation;\n\n\tif (currentIcon !== source) {\n\t\tsetPreviousIcon(() => currentIcon);\n\t\tsetCurrentIcon(() => source);\n\t}\n\n\tReact.useEffect(() => {\n\t\tif (\n\t\t\tisValidIcon(previousIcon) &&\n\t\t\t!isEqualIcon(previousIcon, currentIcon)\n\t\t) {\n\t\t\tfade.setValue(1);\n\n\t\t\tAnimated.timing(fade, {\n\t\t\t\tduration: scale * 200,\n\t\t\t\ttoValue: 0,\n\t\t\t\tuseNativeDriver: true,\n\t\t\t}).start();\n\t\t}\n\t}, [currentIcon, previousIcon, fade, scale]);\n\n\tconst opacityPrev = fade;\n\tconst opacityNext = previousIcon\n\t\t? fade.interpolate({\n\t\t\t\tinputRange: [0, 1],\n\t\t\t\toutputRange: [1, 0],\n\t\t  })\n\t\t: 1;\n\n\tconst rotatePrev = fade.interpolate({\n\t\tinputRange: [0, 1],\n\t\toutputRange: ['-90deg', '0deg'],\n\t});\n\n\tconst rotateNext = previousIcon\n\t\t? fade.interpolate({\n\t\t\t\tinputRange: [0, 1],\n\t\t\t\toutputRange: ['0deg', '-180deg'],\n\t\t  })\n\t\t: '0deg';\n\n\treturn (\n\t\t<View\n\t\t\tstyle={[\n\t\t\t\tstyles.content,\n\t\t\t\t{\n\t\t\t\t\theight: size,\n\t\t\t\t\twidth: size,\n\t\t\t\t},\n\t\t\t]}\n\t\t>\n\t\t\t{previousIcon ? (\n\t\t\t\t<Animated.View\n\t\t\t\t\tstyle={[\n\t\t\t\t\t\tstyles.icon,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\topacity: opacityPrev,\n\t\t\t\t\t\t\ttransform: [{ rotate: rotatePrev }],\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Icon source={previousIcon} size={size} color={color} />\n\t\t\t\t</Animated.View>\n\t\t\t) : null}\n\t\t\t<Animated.View\n\t\t\t\tstyle={[\n\t\t\t\t\tstyles.icon,\n\t\t\t\t\t{\n\t\t\t\t\t\topacity: opacityNext,\n\t\t\t\t\t\ttransform: [{ rotate: rotateNext }],\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Icon source={currentIcon} size={size} color={color} />\n\t\t\t</Animated.View>\n\t\t</View>\n\t);\n};\n\nexport default withInternalTheme(CrossFadeIcon);\n\nconst styles = StyleSheet.create({\n\tcontent: {\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t},\n\ticon: {\n\t\tposition: 'absolute',\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tright: 0,\n\t\tbottom: 0,\n\t},\n});\n"],"mappings":"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"}