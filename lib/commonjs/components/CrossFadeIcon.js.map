{"version":3,"names":["CrossFadeIcon","color","size","source","theme","currentIcon","setCurrentIcon","React","useState","previousIcon","setPreviousIcon","current","fade","useRef","Animated","Value","scale","animation","useEffect","isValidIcon","isEqualIcon","setValue","timing","duration","toValue","useNativeDriver","start","opacityPrev","opacityNext","interpolate","inputRange","outputRange","rotatePrev","rotateNext","styles","content","height","width","icon","opacity","transform","rotate","withInternalTheme","StyleSheet","create","alignItems","justifyContent","position","top","left","right","bottom"],"sources":["CrossFadeIcon.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Animated, StyleSheet, View } from 'react-native';\r\n\r\nimport Icon, { IconSource, isEqualIcon, isValidIcon } from './Icon';\r\nimport { withInternalTheme } from '../core/theming';\r\nimport type { InternalTheme } from '../types';\r\n\r\ntype Props = {\r\n\t/**\r\n\t * Icon to display for the `CrossFadeIcon`.\r\n\t */\r\n\tsource: IconSource;\r\n\t/**\r\n\t * Color of the icon.\r\n\t */\r\n\tcolor: string;\r\n\t/**\r\n\t * Size of the icon.\r\n\t */\r\n\tsize: number;\r\n\t/**\r\n\t * @optional\r\n\t */\r\n\ttheme: InternalTheme;\r\n};\r\n\r\nconst CrossFadeIcon = ({ color, size, source, theme }: Props) => {\r\n\tconst [currentIcon, setCurrentIcon] = React.useState<IconSource>(\r\n\t\t() => source\r\n\t);\r\n\tconst [previousIcon, setPreviousIcon] = React.useState<IconSource | null>(\r\n\t\tnull\r\n\t);\r\n\tconst { current: fade } = React.useRef<Animated.Value>(\r\n\t\tnew Animated.Value(1)\r\n\t);\r\n\r\n\tconst { scale } = theme.animation;\r\n\r\n\tif (currentIcon !== source) {\r\n\t\tsetPreviousIcon(() => currentIcon);\r\n\t\tsetCurrentIcon(() => source);\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (\r\n\t\t\tisValidIcon(previousIcon) &&\r\n\t\t\t!isEqualIcon(previousIcon, currentIcon)\r\n\t\t) {\r\n\t\t\tfade.setValue(1);\r\n\r\n\t\t\tAnimated.timing(fade, {\r\n\t\t\t\tduration: scale * 200,\r\n\t\t\t\ttoValue: 0,\r\n\t\t\t\tuseNativeDriver: true,\r\n\t\t\t}).start();\r\n\t\t}\r\n\t}, [currentIcon, previousIcon, fade, scale]);\r\n\r\n\tconst opacityPrev = fade;\r\n\tconst opacityNext = previousIcon\r\n\t\t? fade.interpolate({\r\n\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\toutputRange: [1, 0],\r\n\t\t  })\r\n\t\t: 1;\r\n\r\n\tconst rotatePrev = fade.interpolate({\r\n\t\tinputRange: [0, 1],\r\n\t\toutputRange: ['-90deg', '0deg'],\r\n\t});\r\n\r\n\tconst rotateNext = previousIcon\r\n\t\t? fade.interpolate({\r\n\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\toutputRange: ['0deg', '-180deg'],\r\n\t\t  })\r\n\t\t: '0deg';\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={[\r\n\t\t\t\tstyles.content,\r\n\t\t\t\t{\r\n\t\t\t\t\theight: size,\r\n\t\t\t\t\twidth: size,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t{previousIcon ? (\r\n\t\t\t\t<Animated.View\r\n\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\tstyles.icon,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\topacity: opacityPrev,\r\n\t\t\t\t\t\t\ttransform: [{ rotate: rotatePrev }],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Icon source={previousIcon} size={size} color={color} />\r\n\t\t\t\t</Animated.View>\r\n\t\t\t) : null}\r\n\t\t\t<Animated.View\r\n\t\t\t\tstyle={[\r\n\t\t\t\t\tstyles.icon,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\topacity: opacityNext,\r\n\t\t\t\t\t\ttransform: [{ rotate: rotateNext }],\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Icon source={currentIcon} size={size} color={color} />\r\n\t\t\t</Animated.View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nexport default withInternalTheme(CrossFadeIcon);\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontent: {\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\ticon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\tbottom: 0,\r\n\t},\r\n});\r\n"],"mappings":"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"}