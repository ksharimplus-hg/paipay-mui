{"version":3,"names":["SIZE","SCALE","AnimatedFAB","icon","label","accessibilityLabel","accessibilityState","color","customColor","disabled","onPress","onLongPress","delayLongPress","theme","style","visible","uppercase","isV3","testID","animateFrom","extended","iconMode","variant","rest","isIOS","Platform","OS","isAnimatedFromRight","isIconStatic","isRTL","I18nManager","current","visibility","React","useRef","Animated","Value","animFAB","animation","scale","textWidth","setTextWidth","useState","textHeight","setTextHeight","borderRadius","useEffect","timing","toValue","duration","useNativeDriver","start","backgroundColor","customBackgroundColor","restStyle","StyleSheet","flatten","foregroundColor","getFABColors","rippleColor","alpha","rgb","string","extendedWidth","distance","easing","Easing","linear","onTextLayout","nativeEvent","currentWidth","Math","ceil","lines","width","currentHeight","height","propForDirection","right","reverse","combinedStyles","getCombinedStyles","font","fonts","labelLarge","medium","textStyle","md2Elevation","md3Elevation","newAccessibilityState","opacity","transform","elevation","styles","container","scaleY","interpolate","inputRange","outputRange","standard","absoluteFill","shadowWrapper","shadow","innerWrapper","iconWrapper","undefined","minWidth","top","translateX","uppercaseLabel","textPlaceholderContainer","create","position","flexDirection","overflow","alignItems","justifyContent","textTransform","withInternalTheme"],"sources":["AnimatedFAB.tsx"],"sourcesContent":["import * as React from 'react';\nimport type {\n\tAccessibilityState,\n\tNativeSyntheticEvent,\n\tTextLayoutEventData,\n} from 'react-native';\nimport {\n\tAnimated,\n\tEasing,\n\tGestureResponderEvent,\n\tI18nManager,\n\tPlatform,\n\tScrollView,\n\tStyleProp,\n\tStyleSheet,\n\tText,\n\tView,\n\tViewStyle,\n} from 'react-native';\n\nimport color from 'color';\n\nimport { getCombinedStyles, getFABColors } from './utils';\nimport { withInternalTheme } from '../../core/theming';\nimport type { $RemoveChildren, InternalTheme } from '../../types';\nimport type { IconSource } from '../Icon';\nimport Icon from '../Icon';\nimport Surface from '../Surface';\nimport TouchableRipple from '../TouchableRipple/TouchableRipple';\nimport AnimatedText from '../Typography/AnimatedText';\n\nexport type AnimatedFABIconMode = 'static' | 'dynamic';\nexport type AnimatedFABAnimateFrom = 'left' | 'right';\n\nexport type Props = $RemoveChildren<typeof Surface> & {\n\t/**\n\t * Icon to display for the `FAB`.\n\t */\n\ticon: IconSource;\n\t/**\n\t * Label for extended `FAB`.\n\t */\n\tlabel: string;\n\t/**\n\t * Make the label text uppercased.\n\t */\n\tuppercase?: boolean;\n\t/**\n\t * Accessibility label for the FAB. This is read by the screen reader when the user taps the FAB.\n\t * Uses `label` by default if specified.\n\t */\n\taccessibilityLabel?: string;\n\t/**\n\t * Accessibility state for the FAB. This is read by the screen reader when the user taps the FAB.\n\t */\n\taccessibilityState?: AccessibilityState;\n\t/**\n\t * Custom color for the icon and label of the `FAB`.\n\t */\n\tcolor?: string;\n\t/**\n\t * Whether `FAB` is disabled. A disabled button is greyed out and `onPress` is not called on touch.\n\t */\n\tdisabled?: boolean;\n\t/**\n\t * Whether `FAB` is currently visible.\n\t */\n\tvisible?: boolean;\n\t/**\n\t * Function to execute on press.\n\t */\n\tonPress?: (e: GestureResponderEvent) => void;\n\t/**\n\t * Function to execute on long press.\n\t */\n\tonLongPress?: () => void;\n\t/**\n\t * The number of milliseconds a user must touch the element before executing `onLongPress`.\n\t */\n\tdelayLongPress?: number;\n\t/**\n\t * Whether icon should be translated to the end of extended `FAB` or be static and stay in the same place. The default value is `dynamic`.\n\t */\n\ticonMode?: AnimatedFABIconMode;\n\t/**\n\t * Indicates from which direction animation should be performed. The default value is `right`.\n\t */\n\tanimateFrom?: AnimatedFABAnimateFrom;\n\t/**\n\t * Whether `FAB` should start animation to extend.\n\t */\n\textended: boolean;\n\t/**\n\t * @supported Available in v3.x with theme version 3\n\t *\n\t * Color mappings variant for combinations of container and icon colors.\n\t */\n\tvariant?: 'primary' | 'secondary' | 'tertiary' | 'surface';\n\tstyle?: StyleProp<ViewStyle>;\n\t/**\n\t * @optional\n\t */\n\ttheme: InternalTheme;\n\ttestID?: string;\n};\n\nconst SIZE = 56;\nconst SCALE = 0.9;\n\n/**\n * An animated, extending horizontally floating action button represents the primary action in an application.\n *\n * <div class=\"screenshots\">\n *   <img class=\"small\" src=\"screenshots/animated-fab.gif\" />\n * </div>\n *\n * ## Usage\n * ```js\n * import React from 'react';\n * import {\n *   StyleProp,\n *   ViewStyle,\n *   Animated,\n *   StyleSheet,\n *   Platform,\n *   ScrollView,\n *   Text,\n *   SafeAreaView,\n *   I18nManager,\n * } from 'react-native';\n * import { AnimatedFAB } from 'react-native-paper';\n *\n * const MyComponent = ({\n *   animatedValue,\n *   visible,\n *   extended,\n *   label,\n *   animateFrom,\n *   style,\n *   iconMode,\n * }) => {\n *   const [isExtended, setIsExtended] = React.useState(true);\n *\n *   const isIOS = Platform.OS === 'ios';\n *\n *   const onScroll = ({ nativeEvent }) => {\n *     const currentScrollPosition =\n *       Math.floor(nativeEvent?.contentOffset?.y) ?? 0;\n *\n *     setIsExtended(currentScrollPosition <= 0);\n *   };\n *\n *   const fabStyle = { [animateFrom]: 16 };\n *\n *   return (\n *     <SafeAreaView style={styles.container}>\n *       <ScrollView onScroll={onScroll}>\n *         {[...new Array(100).keys()].map((_, i) => (\n *           <Text>{i}</Text>\n *         ))}\n *       </ScrollView>\n *       <AnimatedFAB\n *         icon={'plus'}\n *         label={'Label'}\n *         extended={isExtended}\n *         onPress={() => console.log('Pressed')}\n *         visible={visible}\n *         animateFrom={'right'}\n *         iconMode={'static'}\n *         style={[styles.fabStyle, style, fabStyle]}\n *       />\n *     </SafeAreaView>\n *   );\n * };\n *\n * export default MyComponent;\n *\n * const styles = StyleSheet.create({\n *   container: {\n *     flexGrow: 1,\n *   },\n *   fabStyle: {\n *     bottom: 16,\n *     right: 16,\n *     position: 'absolute',\n *   },\n * });\n * ```\n */\nconst AnimatedFAB = ({\n\ticon,\n\tlabel,\n\taccessibilityLabel = label,\n\taccessibilityState,\n\tcolor: customColor,\n\tdisabled,\n\tonPress,\n\tonLongPress,\n\tdelayLongPress,\n\ttheme,\n\tstyle,\n\tvisible = true,\n\tuppercase = !theme.isV3,\n\ttestID = 'animated-fab',\n\tanimateFrom = 'right',\n\textended = false,\n\ticonMode = 'dynamic',\n\tvariant = 'primary',\n\t...rest\n}: Props) => {\n\tconst isIOS = Platform.OS === 'ios';\n\tconst isAnimatedFromRight = animateFrom === 'right';\n\tconst isIconStatic = iconMode === 'static';\n\tconst { isRTL } = I18nManager;\n\tconst { current: visibility } = React.useRef<Animated.Value>(\n\t\tnew Animated.Value(visible ? 1 : 0)\n\t);\n\tconst { current: animFAB } = React.useRef<Animated.Value>(\n\t\tnew Animated.Value(0)\n\t);\n\tconst { isV3, animation } = theme;\n\tconst { scale } = animation;\n\n\tconst [textWidth, setTextWidth] = React.useState<number>(0);\n\tconst [textHeight, setTextHeight] = React.useState<number>(0);\n\n\tconst borderRadius = SIZE / (isV3 ? 3.5 : 2);\n\n\tReact.useEffect(() => {\n\t\tif (visible) {\n\t\t\tAnimated.timing(visibility, {\n\t\t\t\ttoValue: 1,\n\t\t\t\tduration: 200 * scale,\n\t\t\t\tuseNativeDriver: true,\n\t\t\t}).start();\n\t\t} else {\n\t\t\tAnimated.timing(visibility, {\n\t\t\t\ttoValue: 0,\n\t\t\t\tduration: 150 * scale,\n\t\t\t\tuseNativeDriver: true,\n\t\t\t}).start();\n\t\t}\n\t}, [visible, scale, visibility]);\n\n\tconst { backgroundColor: customBackgroundColor, ...restStyle } =\n\t\t(StyleSheet.flatten(style) || {}) as ViewStyle;\n\n\tconst { backgroundColor, foregroundColor } = getFABColors({\n\t\ttheme,\n\t\tvariant,\n\t\tdisabled,\n\t\tcustomColor,\n\t\tcustomBackgroundColor,\n\t});\n\n\tconst rippleColor = color(foregroundColor).alpha(0.12).rgb().string();\n\n\tconst extendedWidth = textWidth + SIZE + borderRadius;\n\n\tconst distance = isAnimatedFromRight\n\t\t? -textWidth - borderRadius\n\t\t: textWidth + borderRadius;\n\n\tReact.useEffect(() => {\n\t\tAnimated.timing(animFAB, {\n\t\t\ttoValue: !extended ? 0 : distance,\n\t\t\tduration: 150 * scale,\n\t\t\tuseNativeDriver: true,\n\t\t\teasing: Easing.linear,\n\t\t}).start();\n\t}, [animFAB, scale, distance, extended]);\n\n\tconst onTextLayout = ({\n\t\tnativeEvent,\n\t}: NativeSyntheticEvent<TextLayoutEventData>) => {\n\t\tconst currentWidth = Math.ceil(nativeEvent.lines[0].width);\n\t\tconst currentHeight = Math.ceil(nativeEvent.lines[0].height);\n\n\t\tif (currentWidth !== textWidth || currentHeight !== textHeight) {\n\t\t\tsetTextHeight(currentHeight);\n\n\t\t\tif (isIOS) {\n\t\t\t\treturn setTextWidth(currentWidth - 12);\n\t\t\t}\n\n\t\t\tsetTextWidth(currentWidth);\n\t\t}\n\t};\n\n\tconst propForDirection = <T,>(right: T[]): T[] => {\n\t\tif (isAnimatedFromRight) {\n\t\t\treturn right;\n\t\t}\n\n\t\treturn right.reverse();\n\t};\n\n\tconst combinedStyles = getCombinedStyles({\n\t\tisAnimatedFromRight,\n\t\tisIconStatic,\n\t\tdistance,\n\t\tanimFAB,\n\t});\n\n\tconst font = isV3 ? theme.fonts.labelLarge : theme.fonts.medium;\n\n\tconst textStyle = {\n\t\tcolor: foregroundColor,\n\t\t...font,\n\t};\n\n\tconst md2Elevation = disabled || !isIOS ? 0 : 6;\n\tconst md3Elevation = disabled || !isIOS ? 0 : 3;\n\n\tconst newAccessibilityState = { ...accessibilityState, disabled };\n\n\treturn (\n\t\t<Surface\n\t\t\t{...rest}\n\t\t\ttestID={`${testID}-container`}\n\t\t\tstyle={\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\topacity: visibility,\n\t\t\t\t\t\ttransform: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tscale: visibility,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t},\n\t\t\t\t\t!isV3 && {\n\t\t\t\t\t\televation: md2Elevation,\n\t\t\t\t\t},\n\t\t\t\t\tstyles.container,\n\t\t\t\t\trestStyle,\n\t\t\t\t] as StyleProp<ViewStyle>\n\t\t\t}\n\t\t\t{...(isV3 && { elevation: md3Elevation })}\n\t\t>\n\t\t\t<Animated.View\n\t\t\t\tstyle={[\n\t\t\t\t\t!isV3 && {\n\t\t\t\t\t\ttransform: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tscaleY: animFAB.interpolate({\n\t\t\t\t\t\t\t\t\tinputRange: propForDirection([distance, 0]),\n\t\t\t\t\t\t\t\t\toutputRange: propForDirection([SCALE, 1]),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tstyles.standard,\n\t\t\t\t\t{ borderRadius },\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<View style={[StyleSheet.absoluteFill, styles.shadowWrapper]}>\n\t\t\t\t\t<Animated.View\n\t\t\t\t\t\tpointerEvents=\"none\"\n\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\tStyleSheet.absoluteFill,\n\t\t\t\t\t\t\tdisabled ? styles.disabled : styles.shadow,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\twidth: extendedWidth,\n\t\t\t\t\t\t\t\topacity: animFAB.interpolate({\n\t\t\t\t\t\t\t\t\tinputRange: propForDirection([\n\t\t\t\t\t\t\t\t\t\tdistance,\n\t\t\t\t\t\t\t\t\t\t0.9 * distance,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\toutputRange: propForDirection([1, 0.15, 0]),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<Animated.View\n\t\t\t\t\t\tpointerEvents=\"none\"\n\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\tStyleSheet.absoluteFill,\n\t\t\t\t\t\t\tdisabled ? styles.disabled : styles.shadow,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\topacity: animFAB.interpolate({\n\t\t\t\t\t\t\t\t\tinputRange: propForDirection([\n\t\t\t\t\t\t\t\t\t\tdistance,\n\t\t\t\t\t\t\t\t\t\t0.9 * distance,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\toutputRange: propForDirection([0, 0.85, 1]),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\twidth: SIZE,\n\t\t\t\t\t\t\t\tborderRadius: animFAB.interpolate({\n\t\t\t\t\t\t\t\t\tinputRange: propForDirection([distance, 0]),\n\t\t\t\t\t\t\t\t\toutputRange: propForDirection([\n\t\t\t\t\t\t\t\t\t\tSIZE / (extendedWidth / SIZE),\n\t\t\t\t\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcombinedStyles.absoluteFill,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t\t<Animated.View\n\t\t\t\t\tpointerEvents=\"box-none\"\n\t\t\t\t\tstyle={[styles.innerWrapper, { borderRadius }]}\n\t\t\t\t>\n\t\t\t\t\t<Animated.View\n\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\tstyles.standard,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\twidth: extendedWidth,\n\t\t\t\t\t\t\t\tbackgroundColor,\n\t\t\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcombinedStyles.innerWrapper,\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TouchableRipple\n\t\t\t\t\t\t\tborderless\n\t\t\t\t\t\t\tonPress={onPress}\n\t\t\t\t\t\t\tonLongPress={onLongPress}\n\t\t\t\t\t\t\tdelayLongPress={delayLongPress}\n\t\t\t\t\t\t\trippleColor={rippleColor}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\taccessibilityLabel={accessibilityLabel}\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\t\t\taccessibilityState={newAccessibilityState}\n\t\t\t\t\t\t\ttestID={testID}\n\t\t\t\t\t\t\tstyle={{ borderRadius }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\tstyles.standard,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\twidth: extendedWidth,\n\t\t\t\t\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TouchableRipple>\n\t\t\t\t\t</Animated.View>\n\t\t\t\t</Animated.View>\n\t\t\t</Animated.View>\n\n\t\t\t<Animated.View\n\t\t\t\tstyle={[styles.iconWrapper, combinedStyles.iconWrapper]}\n\t\t\t\tpointerEvents=\"none\"\n\t\t\t>\n\t\t\t\t<Icon source={icon} size={24} color={foregroundColor} />\n\t\t\t</Animated.View>\n\n\t\t\t<View pointerEvents=\"none\">\n\t\t\t\t<AnimatedText\n\t\t\t\t\tvariant=\"labelLarge\"\n\t\t\t\t\tnumberOfLines={1}\n\t\t\t\t\tonTextLayout={isIOS ? onTextLayout : undefined}\n\t\t\t\t\tellipsizeMode={'tail'}\n\t\t\t\t\tstyle={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t[isAnimatedFromRight || isRTL ? 'right' : 'left']:\n\t\t\t\t\t\t\t\tisIconStatic\n\t\t\t\t\t\t\t\t\t? textWidth -\n\t\t\t\t\t\t\t\t\t  SIZE +\n\t\t\t\t\t\t\t\t\t  borderRadius / (isV3 ? 1 : 2)\n\t\t\t\t\t\t\t\t\t: borderRadius,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tminWidth: textWidth,\n\t\t\t\t\t\t\ttop: -SIZE / 2 - textHeight / 2,\n\t\t\t\t\t\t\topacity: animFAB.interpolate({\n\t\t\t\t\t\t\t\tinputRange: propForDirection([\n\t\t\t\t\t\t\t\t\tdistance,\n\t\t\t\t\t\t\t\t\t0.7 * distance,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\toutputRange: propForDirection([1, 0, 0]),\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\ttransform: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttranslateX: animFAB.interpolate({\n\t\t\t\t\t\t\t\t\t\tinputRange: propForDirection([\n\t\t\t\t\t\t\t\t\t\t\tdistance,\n\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\toutputRange: propForDirection([\n\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\tSIZE,\n\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyles.label,\n\t\t\t\t\t\tuppercase && styles.uppercaseLabel,\n\t\t\t\t\t\ttextStyle,\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</AnimatedText>\n\t\t\t</View>\n\n\t\t\t{!isIOS && (\n\t\t\t\t// Method `onTextLayout` on Android returns sizes of text visible on the screen,\n\t\t\t\t// however during render the text in `FAB` isn't fully visible. In order to get\n\t\t\t\t// proper text measurements there is a need to additionaly render that text, but\n\t\t\t\t// wrapped in absolutely positioned `ScrollView` which height is 0.\n\t\t\t\t<ScrollView style={styles.textPlaceholderContainer}>\n\t\t\t\t\t<Text onTextLayout={onTextLayout}>{label}</Text>\n\t\t\t\t</ScrollView>\n\t\t\t)}\n\t\t</Surface>\n\t);\n};\n\nconst styles = StyleSheet.create({\n\tstandard: {\n\t\theight: SIZE,\n\t},\n\tdisabled: {\n\t\televation: 0,\n\t},\n\tcontainer: {\n\t\tposition: 'absolute',\n\t\tbackgroundColor: 'transparent',\n\t},\n\tinnerWrapper: {\n\t\tflexDirection: 'row',\n\t\toverflow: 'hidden',\n\t},\n\tshadowWrapper: {\n\t\televation: 0,\n\t},\n\tshadow: {\n\t\televation: 6,\n\t},\n\ticonWrapper: {\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tposition: 'absolute',\n\t\theight: SIZE,\n\t\twidth: SIZE,\n\t},\n\tlabel: {\n\t\tposition: 'absolute',\n\t},\n\tuppercaseLabel: {\n\t\ttextTransform: 'uppercase',\n\t},\n\ttextPlaceholderContainer: {\n\t\theight: 0,\n\t\tposition: 'absolute',\n\t},\n});\n\nexport default withInternalTheme(AnimatedFAB);\n"],"mappings":"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"}