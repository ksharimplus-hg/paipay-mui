{"version":3,"names":["createTheming","color","MD2DarkTheme","MD2LightTheme","MD3DarkTheme","MD3LightTheme","DefaultTheme","ThemeProvider","withTheme","useTheme","useAppTheme","overrides","useInternalTheme","themeOverrides","withInternalTheme","WrappedComponent","defaultThemesByVersion","light","dark","getTheme","isDark","isV3","themeVersion","scheme","adaptNavigationTheme","themes","reactNavigationLight","reactNavigationDark","materialLight","materialDark","getAdaptedTheme","navigationTheme","MD3Theme","colors","primary","background","card","elevation","level2","text","onSurface","border","outline","notification","error","MD3Themes","modes","NavigationThemes","adaptedLight","adaptedDark","reduce","prev","curr","LightTheme","DarkTheme","getDynamicThemeElevations","elevationValues","elevations","elevationValue","index","surface","mix","rgb","string"],"sources":["theming.tsx"],"sourcesContent":["import type { ComponentType } from 'react';\r\n\r\nimport { $DeepPartial, createTheming } from '@callstack/react-theme-provider';\r\nimport color from 'color';\r\n\r\nimport {\r\n\tMD2DarkTheme,\r\n\tMD2LightTheme,\r\n\tMD3DarkTheme,\r\n\tMD3LightTheme,\r\n} from '../styles/themes';\r\nimport type {\r\n\tInternalTheme,\r\n\tMD3Theme,\r\n\tMD3AndroidColors,\r\n\tNavigationTheme,\r\n} from '../types';\r\n\r\nexport const DefaultTheme = MD3LightTheme;\r\n\r\nexport const {\r\n\tThemeProvider,\r\n\twithTheme,\r\n\tuseTheme: useAppTheme,\r\n} = createTheming<unknown>(MD3LightTheme);\r\n\r\nexport function useTheme<T = MD3Theme>(overrides?: $DeepPartial<T>) {\r\n\treturn useAppTheme<T>(overrides);\r\n}\r\n\r\nexport const useInternalTheme = (\r\n\tthemeOverrides?: $DeepPartial<InternalTheme>\r\n) => useAppTheme<InternalTheme>(themeOverrides);\r\n\r\nexport const withInternalTheme = <Props extends { theme: InternalTheme }, C>(\r\n\tWrappedComponent: ComponentType<Props & { theme: InternalTheme }> & C\r\n) => withTheme<Props, C>(WrappedComponent);\r\n\r\nexport const defaultThemesByVersion = {\r\n\t2: {\r\n\t\tlight: MD2LightTheme,\r\n\t\tdark: MD2DarkTheme,\r\n\t},\r\n\t3: {\r\n\t\tlight: MD3LightTheme,\r\n\t\tdark: MD3DarkTheme,\r\n\t},\r\n};\r\n\r\nexport const getTheme = (isDark = false, isV3 = true) => {\r\n\tconst themeVersion = isV3 ? 3 : 2;\r\n\tconst scheme = isDark ? 'dark' : 'light';\r\n\r\n\treturn defaultThemesByVersion[themeVersion][scheme];\r\n};\r\n\r\n// eslint-disable-next-line no-redeclare\r\nexport function adaptNavigationTheme(themes: {\r\n\treactNavigationLight: NavigationTheme;\r\n\tmaterialLight?: MD3Theme;\r\n}): {\r\n\tLightTheme: NavigationTheme;\r\n};\r\n// eslint-disable-next-line no-redeclare\r\nexport function adaptNavigationTheme(themes: {\r\n\treactNavigationDark: NavigationTheme;\r\n\tmaterialDark?: MD3Theme;\r\n}): {\r\n\tDarkTheme: NavigationTheme;\r\n};\r\n// eslint-disable-next-line no-redeclare\r\nexport function adaptNavigationTheme(themes: {\r\n\treactNavigationLight: NavigationTheme;\r\n\treactNavigationDark: NavigationTheme;\r\n\tmaterialLight?: MD3Theme;\r\n\tmaterialDark?: MD3Theme;\r\n}): { LightTheme: NavigationTheme; DarkTheme: NavigationTheme };\r\n// eslint-disable-next-line no-redeclare\r\nexport function adaptNavigationTheme(themes: any) {\r\n\tconst {\r\n\t\treactNavigationLight,\r\n\t\treactNavigationDark,\r\n\t\tmaterialLight,\r\n\t\tmaterialDark,\r\n\t} = themes;\r\n\r\n\tconst getAdaptedTheme = (\r\n\t\tnavigationTheme: NavigationTheme,\r\n\t\tMD3Theme: MD3Theme\r\n\t) => {\r\n\t\treturn {\r\n\t\t\t...navigationTheme,\r\n\t\t\tcolors: {\r\n\t\t\t\t...navigationTheme.colors,\r\n\t\t\t\tprimary: MD3Theme.colors.primary,\r\n\t\t\t\tbackground: MD3Theme.colors.background,\r\n\t\t\t\tcard: MD3Theme.colors.elevation.level2,\r\n\t\t\t\ttext: MD3Theme.colors.onSurface,\r\n\t\t\t\tborder: MD3Theme.colors.outline,\r\n\t\t\t\tnotification: MD3Theme.colors.error,\r\n\t\t\t},\r\n\t\t};\r\n\t};\r\n\r\n\tconst MD3Themes = {\r\n\t\tlight: materialLight || MD3LightTheme,\r\n\t\tdark: materialDark || MD3DarkTheme,\r\n\t};\r\n\r\n\tif (reactNavigationLight && reactNavigationDark) {\r\n\t\tconst modes = ['light', 'dark'] as const;\r\n\r\n\t\tconst NavigationThemes = {\r\n\t\t\tlight: reactNavigationLight,\r\n\t\t\tdark: reactNavigationDark,\r\n\t\t};\r\n\r\n\t\tconst { light: adaptedLight, dark: adaptedDark } = modes.reduce(\r\n\t\t\t(prev, curr) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...prev,\r\n\t\t\t\t\t[curr]: getAdaptedTheme(\r\n\t\t\t\t\t\tNavigationThemes[curr],\r\n\t\t\t\t\t\tMD3Themes[curr]\r\n\t\t\t\t\t),\r\n\t\t\t\t};\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlight: reactNavigationLight,\r\n\t\t\t\tdark: reactNavigationDark,\r\n\t\t\t}\r\n\t\t);\r\n\r\n\t\treturn {\r\n\t\t\tLightTheme: adaptedLight,\r\n\t\t\tDarkTheme: adaptedDark,\r\n\t\t};\r\n\t}\r\n\r\n\tif (reactNavigationDark) {\r\n\t\treturn {\r\n\t\t\tDarkTheme: getAdaptedTheme(reactNavigationDark, MD3Themes.dark),\r\n\t\t};\r\n\t}\r\n\r\n\treturn {\r\n\t\tLightTheme: getAdaptedTheme(reactNavigationLight, MD3Themes.light),\r\n\t};\r\n}\r\n\r\nexport const getDynamicThemeElevations = (scheme: MD3AndroidColors) => {\r\n\tconst elevationValues = ['transparent', 0.05, 0.08, 0.11, 0.12, 0.14];\r\n\treturn elevationValues.reduce((elevations, elevationValue, index) => {\r\n\t\treturn {\r\n\t\t\t...elevations,\r\n\t\t\t[`level${index}`]:\r\n\t\t\t\tindex === 0\r\n\t\t\t\t\t? elevationValue\r\n\t\t\t\t\t: color(scheme.surface)\r\n\t\t\t\t\t\t\t.mix(\r\n\t\t\t\t\t\t\t\tcolor(scheme.primary),\r\n\t\t\t\t\t\t\t\televationValue as number\r\n\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t.rgb()\r\n\t\t\t\t\t\t\t.string(),\r\n\t\t};\r\n\t}, {});\r\n};\r\n"],"mappings":"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"}