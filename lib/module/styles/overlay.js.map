{"version":3,"names":["Animated","color","MD2DarkTheme","isAnimatedValue","it","Value","overlay","elevation","surfaceColor","colors","surface","inputRange","interpolate","outputRange","map","calculateColor","overlayTransparency","elevationOverlayTransparency","mix","hex"],"sources":["overlay.tsx"],"sourcesContent":["import { Animated } from 'react-native';\r\n\r\nimport color from 'color';\r\n\r\nimport { MD2DarkTheme } from './themes/v2/DarkTheme';\r\n\r\nexport const isAnimatedValue = (\r\n\t/* @ts-ignore */\r\n\tit: number | string | Animated.AnimatedInterpolation<number | string>\r\n): it is Animated.Value => it instanceof Animated.Value;\r\n\r\nexport default function overlay<T extends Animated.Value | number>(\r\n\televation: T,\r\n\tsurfaceColor: string = MD2DarkTheme.colors?.surface\r\n\t/* @ts-ignore */\r\n): T extends number ? string : Animated.AnimatedInterpolation<number | string> {\r\n\tif (isAnimatedValue(elevation)) {\r\n\t\tconst inputRange = [0, 1, 2, 3, 8, 24];\r\n\r\n\t\t/* @ts-ignore */\r\n\t\treturn elevation.interpolate({\r\n\t\t\tinputRange,\r\n\t\t\toutputRange: inputRange.map((elevation) => {\r\n\t\t\t\treturn calculateColor(surfaceColor, elevation);\r\n\t\t\t}),\r\n\t\t});\r\n\t}\r\n\r\n\t/* @ts-ignore */\r\n\treturn calculateColor(surfaceColor, elevation);\r\n}\r\n\r\nfunction calculateColor(surfaceColor: string, elevation: number = 1) {\r\n\tlet overlayTransparency: number;\r\n\tif (elevation >= 1 && elevation <= 24) {\r\n\t\toverlayTransparency = elevationOverlayTransparency[elevation];\r\n\t} else if (elevation > 24) {\r\n\t\toverlayTransparency = elevationOverlayTransparency[24];\r\n\t} else {\r\n\t\toverlayTransparency = elevationOverlayTransparency[1];\r\n\t}\r\n\treturn color(surfaceColor)\r\n\t\t.mix(color('white'), overlayTransparency * 0.01)\r\n\t\t.hex();\r\n}\r\n\r\nconst elevationOverlayTransparency: Record<string, number> = {\r\n\t1: 5,\r\n\t2: 7,\r\n\t3: 8,\r\n\t4: 9,\r\n\t5: 10,\r\n\t6: 11,\r\n\t7: 11.5,\r\n\t8: 12,\r\n\t9: 12.5,\r\n\t10: 13,\r\n\t11: 13.5,\r\n\t12: 14,\r\n\t13: 14.25,\r\n\t14: 14.5,\r\n\t15: 14.75,\r\n\t16: 15,\r\n\t17: 15.12,\r\n\t18: 15.24,\r\n\t19: 15.36,\r\n\t20: 15.48,\r\n\t21: 15.6,\r\n\t22: 15.72,\r\n\t23: 15.84,\r\n\t24: 16,\r\n};\r\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,cAAc;AAEvC,OAAOC,KAAK,MAAM,OAAO;AAEzB,SAASC,YAAY,QAAQ,uBAAuB;AAEpD,OAAO,MAAMC,eAAe,GAE3BC,EAAqE,IAC3CA,EAAE,YAAYJ,QAAQ,CAACK,KAAK;AAEvD,eAAe,SAASC,OAAO,CAC9BC,SAAY,EAGkE;EAAA;EAAA,IAF9EC,YAAoB,+FAAGN,YAAY,CAACO,MAAM,yDAAnB,qBAAqBC,OAAO;EAGnD,IAAIP,eAAe,CAACI,SAAS,CAAC,EAAE;IAC/B,MAAMI,UAAU,GAAG,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,EAAE,CAAC;;IAEtC;IACA,OAAOJ,SAAS,CAACK,WAAW,CAAC;MAC5BD,UAAU;MACVE,WAAW,EAAEF,UAAU,CAACG,GAAG,CAAEP,SAAS,IAAK;QAC1C,OAAOQ,cAAc,CAACP,YAAY,EAAED,SAAS,CAAC;MAC/C,CAAC;IACF,CAAC,CAAC;EACH;;EAEA;EACA,OAAOQ,cAAc,CAACP,YAAY,EAAED,SAAS,CAAC;AAC/C;AAEA,SAASQ,cAAc,CAACP,YAAoB,EAAyB;EAAA,IAAvBD,SAAiB,uEAAG,CAAC;EAClE,IAAIS,mBAA2B;EAC/B,IAAIT,SAAS,IAAI,CAAC,IAAIA,SAAS,IAAI,EAAE,EAAE;IACtCS,mBAAmB,GAAGC,4BAA4B,CAACV,SAAS,CAAC;EAC9D,CAAC,MAAM,IAAIA,SAAS,GAAG,EAAE,EAAE;IAC1BS,mBAAmB,GAAGC,4BAA4B,CAAC,EAAE,CAAC;EACvD,CAAC,MAAM;IACND,mBAAmB,GAAGC,4BAA4B,CAAC,CAAC,CAAC;EACtD;EACA,OAAOhB,KAAK,CAACO,YAAY,CAAC,CACxBU,GAAG,CAACjB,KAAK,CAAC,OAAO,CAAC,EAAEe,mBAAmB,GAAG,IAAI,CAAC,CAC/CG,GAAG,EAAE;AACR;AAEA,MAAMF,4BAAoD,GAAG;EAC5D,CAAC,EAAE,CAAC;EACJ,CAAC,EAAE,CAAC;EACJ,CAAC,EAAE,CAAC;EACJ,CAAC,EAAE,CAAC;EACJ,CAAC,EAAE,EAAE;EACL,CAAC,EAAE,EAAE;EACL,CAAC,EAAE,IAAI;EACP,CAAC,EAAE,EAAE;EACL,CAAC,EAAE,IAAI;EACP,EAAE,EAAE,EAAE;EACN,EAAE,EAAE,IAAI;EACR,EAAE,EAAE,EAAE;EACN,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,IAAI;EACR,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,EAAE;EACN,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,IAAI;EACR,EAAE,EAAE,KAAK;EACT,EAAE,EAAE,KAAK;EACT,EAAE,EAAE;AACL,CAAC"}