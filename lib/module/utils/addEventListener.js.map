{"version":3,"names":["addEventListener","Module","rest","eventName","handler","removed","subscription","remove","removeEventListener","addListener"],"sources":["addEventListener.tsx"],"sourcesContent":["import type {\r\n\tNativeEventSubscription,\r\n\tEmitterSubscription,\r\n} from 'react-native';\r\n\r\nexport function addEventListener<\r\n\tT extends {\r\n\t\taddEventListener: (\r\n\t\t\t...args: any\r\n\t\t) => NativeEventSubscription | EmitterSubscription;\r\n\t} & { removeEventListener?: (...args: any) => void } & {\r\n\t\tremove?: (...args: any) => void;\r\n\t}\r\n>(Module: T, ...rest: Parameters<typeof Module.addEventListener>) {\r\n\tconst [eventName, handler] = rest;\r\n\r\n\tlet removed = false;\r\n\r\n\tconst subscription = Module.addEventListener(eventName, handler) ?? {\r\n\t\tremove: () => {\r\n\t\t\tif (removed) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tModule.removeEventListener?.(eventName, handler);\r\n\t\t\tModule.remove?.(eventName, handler);\r\n\t\t\tremoved = true;\r\n\t\t},\r\n\t};\r\n\r\n\treturn subscription;\r\n}\r\n\r\nexport function addListener<\r\n\tT extends {\r\n\t\taddListener: (...args: any) => EmitterSubscription;\r\n\t\tremoveEventListener: (...args: any) => void;\r\n\t}\r\n>(Module: T, ...rest: Parameters<typeof Module.addListener>) {\r\n\tconst [eventName, handler] = rest;\r\n\r\n\tlet removed = false;\r\n\r\n\tconst subscription = Module.addListener(eventName, handler) ?? {\r\n\t\tremove: () => {\r\n\t\t\tif (removed) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tModule.removeEventListener(eventName, handler);\r\n\t\t\tremoved = true;\r\n\t\t},\r\n\t};\r\n\r\n\treturn subscription;\r\n}\r\n"],"mappings":"AAKA,OAAO,SAASA,gBAAgB,CAQ9BC,MAAS,EAAuD;EAAA;EAAA,kCAAlDC,IAAI;IAAJA,IAAI;EAAA;EACnB,MAAM,CAACC,SAAS,EAAEC,OAAO,CAAC,GAAGF,IAAI;EAEjC,IAAIG,OAAO,GAAG,KAAK;EAEnB,MAAMC,YAAY,4BAAGL,MAAM,CAACD,gBAAgB,CAACG,SAAS,EAAEC,OAAO,CAAC,yEAAI;IACnEG,MAAM,EAAE,MAAM;MAAA;MACb,IAAIF,OAAO,EAAE;QACZ;MACD;MAEA,yBAAAJ,MAAM,CAACO,mBAAmB,0DAA1B,2BAAAP,MAAM,EAAuBE,SAAS,EAAEC,OAAO,CAAC;MAChD,kBAAAH,MAAM,CAACM,MAAM,mDAAb,oBAAAN,MAAM,EAAUE,SAAS,EAAEC,OAAO,CAAC;MACnCC,OAAO,GAAG,IAAI;IACf;EACD,CAAC;EAED,OAAOC,YAAY;AACpB;AAEA,OAAO,SAASG,WAAW,CAKzBR,MAAS,EAAkD;EAAA;EAAA,mCAA7CC,IAAI;IAAJA,IAAI;EAAA;EACnB,MAAM,CAACC,SAAS,EAAEC,OAAO,CAAC,GAAGF,IAAI;EAEjC,IAAIG,OAAO,GAAG,KAAK;EAEnB,MAAMC,YAAY,0BAAGL,MAAM,CAACQ,WAAW,CAACN,SAAS,EAAEC,OAAO,CAAC,qEAAI;IAC9DG,MAAM,EAAE,MAAM;MACb,IAAIF,OAAO,EAAE;QACZ;MACD;MAEAJ,MAAM,CAACO,mBAAmB,CAACL,SAAS,EAAEC,OAAO,CAAC;MAC9CC,OAAO,GAAG,IAAI;IACf;EACD,CAAC;EAED,OAAOC,YAAY;AACpB"}