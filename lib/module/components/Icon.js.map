{"version":3,"names":["React","I18nManager","Image","Platform","accessibilityProps","Consumer","SettingsConsumer","withInternalTheme","isImageSource","source","Object","prototype","hasOwnProperty","call","uri","OS","startsWith","test","getIconId","isValidIcon","isEqualIcon","a","b","Icon","color","size","theme","rest","direction","getConstants","isRTL","s","iconColor","isV3","colors","onSurface","text","transform","scaleX","width","height","tintColor","resizeMode","icon","name"],"sources":["Icon.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n\tI18nManager,\n\tImage,\n\tImageSourcePropType,\n\tPlatform,\n} from 'react-native';\n\nimport { accessibilityProps } from './MaterialCommunityIcon';\nimport { Consumer as SettingsConsumer } from '../core/settings';\nimport { withInternalTheme } from '../core/theming';\nimport type { InternalTheme } from '../types';\n\ntype IconSourceBase = string | ImageSourcePropType;\n\nexport type IconSource =\n\t| IconSourceBase\n\t| Readonly<{ source: IconSourceBase; direction: 'rtl' | 'ltr' | 'auto' }>\n\t| ((props: IconProps & { color: string }) => React.ReactNode);\n\ntype IconProps = {\n\tsize: number;\n\tallowFontScaling?: boolean;\n};\n\ntype Props = IconProps & {\n\tcolor?: string;\n\tsource: any;\n\t/**\n\t * @optional\n\t */\n\ttheme: InternalTheme;\n};\n\nconst isImageSource = (source: any) =>\n\t// source is an object with uri\n\t(typeof source === 'object' &&\n\t\tsource !== null &&\n\t\tObject.prototype.hasOwnProperty.call(source, 'uri') &&\n\t\ttypeof source.uri === 'string') ||\n\t// source is a module, e.g. - require('image')\n\ttypeof source === 'number' ||\n\t// image url on web\n\t(Platform.OS === 'web' &&\n\t\ttypeof source === 'string' &&\n\t\t(source.startsWith('data:image') ||\n\t\t\t/\\.(bmp|jpg|jpeg|png|gif|svg)$/.test(source)));\n\nconst getIconId = (source: any) => {\n\tif (\n\t\ttypeof source === 'object' &&\n\t\tsource !== null &&\n\t\tObject.prototype.hasOwnProperty.call(source, 'uri') &&\n\t\ttypeof source.uri === 'string'\n\t) {\n\t\treturn source.uri;\n\t}\n\n\treturn source;\n};\n\nexport const isValidIcon = (source: any) =>\n\ttypeof source === 'string' ||\n\ttypeof source === 'function' ||\n\tisImageSource(source);\n\nexport const isEqualIcon = (a: any, b: any) =>\n\ta === b || getIconId(a) === getIconId(b);\n\nconst Icon = ({ source, color, size, theme, ...rest }: Props) => {\n\tconst direction =\n\t\ttypeof source === 'object' && source.direction && source.source\n\t\t\t? source.direction === 'auto'\n\t\t\t\t? I18nManager.getConstants().isRTL\n\t\t\t\t\t? 'rtl'\n\t\t\t\t\t: 'ltr'\n\t\t\t\t: source.direction\n\t\t\t: null;\n\tconst s =\n\t\ttypeof source === 'object' && source.direction && source.source\n\t\t\t? source.source\n\t\t\t: source;\n\tconst iconColor =\n\t\tcolor || (theme.isV3 ? theme.colors.onSurface : theme.colors.text);\n\n\tif (isImageSource(s)) {\n\t\treturn (\n\t\t\t<Image\n\t\t\t\t{...rest}\n\t\t\t\tsource={s}\n\t\t\t\tstyle={[\n\t\t\t\t\t{\n\t\t\t\t\t\ttransform: [{ scaleX: direction === 'rtl' ? -1 : 1 }],\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\twidth: size,\n\t\t\t\t\t\theight: size,\n\t\t\t\t\t\ttintColor: color,\n\t\t\t\t\t\tresizeMode: 'contain',\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t\t{...accessibilityProps}\n\t\t\t\taccessibilityIgnoresInvertColors\n\t\t\t/>\n\t\t);\n\t} else if (typeof s === 'string') {\n\t\treturn (\n\t\t\t<SettingsConsumer>\n\t\t\t\t{({ icon }) => {\n\t\t\t\t\treturn icon({\n\t\t\t\t\t\tname: s,\n\t\t\t\t\t\tcolor: iconColor,\n\t\t\t\t\t\tsize,\n\t\t\t\t\t\tdirection,\n\t\t\t\t\t});\n\t\t\t\t}}\n\t\t\t</SettingsConsumer>\n\t\t);\n\t} else if (typeof s === 'function') {\n\t\treturn s({ color: iconColor, size, direction });\n\t}\n\n\treturn null;\n};\n\nexport default withInternalTheme(Icon);\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SACCC,WAAW,EACXC,KAAK,EAELC,QAAQ,QACF,cAAc;AAErB,SAASC,kBAAkB,QAAQ,yBAAyB;AAC5D,SAASC,QAAQ,IAAIC,gBAAgB,QAAQ,kBAAkB;AAC/D,SAASC,iBAAiB,QAAQ,iBAAiB;AAwBnD,MAAMC,aAAa,GAAIC,MAAW;AACjC;AACC,OAAOA,MAAM,KAAK,QAAQ,IAC1BA,MAAM,KAAK,IAAI,IACfC,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,MAAM,EAAE,KAAK,CAAC,IACnD,OAAOA,MAAM,CAACK,GAAG,KAAK,QAAQ;AAC/B;AACA,OAAOL,MAAM,KAAK,QAAQ;AAC1B;AACCN,QAAQ,CAACY,EAAE,KAAK,KAAK,IACrB,OAAON,MAAM,KAAK,QAAQ,KACzBA,MAAM,CAACO,UAAU,CAAC,YAAY,CAAC,IAC/B,+BAA+B,CAACC,IAAI,CAACR,MAAM,CAAC,CAAE;AAEjD,MAAMS,SAAS,GAAIT,MAAW,IAAK;EAClC,IACC,OAAOA,MAAM,KAAK,QAAQ,IAC1BA,MAAM,KAAK,IAAI,IACfC,MAAM,CAACC,SAAS,CAACC,cAAc,CAACC,IAAI,CAACJ,MAAM,EAAE,KAAK,CAAC,IACnD,OAAOA,MAAM,CAACK,GAAG,KAAK,QAAQ,EAC7B;IACD,OAAOL,MAAM,CAACK,GAAG;EAClB;EAEA,OAAOL,MAAM;AACd,CAAC;AAED,OAAO,MAAMU,WAAW,GAAIV,MAAW,IACtC,OAAOA,MAAM,KAAK,QAAQ,IAC1B,OAAOA,MAAM,KAAK,UAAU,IAC5BD,aAAa,CAACC,MAAM,CAAC;AAEtB,OAAO,MAAMW,WAAW,GAAG,CAACC,CAAM,EAAEC,CAAM,KACzCD,CAAC,KAAKC,CAAC,IAAIJ,SAAS,CAACG,CAAC,CAAC,KAAKH,SAAS,CAACI,CAAC,CAAC;AAEzC,MAAMC,IAAI,GAAG,QAAoD;EAAA,IAAnD;IAAEd,MAAM;IAAEe,KAAK;IAAEC,IAAI;IAAEC,KAAK;IAAE,GAAGC;EAAY,CAAC;EAC3D,MAAMC,SAAS,GACd,OAAOnB,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACmB,SAAS,IAAInB,MAAM,CAACA,MAAM,GAC5DA,MAAM,CAACmB,SAAS,KAAK,MAAM,GAC1B3B,WAAW,CAAC4B,YAAY,EAAE,CAACC,KAAK,GAC/B,KAAK,GACL,KAAK,GACNrB,MAAM,CAACmB,SAAS,GACjB,IAAI;EACR,MAAMG,CAAC,GACN,OAAOtB,MAAM,KAAK,QAAQ,IAAIA,MAAM,CAACmB,SAAS,IAAInB,MAAM,CAACA,MAAM,GAC5DA,MAAM,CAACA,MAAM,GACbA,MAAM;EACV,MAAMuB,SAAS,GACdR,KAAK,KAAKE,KAAK,CAACO,IAAI,GAAGP,KAAK,CAACQ,MAAM,CAACC,SAAS,GAAGT,KAAK,CAACQ,MAAM,CAACE,IAAI,CAAC;EAEnE,IAAI5B,aAAa,CAACuB,CAAC,CAAC,EAAE;IACrB,oBACC,oBAAC,KAAK,eACDJ,IAAI;MACR,MAAM,EAAEI,CAAE;MACV,KAAK,EAAE,CACN;QACCM,SAAS,EAAE,CAAC;UAAEC,MAAM,EAAEV,SAAS,KAAK,KAAK,GAAG,CAAC,CAAC,GAAG;QAAE,CAAC;MACrD,CAAC,EACD;QACCW,KAAK,EAAEd,IAAI;QACXe,MAAM,EAAEf,IAAI;QACZgB,SAAS,EAAEjB,KAAK;QAChBkB,UAAU,EAAE;MACb,CAAC;IACA,GACEtC,kBAAkB;MACtB,gCAAgC;IAAA,GAC/B;EAEJ,CAAC,MAAM,IAAI,OAAO2B,CAAC,KAAK,QAAQ,EAAE;IACjC,oBACC,oBAAC,gBAAgB,QACf,SAAc;MAAA,IAAb;QAAEY;MAAK,CAAC;MACT,OAAOA,IAAI,CAAC;QACXC,IAAI,EAAEb,CAAC;QACPP,KAAK,EAAEQ,SAAS;QAChBP,IAAI;QACJG;MACD,CAAC,CAAC;IACH,CAAC,CACiB;EAErB,CAAC,MAAM,IAAI,OAAOG,CAAC,KAAK,UAAU,EAAE;IACnC,OAAOA,CAAC,CAAC;MAAEP,KAAK,EAAEQ,SAAS;MAAEP,IAAI;MAAEG;IAAU,CAAC,CAAC;EAChD;EAEA,OAAO,IAAI;AACZ,CAAC;AAED,eAAerB,iBAAiB,CAACgB,IAAI,CAAC"}