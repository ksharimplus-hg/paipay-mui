{"version":3,"names":["Dimensions","overflowLeft","center","overflowRight","tooltipWidth","width","layoutWidth","get","overflowBottom","childrenY","childrenHeight","tooltipHeight","height","layoutHeight","getTooltipXPosition","pageX","childrenX","childrenWidth","getTooltipYPosition","pageY","getTooltipPosition","children","tooltip","measured","left","top"],"sources":["utils.ts"],"sourcesContent":["import { Dimensions, LayoutRectangle } from 'react-native';\r\n\r\ntype ChildrenMeasurement = {\r\n\twidth: number;\r\n\theight: number;\r\n\tpageX: number;\r\n\tpageY: number;\r\n};\r\n\r\ntype TooltipLayout = LayoutRectangle;\r\n\r\nexport type Measurement = {\r\n\tchildren: ChildrenMeasurement;\r\n\ttooltip: TooltipLayout;\r\n\tmeasured: boolean;\r\n};\r\n\r\n/**\r\n * Return true when the tooltip center x-coordinate relative to the wrapped element is negative.\r\n * The tooltip will be placed at the starting x-coordinate from the wrapped element.\r\n */\r\nconst overflowLeft = (center: number): boolean => {\r\n\treturn center < 0;\r\n};\r\n\r\n/**\r\n * Return true when the tooltip center x-coordinate + tooltip width is greater than the layout width\r\n * The tooltip width will grow from right to left relative to the wrapped element.\r\n */\r\nconst overflowRight = (center: number, tooltipWidth: number): boolean => {\r\n\tconst { width: layoutWidth } = Dimensions.get('window');\r\n\r\n\treturn center + tooltipWidth > layoutWidth;\r\n};\r\n\r\n/**\r\n * Return true when the children y-coordinate + its height + tooltip height is greater than the layout height.\r\n * The tooltip will be placed at the top of the wrapped element.\r\n */\r\nconst overflowBottom = (\r\n\tchildrenY: number,\r\n\tchildrenHeight: number,\r\n\ttooltipHeight: number\r\n): boolean => {\r\n\tconst { height: layoutHeight } = Dimensions.get('window');\r\n\r\n\treturn childrenY + childrenHeight + tooltipHeight > layoutHeight;\r\n};\r\n\r\nconst getTooltipXPosition = (\r\n\t{ pageX: childrenX, width: childrenWidth }: ChildrenMeasurement,\r\n\t{ width: tooltipWidth }: TooltipLayout\r\n): number => {\r\n\tconst center = childrenX + (childrenWidth - tooltipWidth) / 2;\r\n\r\n\tif (overflowLeft(center)) return childrenX;\r\n\r\n\tif (overflowRight(center, tooltipWidth))\r\n\t\treturn childrenX + childrenWidth - tooltipWidth;\r\n\r\n\treturn center;\r\n};\r\n\r\nconst getTooltipYPosition = (\r\n\t{ pageY: childrenY, height: childrenHeight }: ChildrenMeasurement,\r\n\t{ height: tooltipHeight }: TooltipLayout\r\n): number => {\r\n\tif (overflowBottom(childrenY, childrenHeight, tooltipHeight))\r\n\t\treturn childrenY - tooltipHeight;\r\n\r\n\treturn childrenY + childrenHeight;\r\n};\r\n\r\nexport const getTooltipPosition = ({\r\n\tchildren,\r\n\ttooltip,\r\n\tmeasured,\r\n}: Measurement): {} | { left: number; top: number } => {\r\n\tif (!measured) return {};\r\n\r\n\treturn {\r\n\t\tleft: getTooltipXPosition(children, tooltip),\r\n\t\ttop: getTooltipYPosition(children, tooltip),\r\n\t};\r\n};\r\n"],"mappings":"AAAA,SAASA,UAAU,QAAyB,cAAc;AAiB1D;AACA;AACA;AACA;AACA,MAAMC,YAAY,GAAIC,MAAc,IAAc;EACjD,OAAOA,MAAM,GAAG,CAAC;AAClB,CAAC;;AAED;AACA;AACA;AACA;AACA,MAAMC,aAAa,GAAG,CAACD,MAAc,EAAEE,YAAoB,KAAc;EACxE,MAAM;IAAEC,KAAK,EAAEC;EAAY,CAAC,GAAGN,UAAU,CAACO,GAAG,CAAC,QAAQ,CAAC;EAEvD,OAAOL,MAAM,GAAGE,YAAY,GAAGE,WAAW;AAC3C,CAAC;;AAED;AACA;AACA;AACA;AACA,MAAME,cAAc,GAAG,CACtBC,SAAiB,EACjBC,cAAsB,EACtBC,aAAqB,KACR;EACb,MAAM;IAAEC,MAAM,EAAEC;EAAa,CAAC,GAAGb,UAAU,CAACO,GAAG,CAAC,QAAQ,CAAC;EAEzD,OAAOE,SAAS,GAAGC,cAAc,GAAGC,aAAa,GAAGE,YAAY;AACjE,CAAC;AAED,MAAMC,mBAAmB,GAAG,iBAGf;EAAA,IAFZ;IAAEC,KAAK,EAAEC,SAAS;IAAEX,KAAK,EAAEY;EAAmC,CAAC;EAAA,IAC/D;IAAEZ,KAAK,EAAED;EAA4B,CAAC;EAEtC,MAAMF,MAAM,GAAGc,SAAS,GAAG,CAACC,aAAa,GAAGb,YAAY,IAAI,CAAC;EAE7D,IAAIH,YAAY,CAACC,MAAM,CAAC,EAAE,OAAOc,SAAS;EAE1C,IAAIb,aAAa,CAACD,MAAM,EAAEE,YAAY,CAAC,EACtC,OAAOY,SAAS,GAAGC,aAAa,GAAGb,YAAY;EAEhD,OAAOF,MAAM;AACd,CAAC;AAED,MAAMgB,mBAAmB,GAAG,kBAGf;EAAA,IAFZ;IAAEC,KAAK,EAAEV,SAAS;IAAEG,MAAM,EAAEF;EAAoC,CAAC;EAAA,IACjE;IAAEE,MAAM,EAAED;EAA6B,CAAC;EAExC,IAAIH,cAAc,CAACC,SAAS,EAAEC,cAAc,EAAEC,aAAa,CAAC,EAC3D,OAAOF,SAAS,GAAGE,aAAa;EAEjC,OAAOF,SAAS,GAAGC,cAAc;AAClC,CAAC;AAED,OAAO,MAAMU,kBAAkB,GAAG,SAIqB;EAAA,IAJpB;IAClCC,QAAQ;IACRC,OAAO;IACPC;EACY,CAAC;EACb,IAAI,CAACA,QAAQ,EAAE,OAAO,CAAC,CAAC;EAExB,OAAO;IACNC,IAAI,EAAEV,mBAAmB,CAACO,QAAQ,EAAEC,OAAO,CAAC;IAC5CG,GAAG,EAAEP,mBAAmB,CAACG,QAAQ,EAAEC,OAAO;EAC3C,CAAC;AACF,CAAC"}