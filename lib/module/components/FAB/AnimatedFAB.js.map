{"version":3,"names":["React","Animated","Easing","I18nManager","Platform","ScrollView","StyleSheet","Text","View","color","getCombinedStyles","getFABColors","withInternalTheme","Icon","Surface","TouchableRipple","AnimatedText","SIZE","SCALE","AnimatedFAB","icon","label","accessibilityLabel","accessibilityState","customColor","disabled","onPress","onLongPress","delayLongPress","theme","style","visible","uppercase","isV3","testID","animateFrom","extended","iconMode","variant","rest","isIOS","OS","isAnimatedFromRight","isIconStatic","isRTL","current","visibility","useRef","Value","animFAB","animation","scale","textWidth","setTextWidth","useState","textHeight","setTextHeight","borderRadius","useEffect","timing","toValue","duration","useNativeDriver","start","backgroundColor","customBackgroundColor","restStyle","flatten","foregroundColor","rippleColor","alpha","rgb","string","extendedWidth","distance","easing","linear","onTextLayout","nativeEvent","currentWidth","Math","ceil","lines","width","currentHeight","height","propForDirection","right","reverse","combinedStyles","font","fonts","labelLarge","medium","textStyle","md2Elevation","md3Elevation","newAccessibilityState","opacity","transform","elevation","styles","container","scaleY","interpolate","inputRange","outputRange","standard","absoluteFill","shadowWrapper","shadow","innerWrapper","iconWrapper","undefined","minWidth","top","translateX","uppercaseLabel","textPlaceholderContainer","create","position","flexDirection","overflow","alignItems","justifyContent","textTransform"],"sources":["AnimatedFAB.tsx"],"sourcesContent":["import * as React from 'react';\nimport type {\n\tAccessibilityState,\n\tNativeSyntheticEvent,\n\tTextLayoutEventData,\n} from 'react-native';\nimport {\n\tAnimated,\n\tEasing,\n\tGestureResponderEvent,\n\tI18nManager,\n\tPlatform,\n\tScrollView,\n\tStyleProp,\n\tStyleSheet,\n\tText,\n\tView,\n\tViewStyle,\n} from 'react-native';\n\nimport color from 'color';\n\nimport { getCombinedStyles, getFABColors } from './utils';\nimport { withInternalTheme } from '../../core/theming';\nimport type { $RemoveChildren, InternalTheme } from '../../types';\nimport type { IconSource } from '../Icon';\nimport Icon from '../Icon';\nimport Surface from '../Surface';\nimport TouchableRipple from '../TouchableRipple/TouchableRipple';\nimport AnimatedText from '../Typography/AnimatedText';\n\nexport type AnimatedFABIconMode = 'static' | 'dynamic';\nexport type AnimatedFABAnimateFrom = 'left' | 'right';\n\nexport type Props = $RemoveChildren<typeof Surface> & {\n\t/**\n\t * Icon to display for the `FAB`.\n\t */\n\ticon: IconSource;\n\t/**\n\t * Label for extended `FAB`.\n\t */\n\tlabel: string;\n\t/**\n\t * Make the label text uppercased.\n\t */\n\tuppercase?: boolean;\n\t/**\n\t * Accessibility label for the FAB. This is read by the screen reader when the user taps the FAB.\n\t * Uses `label` by default if specified.\n\t */\n\taccessibilityLabel?: string;\n\t/**\n\t * Accessibility state for the FAB. This is read by the screen reader when the user taps the FAB.\n\t */\n\taccessibilityState?: AccessibilityState;\n\t/**\n\t * Custom color for the icon and label of the `FAB`.\n\t */\n\tcolor?: string;\n\t/**\n\t * Whether `FAB` is disabled. A disabled button is greyed out and `onPress` is not called on touch.\n\t */\n\tdisabled?: boolean;\n\t/**\n\t * Whether `FAB` is currently visible.\n\t */\n\tvisible?: boolean;\n\t/**\n\t * Function to execute on press.\n\t */\n\tonPress?: (e: GestureResponderEvent) => void;\n\t/**\n\t * Function to execute on long press.\n\t */\n\tonLongPress?: () => void;\n\t/**\n\t * The number of milliseconds a user must touch the element before executing `onLongPress`.\n\t */\n\tdelayLongPress?: number;\n\t/**\n\t * Whether icon should be translated to the end of extended `FAB` or be static and stay in the same place. The default value is `dynamic`.\n\t */\n\ticonMode?: AnimatedFABIconMode;\n\t/**\n\t * Indicates from which direction animation should be performed. The default value is `right`.\n\t */\n\tanimateFrom?: AnimatedFABAnimateFrom;\n\t/**\n\t * Whether `FAB` should start animation to extend.\n\t */\n\textended: boolean;\n\t/**\n\t * @supported Available in v3.x with theme version 3\n\t *\n\t * Color mappings variant for combinations of container and icon colors.\n\t */\n\tvariant?: 'primary' | 'secondary' | 'tertiary' | 'surface';\n\tstyle?: StyleProp<ViewStyle>;\n\t/**\n\t * @optional\n\t */\n\ttheme: InternalTheme;\n\ttestID?: string;\n};\n\nconst SIZE = 56;\nconst SCALE = 0.9;\n\n/**\n * An animated, extending horizontally floating action button represents the primary action in an application.\n *\n * <div class=\"screenshots\">\n *   <img class=\"small\" src=\"screenshots/animated-fab.gif\" />\n * </div>\n *\n * ## Usage\n * ```js\n * import React from 'react';\n * import {\n *   StyleProp,\n *   ViewStyle,\n *   Animated,\n *   StyleSheet,\n *   Platform,\n *   ScrollView,\n *   Text,\n *   SafeAreaView,\n *   I18nManager,\n * } from 'react-native';\n * import { AnimatedFAB } from 'react-native-paper';\n *\n * const MyComponent = ({\n *   animatedValue,\n *   visible,\n *   extended,\n *   label,\n *   animateFrom,\n *   style,\n *   iconMode,\n * }) => {\n *   const [isExtended, setIsExtended] = React.useState(true);\n *\n *   const isIOS = Platform.OS === 'ios';\n *\n *   const onScroll = ({ nativeEvent }) => {\n *     const currentScrollPosition =\n *       Math.floor(nativeEvent?.contentOffset?.y) ?? 0;\n *\n *     setIsExtended(currentScrollPosition <= 0);\n *   };\n *\n *   const fabStyle = { [animateFrom]: 16 };\n *\n *   return (\n *     <SafeAreaView style={styles.container}>\n *       <ScrollView onScroll={onScroll}>\n *         {[...new Array(100).keys()].map((_, i) => (\n *           <Text>{i}</Text>\n *         ))}\n *       </ScrollView>\n *       <AnimatedFAB\n *         icon={'plus'}\n *         label={'Label'}\n *         extended={isExtended}\n *         onPress={() => console.log('Pressed')}\n *         visible={visible}\n *         animateFrom={'right'}\n *         iconMode={'static'}\n *         style={[styles.fabStyle, style, fabStyle]}\n *       />\n *     </SafeAreaView>\n *   );\n * };\n *\n * export default MyComponent;\n *\n * const styles = StyleSheet.create({\n *   container: {\n *     flexGrow: 1,\n *   },\n *   fabStyle: {\n *     bottom: 16,\n *     right: 16,\n *     position: 'absolute',\n *   },\n * });\n * ```\n */\nconst AnimatedFAB = ({\n\ticon,\n\tlabel,\n\taccessibilityLabel = label,\n\taccessibilityState,\n\tcolor: customColor,\n\tdisabled,\n\tonPress,\n\tonLongPress,\n\tdelayLongPress,\n\ttheme,\n\tstyle,\n\tvisible = true,\n\tuppercase = !theme.isV3,\n\ttestID = 'animated-fab',\n\tanimateFrom = 'right',\n\textended = false,\n\ticonMode = 'dynamic',\n\tvariant = 'primary',\n\t...rest\n}: Props) => {\n\tconst isIOS = Platform.OS === 'ios';\n\tconst isAnimatedFromRight = animateFrom === 'right';\n\tconst isIconStatic = iconMode === 'static';\n\tconst { isRTL } = I18nManager;\n\tconst { current: visibility } = React.useRef<Animated.Value>(\n\t\tnew Animated.Value(visible ? 1 : 0)\n\t);\n\tconst { current: animFAB } = React.useRef<Animated.Value>(\n\t\tnew Animated.Value(0)\n\t);\n\tconst { isV3, animation } = theme;\n\tconst { scale } = animation;\n\n\tconst [textWidth, setTextWidth] = React.useState<number>(0);\n\tconst [textHeight, setTextHeight] = React.useState<number>(0);\n\n\tconst borderRadius = SIZE / (isV3 ? 3.5 : 2);\n\n\tReact.useEffect(() => {\n\t\tif (visible) {\n\t\t\tAnimated.timing(visibility, {\n\t\t\t\ttoValue: 1,\n\t\t\t\tduration: 200 * scale,\n\t\t\t\tuseNativeDriver: true,\n\t\t\t}).start();\n\t\t} else {\n\t\t\tAnimated.timing(visibility, {\n\t\t\t\ttoValue: 0,\n\t\t\t\tduration: 150 * scale,\n\t\t\t\tuseNativeDriver: true,\n\t\t\t}).start();\n\t\t}\n\t}, [visible, scale, visibility]);\n\n\tconst { backgroundColor: customBackgroundColor, ...restStyle } =\n\t\t(StyleSheet.flatten(style) || {}) as ViewStyle;\n\n\tconst { backgroundColor, foregroundColor } = getFABColors({\n\t\ttheme,\n\t\tvariant,\n\t\tdisabled,\n\t\tcustomColor,\n\t\tcustomBackgroundColor,\n\t});\n\n\tconst rippleColor = color(foregroundColor).alpha(0.12).rgb().string();\n\n\tconst extendedWidth = textWidth + SIZE + borderRadius;\n\n\tconst distance = isAnimatedFromRight\n\t\t? -textWidth - borderRadius\n\t\t: textWidth + borderRadius;\n\n\tReact.useEffect(() => {\n\t\tAnimated.timing(animFAB, {\n\t\t\ttoValue: !extended ? 0 : distance,\n\t\t\tduration: 150 * scale,\n\t\t\tuseNativeDriver: true,\n\t\t\teasing: Easing.linear,\n\t\t}).start();\n\t}, [animFAB, scale, distance, extended]);\n\n\tconst onTextLayout = ({\n\t\tnativeEvent,\n\t}: NativeSyntheticEvent<TextLayoutEventData>) => {\n\t\tconst currentWidth = Math.ceil(nativeEvent.lines[0].width);\n\t\tconst currentHeight = Math.ceil(nativeEvent.lines[0].height);\n\n\t\tif (currentWidth !== textWidth || currentHeight !== textHeight) {\n\t\t\tsetTextHeight(currentHeight);\n\n\t\t\tif (isIOS) {\n\t\t\t\treturn setTextWidth(currentWidth - 12);\n\t\t\t}\n\n\t\t\tsetTextWidth(currentWidth);\n\t\t}\n\t};\n\n\tconst propForDirection = <T,>(right: T[]): T[] => {\n\t\tif (isAnimatedFromRight) {\n\t\t\treturn right;\n\t\t}\n\n\t\treturn right.reverse();\n\t};\n\n\tconst combinedStyles = getCombinedStyles({\n\t\tisAnimatedFromRight,\n\t\tisIconStatic,\n\t\tdistance,\n\t\tanimFAB,\n\t});\n\n\tconst font = isV3 ? theme.fonts.labelLarge : theme.fonts.medium;\n\n\tconst textStyle = {\n\t\tcolor: foregroundColor,\n\t\t...font,\n\t};\n\n\tconst md2Elevation = disabled || !isIOS ? 0 : 6;\n\tconst md3Elevation = disabled || !isIOS ? 0 : 3;\n\n\tconst newAccessibilityState = { ...accessibilityState, disabled };\n\n\treturn (\n\t\t<Surface\n\t\t\t{...rest}\n\t\t\ttestID={`${testID}-container`}\n\t\t\tstyle={\n\t\t\t\t[\n\t\t\t\t\t{\n\t\t\t\t\t\topacity: visibility,\n\t\t\t\t\t\ttransform: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tscale: visibility,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t},\n\t\t\t\t\t!isV3 && {\n\t\t\t\t\t\televation: md2Elevation,\n\t\t\t\t\t},\n\t\t\t\t\tstyles.container,\n\t\t\t\t\trestStyle,\n\t\t\t\t] as StyleProp<ViewStyle>\n\t\t\t}\n\t\t\t{...(isV3 && { elevation: md3Elevation })}\n\t\t>\n\t\t\t<Animated.View\n\t\t\t\tstyle={[\n\t\t\t\t\t!isV3 && {\n\t\t\t\t\t\ttransform: [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tscaleY: animFAB.interpolate({\n\t\t\t\t\t\t\t\t\tinputRange: propForDirection([distance, 0]),\n\t\t\t\t\t\t\t\t\toutputRange: propForDirection([SCALE, 1]),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t],\n\t\t\t\t\t},\n\t\t\t\t\tstyles.standard,\n\t\t\t\t\t{ borderRadius },\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<View style={[StyleSheet.absoluteFill, styles.shadowWrapper]}>\n\t\t\t\t\t<Animated.View\n\t\t\t\t\t\tpointerEvents=\"none\"\n\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\tStyleSheet.absoluteFill,\n\t\t\t\t\t\t\tdisabled ? styles.disabled : styles.shadow,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\twidth: extendedWidth,\n\t\t\t\t\t\t\t\topacity: animFAB.interpolate({\n\t\t\t\t\t\t\t\t\tinputRange: propForDirection([\n\t\t\t\t\t\t\t\t\t\tdistance,\n\t\t\t\t\t\t\t\t\t\t0.9 * distance,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\toutputRange: propForDirection([1, 0.15, 0]),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<Animated.View\n\t\t\t\t\t\tpointerEvents=\"none\"\n\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\tStyleSheet.absoluteFill,\n\t\t\t\t\t\t\tdisabled ? styles.disabled : styles.shadow,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\topacity: animFAB.interpolate({\n\t\t\t\t\t\t\t\t\tinputRange: propForDirection([\n\t\t\t\t\t\t\t\t\t\tdistance,\n\t\t\t\t\t\t\t\t\t\t0.9 * distance,\n\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\toutputRange: propForDirection([0, 0.85, 1]),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\twidth: SIZE,\n\t\t\t\t\t\t\t\tborderRadius: animFAB.interpolate({\n\t\t\t\t\t\t\t\t\tinputRange: propForDirection([distance, 0]),\n\t\t\t\t\t\t\t\t\toutputRange: propForDirection([\n\t\t\t\t\t\t\t\t\t\tSIZE / (extendedWidth / SIZE),\n\t\t\t\t\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcombinedStyles.absoluteFill,\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</View>\n\t\t\t\t<Animated.View\n\t\t\t\t\tpointerEvents=\"box-none\"\n\t\t\t\t\tstyle={[styles.innerWrapper, { borderRadius }]}\n\t\t\t\t>\n\t\t\t\t\t<Animated.View\n\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\tstyles.standard,\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\twidth: extendedWidth,\n\t\t\t\t\t\t\t\tbackgroundColor,\n\t\t\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tcombinedStyles.innerWrapper,\n\t\t\t\t\t\t]}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TouchableRipple\n\t\t\t\t\t\t\tborderless\n\t\t\t\t\t\t\tonPress={onPress}\n\t\t\t\t\t\t\tonLongPress={onLongPress}\n\t\t\t\t\t\t\tdelayLongPress={delayLongPress}\n\t\t\t\t\t\t\trippleColor={rippleColor}\n\t\t\t\t\t\t\tdisabled={disabled}\n\t\t\t\t\t\t\taccessibilityLabel={accessibilityLabel}\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\t\t\taccessibilityState={newAccessibilityState}\n\t\t\t\t\t\t\ttestID={testID}\n\t\t\t\t\t\t\tstyle={{ borderRadius }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<View\n\t\t\t\t\t\t\t\tstyle={[\n\t\t\t\t\t\t\t\t\tstyles.standard,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\twidth: extendedWidth,\n\t\t\t\t\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TouchableRipple>\n\t\t\t\t\t</Animated.View>\n\t\t\t\t</Animated.View>\n\t\t\t</Animated.View>\n\n\t\t\t<Animated.View\n\t\t\t\tstyle={[styles.iconWrapper, combinedStyles.iconWrapper]}\n\t\t\t\tpointerEvents=\"none\"\n\t\t\t>\n\t\t\t\t<Icon source={icon} size={24} color={foregroundColor} />\n\t\t\t</Animated.View>\n\n\t\t\t<View pointerEvents=\"none\">\n\t\t\t\t<AnimatedText\n\t\t\t\t\tvariant=\"labelLarge\"\n\t\t\t\t\tnumberOfLines={1}\n\t\t\t\t\tonTextLayout={isIOS ? onTextLayout : undefined}\n\t\t\t\t\tellipsizeMode={'tail'}\n\t\t\t\t\tstyle={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t[isAnimatedFromRight || isRTL ? 'right' : 'left']:\n\t\t\t\t\t\t\t\tisIconStatic\n\t\t\t\t\t\t\t\t\t? textWidth -\n\t\t\t\t\t\t\t\t\t  SIZE +\n\t\t\t\t\t\t\t\t\t  borderRadius / (isV3 ? 1 : 2)\n\t\t\t\t\t\t\t\t\t: borderRadius,\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tminWidth: textWidth,\n\t\t\t\t\t\t\ttop: -SIZE / 2 - textHeight / 2,\n\t\t\t\t\t\t\topacity: animFAB.interpolate({\n\t\t\t\t\t\t\t\tinputRange: propForDirection([\n\t\t\t\t\t\t\t\t\tdistance,\n\t\t\t\t\t\t\t\t\t0.7 * distance,\n\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\toutputRange: propForDirection([1, 0, 0]),\n\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\ttransform: [\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\ttranslateX: animFAB.interpolate({\n\t\t\t\t\t\t\t\t\t\tinputRange: propForDirection([\n\t\t\t\t\t\t\t\t\t\t\tdistance,\n\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t\toutputRange: propForDirection([\n\t\t\t\t\t\t\t\t\t\t\t0,\n\t\t\t\t\t\t\t\t\t\t\tSIZE,\n\t\t\t\t\t\t\t\t\t\t]),\n\t\t\t\t\t\t\t\t\t}),\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t],\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyles.label,\n\t\t\t\t\t\tuppercase && styles.uppercaseLabel,\n\t\t\t\t\t\ttextStyle,\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t{label}\n\t\t\t\t</AnimatedText>\n\t\t\t</View>\n\n\t\t\t{!isIOS && (\n\t\t\t\t// Method `onTextLayout` on Android returns sizes of text visible on the screen,\n\t\t\t\t// however during render the text in `FAB` isn't fully visible. In order to get\n\t\t\t\t// proper text measurements there is a need to additionaly render that text, but\n\t\t\t\t// wrapped in absolutely positioned `ScrollView` which height is 0.\n\t\t\t\t<ScrollView style={styles.textPlaceholderContainer}>\n\t\t\t\t\t<Text onTextLayout={onTextLayout}>{label}</Text>\n\t\t\t\t</ScrollView>\n\t\t\t)}\n\t\t</Surface>\n\t);\n};\n\nconst styles = StyleSheet.create({\n\tstandard: {\n\t\theight: SIZE,\n\t},\n\tdisabled: {\n\t\televation: 0,\n\t},\n\tcontainer: {\n\t\tposition: 'absolute',\n\t\tbackgroundColor: 'transparent',\n\t},\n\tinnerWrapper: {\n\t\tflexDirection: 'row',\n\t\toverflow: 'hidden',\n\t},\n\tshadowWrapper: {\n\t\televation: 0,\n\t},\n\tshadow: {\n\t\televation: 6,\n\t},\n\ticonWrapper: {\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t\tposition: 'absolute',\n\t\theight: SIZE,\n\t\twidth: SIZE,\n\t},\n\tlabel: {\n\t\tposition: 'absolute',\n\t},\n\tuppercaseLabel: {\n\t\ttextTransform: 'uppercase',\n\t},\n\ttextPlaceholderContainer: {\n\t\theight: 0,\n\t\tposition: 'absolute',\n\t},\n});\n\nexport default withInternalTheme(AnimatedFAB);\n"],"mappings":"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"}