{"version":3,"names":["React","Animated","StyleSheet","View","Icon","isEqualIcon","isValidIcon","withInternalTheme","CrossFadeIcon","color","size","source","theme","currentIcon","setCurrentIcon","useState","previousIcon","setPreviousIcon","current","fade","useRef","Value","scale","animation","useEffect","setValue","timing","duration","toValue","useNativeDriver","start","opacityPrev","opacityNext","interpolate","inputRange","outputRange","rotatePrev","rotateNext","styles","content","height","width","icon","opacity","transform","rotate","create","alignItems","justifyContent","position","top","left","right","bottom"],"sources":["CrossFadeIcon.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Animated, StyleSheet, View } from 'react-native';\n\nimport Icon, { IconSource, isEqualIcon, isValidIcon } from './Icon';\nimport { withInternalTheme } from '../core/theming';\nimport type { InternalTheme } from '../types';\n\ntype Props = {\n\t/**\n\t * Icon to display for the `CrossFadeIcon`.\n\t */\n\tsource: IconSource;\n\t/**\n\t * Color of the icon.\n\t */\n\tcolor: string;\n\t/**\n\t * Size of the icon.\n\t */\n\tsize: number;\n\t/**\n\t * @optional\n\t */\n\ttheme: InternalTheme;\n};\n\nconst CrossFadeIcon = ({ color, size, source, theme }: Props) => {\n\tconst [currentIcon, setCurrentIcon] = React.useState<IconSource>(\n\t\t() => source\n\t);\n\tconst [previousIcon, setPreviousIcon] = React.useState<IconSource | null>(\n\t\tnull\n\t);\n\tconst { current: fade } = React.useRef<Animated.Value>(\n\t\tnew Animated.Value(1)\n\t);\n\n\tconst { scale } = theme.animation;\n\n\tif (currentIcon !== source) {\n\t\tsetPreviousIcon(() => currentIcon);\n\t\tsetCurrentIcon(() => source);\n\t}\n\n\tReact.useEffect(() => {\n\t\tif (\n\t\t\tisValidIcon(previousIcon) &&\n\t\t\t!isEqualIcon(previousIcon, currentIcon)\n\t\t) {\n\t\t\tfade.setValue(1);\n\n\t\t\tAnimated.timing(fade, {\n\t\t\t\tduration: scale * 200,\n\t\t\t\ttoValue: 0,\n\t\t\t\tuseNativeDriver: true,\n\t\t\t}).start();\n\t\t}\n\t}, [currentIcon, previousIcon, fade, scale]);\n\n\tconst opacityPrev = fade;\n\tconst opacityNext = previousIcon\n\t\t? fade.interpolate({\n\t\t\t\tinputRange: [0, 1],\n\t\t\t\toutputRange: [1, 0],\n\t\t  })\n\t\t: 1;\n\n\tconst rotatePrev = fade.interpolate({\n\t\tinputRange: [0, 1],\n\t\toutputRange: ['-90deg', '0deg'],\n\t});\n\n\tconst rotateNext = previousIcon\n\t\t? fade.interpolate({\n\t\t\t\tinputRange: [0, 1],\n\t\t\t\toutputRange: ['0deg', '-180deg'],\n\t\t  })\n\t\t: '0deg';\n\n\treturn (\n\t\t<View\n\t\t\tstyle={[\n\t\t\t\tstyles.content,\n\t\t\t\t{\n\t\t\t\t\theight: size,\n\t\t\t\t\twidth: size,\n\t\t\t\t},\n\t\t\t]}\n\t\t>\n\t\t\t{previousIcon ? (\n\t\t\t\t<Animated.View\n\t\t\t\t\tstyle={[\n\t\t\t\t\t\tstyles.icon,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\topacity: opacityPrev,\n\t\t\t\t\t\t\ttransform: [{ rotate: rotatePrev }],\n\t\t\t\t\t\t},\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<Icon source={previousIcon} size={size} color={color} />\n\t\t\t\t</Animated.View>\n\t\t\t) : null}\n\t\t\t<Animated.View\n\t\t\t\tstyle={[\n\t\t\t\t\tstyles.icon,\n\t\t\t\t\t{\n\t\t\t\t\t\topacity: opacityNext,\n\t\t\t\t\t\ttransform: [{ rotate: rotateNext }],\n\t\t\t\t\t},\n\t\t\t\t]}\n\t\t\t>\n\t\t\t\t<Icon source={currentIcon} size={size} color={color} />\n\t\t\t</Animated.View>\n\t\t</View>\n\t);\n};\n\nexport default withInternalTheme(CrossFadeIcon);\n\nconst styles = StyleSheet.create({\n\tcontent: {\n\t\talignItems: 'center',\n\t\tjustifyContent: 'center',\n\t},\n\ticon: {\n\t\tposition: 'absolute',\n\t\ttop: 0,\n\t\tleft: 0,\n\t\tright: 0,\n\t\tbottom: 0,\n\t},\n});\n"],"mappings":"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"}