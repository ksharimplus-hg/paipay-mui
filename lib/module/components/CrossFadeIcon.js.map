{"version":3,"names":["React","Animated","StyleSheet","View","Icon","isEqualIcon","isValidIcon","withInternalTheme","CrossFadeIcon","color","size","source","theme","currentIcon","setCurrentIcon","useState","previousIcon","setPreviousIcon","current","fade","useRef","Value","scale","animation","useEffect","setValue","timing","duration","toValue","useNativeDriver","start","opacityPrev","opacityNext","interpolate","inputRange","outputRange","rotatePrev","rotateNext","styles","content","height","width","icon","opacity","transform","rotate","create","alignItems","justifyContent","position","top","left","right","bottom"],"sources":["CrossFadeIcon.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { Animated, StyleSheet, View } from 'react-native';\r\n\r\nimport Icon, { IconSource, isEqualIcon, isValidIcon } from './Icon';\r\nimport { withInternalTheme } from '../core/theming';\r\nimport type { InternalTheme } from '../types';\r\n\r\ntype Props = {\r\n\t/**\r\n\t * Icon to display for the `CrossFadeIcon`.\r\n\t */\r\n\tsource: IconSource;\r\n\t/**\r\n\t * Color of the icon.\r\n\t */\r\n\tcolor: string;\r\n\t/**\r\n\t * Size of the icon.\r\n\t */\r\n\tsize: number;\r\n\t/**\r\n\t * @optional\r\n\t */\r\n\ttheme: InternalTheme;\r\n};\r\n\r\nconst CrossFadeIcon = ({ color, size, source, theme }: Props) => {\r\n\tconst [currentIcon, setCurrentIcon] = React.useState<IconSource>(\r\n\t\t() => source\r\n\t);\r\n\tconst [previousIcon, setPreviousIcon] = React.useState<IconSource | null>(\r\n\t\tnull\r\n\t);\r\n\tconst { current: fade } = React.useRef<Animated.Value>(\r\n\t\tnew Animated.Value(1)\r\n\t);\r\n\r\n\tconst { scale } = theme.animation;\r\n\r\n\tif (currentIcon !== source) {\r\n\t\tsetPreviousIcon(() => currentIcon);\r\n\t\tsetCurrentIcon(() => source);\r\n\t}\r\n\r\n\tReact.useEffect(() => {\r\n\t\tif (\r\n\t\t\tisValidIcon(previousIcon) &&\r\n\t\t\t!isEqualIcon(previousIcon, currentIcon)\r\n\t\t) {\r\n\t\t\tfade.setValue(1);\r\n\r\n\t\t\tAnimated.timing(fade, {\r\n\t\t\t\tduration: scale * 200,\r\n\t\t\t\ttoValue: 0,\r\n\t\t\t\tuseNativeDriver: true,\r\n\t\t\t}).start();\r\n\t\t}\r\n\t}, [currentIcon, previousIcon, fade, scale]);\r\n\r\n\tconst opacityPrev = fade;\r\n\tconst opacityNext = previousIcon\r\n\t\t? fade.interpolate({\r\n\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\toutputRange: [1, 0],\r\n\t\t  })\r\n\t\t: 1;\r\n\r\n\tconst rotatePrev = fade.interpolate({\r\n\t\tinputRange: [0, 1],\r\n\t\toutputRange: ['-90deg', '0deg'],\r\n\t});\r\n\r\n\tconst rotateNext = previousIcon\r\n\t\t? fade.interpolate({\r\n\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\toutputRange: ['0deg', '-180deg'],\r\n\t\t  })\r\n\t\t: '0deg';\r\n\r\n\treturn (\r\n\t\t<View\r\n\t\t\tstyle={[\r\n\t\t\t\tstyles.content,\r\n\t\t\t\t{\r\n\t\t\t\t\theight: size,\r\n\t\t\t\t\twidth: size,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t>\r\n\t\t\t{previousIcon ? (\r\n\t\t\t\t<Animated.View\r\n\t\t\t\t\tstyle={[\r\n\t\t\t\t\t\tstyles.icon,\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\topacity: opacityPrev,\r\n\t\t\t\t\t\t\ttransform: [{ rotate: rotatePrev }],\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Icon source={previousIcon} size={size} color={color} />\r\n\t\t\t\t</Animated.View>\r\n\t\t\t) : null}\r\n\t\t\t<Animated.View\r\n\t\t\t\tstyle={[\r\n\t\t\t\t\tstyles.icon,\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\topacity: opacityNext,\r\n\t\t\t\t\t\ttransform: [{ rotate: rotateNext }],\r\n\t\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Icon source={currentIcon} size={size} color={color} />\r\n\t\t\t</Animated.View>\r\n\t\t</View>\r\n\t);\r\n};\r\n\r\nexport default withInternalTheme(CrossFadeIcon);\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontent: {\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'center',\r\n\t},\r\n\ticon: {\r\n\t\tposition: 'absolute',\r\n\t\ttop: 0,\r\n\t\tleft: 0,\r\n\t\tright: 0,\r\n\t\tbottom: 0,\r\n\t},\r\n});\r\n"],"mappings":"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"}