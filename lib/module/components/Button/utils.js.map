{"version":3,"names":["StyleSheet","color","black","white","isDark","dark","backgroundColor","isLight","getButtonBackgroundColor","isMode","theme","disabled","customButtonColor","isV3","colors","surfaceDisabled","elevation","level1","primary","secondaryContainer","alpha","rgb","string","getButtonTextColor","customTextColor","onSurfaceDisabled","onPrimary","onSecondaryContainer","getButtonBorderColor","outline","getButtonBorderWidth","hairlineWidth","getButtonColors","mode","modeToCompare","textColor","borderColor","borderWidth"],"sources":["utils.tsx"],"sourcesContent":["import { StyleSheet } from 'react-native';\r\n\r\nimport color from 'color';\r\n\r\nimport { black, white } from '../../styles/themes/v2/colors';\r\nimport type { InternalTheme } from '../../types';\r\n\r\nexport type ButtonMode =\r\n\t| 'text'\r\n\t| 'outlined'\r\n\t| 'contained'\r\n\t| 'elevated'\r\n\t| 'contained-tonal';\r\n\r\ntype BaseProps = {\r\n\tisMode: (mode: ButtonMode) => boolean;\r\n\ttheme: InternalTheme;\r\n\tdisabled?: boolean;\r\n};\r\n\r\nconst isDark = ({\r\n\tdark,\r\n\tbackgroundColor,\r\n}: {\r\n\tdark?: boolean;\r\n\tbackgroundColor?: string;\r\n}) => {\r\n\tif (typeof dark === 'boolean') {\r\n\t\treturn dark;\r\n\t}\r\n\r\n\tif (backgroundColor === 'transparent') {\r\n\t\treturn false;\r\n\t}\r\n\r\n\tif (backgroundColor !== 'transparent') {\r\n\t\treturn !color(backgroundColor).isLight();\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\nconst getButtonBackgroundColor = ({\r\n\tisMode,\r\n\ttheme,\r\n\tdisabled,\r\n\tcustomButtonColor,\r\n}: BaseProps & {\r\n\tcustomButtonColor?: string;\r\n}) => {\r\n\tif (customButtonColor && !disabled) {\r\n\t\treturn customButtonColor;\r\n\t}\r\n\r\n\tif (theme.isV3) {\r\n\t\tif (disabled) {\r\n\t\t\tif (isMode('outlined') || isMode('text')) {\r\n\t\t\t\treturn 'transparent';\r\n\t\t\t}\r\n\r\n\t\t\treturn theme.colors.surfaceDisabled;\r\n\t\t}\r\n\r\n\t\tif (isMode('elevated')) {\r\n\t\t\treturn theme.colors.elevation.level1;\r\n\t\t}\r\n\r\n\t\tif (isMode('contained')) {\r\n\t\t\treturn theme.colors.primary;\r\n\t\t}\r\n\r\n\t\tif (isMode('contained-tonal')) {\r\n\t\t\treturn theme.colors.secondaryContainer;\r\n\t\t}\r\n\t}\r\n\r\n\tif (isMode('contained')) {\r\n\t\tif (disabled) {\r\n\t\t\treturn color(theme.dark ? white : black)\r\n\t\t\t\t.alpha(0.12)\r\n\t\t\t\t.rgb()\r\n\t\t\t\t.string();\r\n\t\t}\r\n\r\n\t\treturn theme.colors.primary;\r\n\t}\r\n\r\n\treturn 'transparent';\r\n};\r\n\r\nconst getButtonTextColor = ({\r\n\tisMode,\r\n\ttheme,\r\n\tdisabled,\r\n\tcustomTextColor,\r\n\tbackgroundColor,\r\n\tdark,\r\n}: BaseProps & {\r\n\tcustomTextColor?: string;\r\n\tbackgroundColor: string;\r\n\tdark?: boolean;\r\n}) => {\r\n\tif (customTextColor && !disabled) {\r\n\t\treturn customTextColor;\r\n\t}\r\n\r\n\tif (theme.isV3) {\r\n\t\tif (disabled) {\r\n\t\t\treturn theme.colors.onSurfaceDisabled;\r\n\t\t}\r\n\r\n\t\tif (typeof dark === 'boolean') {\r\n\t\t\tif (\r\n\t\t\t\tisMode('contained') ||\r\n\t\t\t\tisMode('contained-tonal') ||\r\n\t\t\t\tisMode('elevated')\r\n\t\t\t) {\r\n\t\t\t\treturn isDark({ dark, backgroundColor }) ? white : black;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (isMode('outlined') || isMode('text') || isMode('elevated')) {\r\n\t\t\treturn theme.colors.primary;\r\n\t\t}\r\n\r\n\t\tif (isMode('contained')) {\r\n\t\t\treturn theme.colors.onPrimary;\r\n\t\t}\r\n\r\n\t\tif (isMode('contained-tonal')) {\r\n\t\t\treturn theme.colors.onSecondaryContainer;\r\n\t\t}\r\n\t}\r\n\r\n\tif (disabled) {\r\n\t\treturn color(theme.dark ? white : black)\r\n\t\t\t.alpha(0.32)\r\n\t\t\t.rgb()\r\n\t\t\t.string();\r\n\t}\r\n\r\n\tif (isMode('contained')) {\r\n\t\treturn isDark({ dark, backgroundColor }) ? white : black;\r\n\t}\r\n\r\n\treturn theme.colors.primary;\r\n};\r\n\r\nconst getButtonBorderColor = ({ isMode, disabled, theme }: BaseProps) => {\r\n\tif (theme.isV3) {\r\n\t\tif (disabled && isMode('outlined')) {\r\n\t\t\treturn theme.colors.surfaceDisabled;\r\n\t\t}\r\n\r\n\t\tif (isMode('outlined')) {\r\n\t\t\treturn theme.colors.outline;\r\n\t\t}\r\n\t}\r\n\r\n\tif (isMode('outlined')) {\r\n\t\treturn color(theme.dark ? white : black)\r\n\t\t\t.alpha(0.29)\r\n\t\t\t.rgb()\r\n\t\t\t.string();\r\n\t}\r\n\r\n\treturn 'transparent';\r\n};\r\n\r\nconst getButtonBorderWidth = ({\r\n\tisMode,\r\n\ttheme,\r\n}: Omit<BaseProps, 'disabled'>) => {\r\n\tif (theme.isV3) {\r\n\t\tif (isMode('outlined')) {\r\n\t\t\treturn 1;\r\n\t\t}\r\n\t}\r\n\r\n\tif (isMode('outlined')) {\r\n\t\treturn StyleSheet.hairlineWidth;\r\n\t}\r\n\r\n\treturn 0;\r\n};\r\n\r\nexport const getButtonColors = ({\r\n\ttheme,\r\n\tmode,\r\n\tcustomButtonColor,\r\n\tcustomTextColor,\r\n\tdisabled,\r\n\tdark,\r\n}: {\r\n\ttheme: InternalTheme;\r\n\tmode: ButtonMode;\r\n\tcustomButtonColor?: string;\r\n\tcustomTextColor?: string;\r\n\tdisabled?: boolean;\r\n\tdark?: boolean;\r\n}) => {\r\n\tconst isMode = (modeToCompare: ButtonMode) => {\r\n\t\treturn mode === modeToCompare;\r\n\t};\r\n\r\n\tconst backgroundColor = getButtonBackgroundColor({\r\n\t\tisMode,\r\n\t\ttheme,\r\n\t\tdisabled,\r\n\t\tcustomButtonColor,\r\n\t});\r\n\r\n\tconst textColor = getButtonTextColor({\r\n\t\tisMode,\r\n\t\ttheme,\r\n\t\tdisabled,\r\n\t\tcustomTextColor,\r\n\t\tbackgroundColor,\r\n\t\tdark,\r\n\t});\r\n\r\n\tconst borderColor = getButtonBorderColor({ isMode, theme, disabled });\r\n\r\n\tconst borderWidth = getButtonBorderWidth({ isMode, theme });\r\n\r\n\treturn {\r\n\t\tbackgroundColor,\r\n\t\tborderColor,\r\n\t\ttextColor,\r\n\t\tborderWidth,\r\n\t};\r\n};\r\n"],"mappings":"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"}