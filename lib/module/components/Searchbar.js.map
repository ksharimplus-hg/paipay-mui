{"version":3,"names":["React","I18nManager","Platform","StyleSheet","TextInput","View","color","ActivityIndicator","IconButton","MaterialCommunityIcon","Surface","withInternalTheme","Searchbar","forwardRef","ref","clearAccessibilityLabel","clearIcon","icon","iconColor","customIconColor","inputStyle","onIconPress","placeholder","searchAccessibilityLabel","elevation","style","theme","value","loading","testID","rest","root","useRef","useImperativeHandle","input","current","focus","clear","setNativeProps","args","isFocused","blur","noop","Error","handleClearPress","onChangeText","colors","roundness","dark","isV3","textColor","onSurface","text","alpha","rgb","string","rippleColor","borderRadius","styles","container","size","getConstants","isRTL","fonts","default","regular","select","web","outline","primary","loader","create","flexDirection","alignItems","flex","fontSize","paddingLeft","alignSelf","textAlign","minWidth","margin"],"sources":["Searchbar.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n\tAnimated,\n\tGestureResponderEvent,\n\tI18nManager,\n\tPlatform,\n\tStyleProp,\n\tStyleSheet,\n\tTextInput,\n\tTextInputProps,\n\tTextStyle,\n\tView,\n\tViewStyle,\n} from 'react-native';\n\nimport color from 'color';\n\nimport ActivityIndicator from './ActivityIndicator';\nimport type { IconSource } from './Icon';\nimport IconButton from './IconButton/IconButton';\nimport MaterialCommunityIcon from './MaterialCommunityIcon';\nimport Surface from './Surface';\nimport { withInternalTheme } from '../core/theming';\nimport type { InternalTheme } from '../types';\n\nexport type Props = React.ComponentPropsWithRef<typeof TextInput> & {\n\t/**\n\t * Accessibility label for the button. This is read by the screen reader when the user taps the button.\n\t */\n\tclearAccessibilityLabel?: string;\n\t/**\n\t * Accessibility label for the button. This is read by the screen reader when the user taps the button.\n\t */\n\tsearchAccessibilityLabel?: string;\n\t/**\n\t * Hint text shown when the input is empty.\n\t */\n\tplaceholder?: string;\n\t/**\n\t * The value of the text input.\n\t */\n\tvalue: string;\n\t/**\n\t * Icon name for the left icon button (see `onIconPress`).\n\t */\n\ticon?: IconSource;\n\t/**\n\t * Callback that is called when the text input's text changes.\n\t */\n\tonChangeText?: (query: string) => void;\n\t/**\n\t * Callback to execute if we want the left icon to act as button.\n\t */\n\tonIconPress?: (e: GestureResponderEvent) => void;\n\t/**\n\t * @supported Available in v5.x with theme version 3\n\t * Changes Searchbar shadow and background on iOS and Android.\n\t */\n\televation?: 0 | 1 | 2 | 3 | 4 | 5 | Animated.Value;\n\t/**\n\t * Set style of the TextInput component inside the searchbar\n\t */\n\tinputStyle?: StyleProp<TextStyle>;\n\tstyle?: StyleProp<ViewStyle>;\n\t/**\n\t * Custom color for icon, default will be derived from theme\n\t */\n\ticonColor?: string;\n\t/**\n\t * Custom icon for clear button, default will be icon close\n\t */\n\tclearIcon?: IconSource;\n\t/**\n\t * Custom flag for replacing clear button with activity indicator.\n\t */\n\tloading?: Boolean;\n\t/**\n\t * TestID used for testing purposes\n\t */\n\ttestID?: string;\n\t/**\n\t * @optional\n\t */\n\ttheme: InternalTheme;\n};\n\ntype TextInputHandles = Pick<\n\tTextInput,\n\t'setNativeProps' | 'isFocused' | 'clear' | 'blur' | 'focus'\n>;\n\n/**\n * Searchbar is a simple input box where users can type search queries.\n *\n * <div class=\"screenshots\">\n *   <img class=\"small\" src=\"screenshots/searchbar.png\" />\n * </div>\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { Searchbar } from 'react-native-paper';\n *\n * const MyComponent = () => {\n *   const [searchQuery, setSearchQuery] = React.useState('');\n *\n *   const onChangeSearch = query => setSearchQuery(query);\n *\n *   return (\n *     <Searchbar\n *       placeholder=\"Search\"\n *       onChangeText={onChangeSearch}\n *       value={searchQuery}\n *     />\n *   );\n * };\n *\n * export default MyComponent;\n\n * ```\n */\nconst Searchbar = React.forwardRef<TextInputHandles, Props>(\n\t(\n\t\t{\n\t\t\tclearAccessibilityLabel = 'clear',\n\t\t\tclearIcon,\n\t\t\ticon,\n\t\t\ticonColor: customIconColor,\n\t\t\tinputStyle,\n\t\t\tonIconPress,\n\t\t\tplaceholder,\n\t\t\tsearchAccessibilityLabel = 'search',\n\t\t\televation = 1,\n\t\t\tstyle,\n\t\t\ttheme,\n\t\t\tvalue,\n\t\t\tloading = false,\n\t\t\ttestID = 'search-bar',\n\t\t\t...rest\n\t\t}: Props,\n\t\tref\n\t) => {\n\t\tconst root = React.useRef<TextInput>(null);\n\n\t\tReact.useImperativeHandle(ref, () => {\n\t\t\tconst input = root.current;\n\n\t\t\tif (input) {\n\t\t\t\treturn {\n\t\t\t\t\tfocus: () => input.focus(),\n\t\t\t\t\tclear: () => input.clear(),\n\t\t\t\t\tsetNativeProps: (args: TextInputProps) =>\n\t\t\t\t\t\tinput.setNativeProps(args),\n\t\t\t\t\tisFocused: () => input.isFocused(),\n\t\t\t\t\tblur: () => input.blur(),\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tconst noop = () => {\n\t\t\t\tthrow new Error('TextInput is not available');\n\t\t\t};\n\n\t\t\treturn {\n\t\t\t\tfocus: noop,\n\t\t\t\tclear: noop,\n\t\t\t\tsetNativeProps: noop,\n\t\t\t\tisFocused: noop,\n\t\t\t\tblur: noop,\n\t\t\t};\n\t\t});\n\n\t\tconst handleClearPress = () => {\n\t\t\troot.current?.clear();\n\t\t\trest.onChangeText?.('');\n\t\t};\n\n\t\tconst { colors, roundness, dark, isV3 } = theme;\n\t\tconst textColor = isV3 ? theme.colors.onSurface : theme.colors.text;\n\t\tconst iconColor =\n\t\t\tcustomIconColor ||\n\t\t\t(dark ? textColor : color(textColor).alpha(0.54).rgb().string());\n\t\tconst rippleColor = color(textColor).alpha(0.32).rgb().string();\n\n\t\treturn (\n\t\t\t<Surface\n\t\t\t\tstyle={[\n\t\t\t\t\t{ borderRadius: roundness },\n\t\t\t\t\t!isV3 && styles.elevation,\n\t\t\t\t\tstyles.container,\n\t\t\t\t\tstyle,\n\t\t\t\t]}\n\t\t\t\t{...(theme.isV3 && { elevation })}\n\t\t\t>\n\t\t\t\t<IconButton\n\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\tborderless\n\t\t\t\t\trippleColor={rippleColor}\n\t\t\t\t\tonPress={onIconPress}\n\t\t\t\t\ticonColor={iconColor}\n\t\t\t\t\ticon={\n\t\t\t\t\t\ticon ||\n\t\t\t\t\t\t(({ size, color }) => (\n\t\t\t\t\t\t\t<MaterialCommunityIcon\n\t\t\t\t\t\t\t\tname=\"magnify\"\n\t\t\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\t\t\tsize={size}\n\t\t\t\t\t\t\t\tdirection={\n\t\t\t\t\t\t\t\t\tI18nManager.getConstants().isRTL\n\t\t\t\t\t\t\t\t\t\t? 'rtl'\n\t\t\t\t\t\t\t\t\t\t: 'ltr'\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t\taccessibilityLabel={searchAccessibilityLabel}\n\t\t\t\t/>\n\t\t\t\t<TextInput\n\t\t\t\t\tstyle={[\n\t\t\t\t\t\tstyles.input,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tcolor: textColor,\n\t\t\t\t\t\t\t...(theme.isV3\n\t\t\t\t\t\t\t\t? theme.fonts.default\n\t\t\t\t\t\t\t\t: theme.fonts.regular),\n\t\t\t\t\t\t\t...Platform.select({ web: { outline: 'none' } }),\n\t\t\t\t\t\t},\n\t\t\t\t\t\tinputStyle,\n\t\t\t\t\t]}\n\t\t\t\t\tplaceholder={placeholder || ''}\n\t\t\t\t\tplaceholderTextColor={\n\t\t\t\t\t\ttheme.isV3\n\t\t\t\t\t\t\t? theme.colors.onSurface\n\t\t\t\t\t\t\t: theme.colors?.placeholder\n\t\t\t\t\t}\n\t\t\t\t\tselectionColor={colors?.primary}\n\t\t\t\t\tunderlineColorAndroid=\"transparent\"\n\t\t\t\t\treturnKeyType=\"search\"\n\t\t\t\t\tkeyboardAppearance={dark ? 'dark' : 'light'}\n\t\t\t\t\taccessibilityRole=\"search\"\n\t\t\t\t\tref={root}\n\t\t\t\t\tvalue={value}\n\t\t\t\t\ttestID={testID}\n\t\t\t\t\t{...rest}\n\t\t\t\t/>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<ActivityIndicator\n\t\t\t\t\t\ttestID=\"activity-indicator\"\n\t\t\t\t\t\tstyle={styles.loader}\n\t\t\t\t\t/>\n\t\t\t\t) : (\n\t\t\t\t\t// Clear icon should be always rendered within Searchbar â€“ it's transparent,\n\t\t\t\t\t// without touch events, when there is no value. It's done to avoid issues\n\t\t\t\t\t// with the abruptly stopping ripple effect and changing bar width on web,\n\t\t\t\t\t// when clearing the value.\n\t\t\t\t\t<View\n\t\t\t\t\t\tpointerEvents={value ? 'auto' : 'none'}\n\t\t\t\t\t\ttestID={`${testID}-icon-wrapper`}\n\t\t\t\t\t>\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tborderless\n\t\t\t\t\t\t\taccessibilityLabel={clearAccessibilityLabel}\n\t\t\t\t\t\t\ticonColor={\n\t\t\t\t\t\t\t\tvalue ? iconColor : 'rgba(255, 255, 255, 0)'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\trippleColor={rippleColor}\n\t\t\t\t\t\t\tonPress={handleClearPress}\n\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\tclearIcon ||\n\t\t\t\t\t\t\t\t(({ size, color }) => (\n\t\t\t\t\t\t\t\t\t<MaterialCommunityIcon\n\t\t\t\t\t\t\t\t\t\tname=\"close\"\n\t\t\t\t\t\t\t\t\t\tcolor={color}\n\t\t\t\t\t\t\t\t\t\tsize={size}\n\t\t\t\t\t\t\t\t\t\tdirection={\n\t\t\t\t\t\t\t\t\t\t\tI18nManager.getConstants().isRTL\n\t\t\t\t\t\t\t\t\t\t\t\t? 'rtl'\n\t\t\t\t\t\t\t\t\t\t\t\t: 'ltr'\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\taccessibilityRole=\"button\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</View>\n\t\t\t\t)}\n\t\t\t</Surface>\n\t\t);\n\t}\n);\n\nconst styles = StyleSheet.create({\n\tcontainer: {\n\t\tflexDirection: 'row',\n\t\talignItems: 'center',\n\t},\n\tinput: {\n\t\tflex: 1,\n\t\tfontSize: 18,\n\t\tpaddingLeft: 8,\n\t\talignSelf: 'stretch',\n\t\ttextAlign: I18nManager.getConstants().isRTL ? 'right' : 'left',\n\t\tminWidth: 0,\n\t},\n\televation: {\n\t\televation: 4,\n\t},\n\tloader: {\n\t\tmargin: 10,\n\t},\n});\n\nexport default withInternalTheme(Searchbar);\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAGCC,WAAW,EACXC,QAAQ,EAERC,UAAU,EACVC,SAAS,EAGTC,IAAI,QAEE,cAAc;AAErB,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAOC,iBAAiB,MAAM,qBAAqB;AAEnD,OAAOC,UAAU,MAAM,yBAAyB;AAChD,OAAOC,qBAAqB,MAAM,yBAAyB;AAC3D,OAAOC,OAAO,MAAM,WAAW;AAC/B,SAASC,iBAAiB,QAAQ,iBAAiB;AAqEnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMC,SAAS,gBAAGZ,KAAK,CAACa,UAAU,CACjC,OAkBCC,GAAG,KACC;EAAA;EAAA,IAlBJ;IACCC,uBAAuB,GAAG,OAAO;IACjCC,SAAS;IACTC,IAAI;IACJC,SAAS,EAAEC,eAAe;IAC1BC,UAAU;IACVC,WAAW;IACXC,WAAW;IACXC,wBAAwB,GAAG,QAAQ;IACnCC,SAAS,GAAG,CAAC;IACbC,KAAK;IACLC,KAAK;IACLC,KAAK;IACLC,OAAO,GAAG,KAAK;IACfC,MAAM,GAAG,YAAY;IACrB,GAAGC;EACG,CAAC;EAGR,MAAMC,IAAI,GAAG/B,KAAK,CAACgC,MAAM,CAAY,IAAI,CAAC;EAE1ChC,KAAK,CAACiC,mBAAmB,CAACnB,GAAG,EAAE,MAAM;IACpC,MAAMoB,KAAK,GAAGH,IAAI,CAACI,OAAO;IAE1B,IAAID,KAAK,EAAE;MACV,OAAO;QACNE,KAAK,EAAE,MAAMF,KAAK,CAACE,KAAK,EAAE;QAC1BC,KAAK,EAAE,MAAMH,KAAK,CAACG,KAAK,EAAE;QAC1BC,cAAc,EAAGC,IAAoB,IACpCL,KAAK,CAACI,cAAc,CAACC,IAAI,CAAC;QAC3BC,SAAS,EAAE,MAAMN,KAAK,CAACM,SAAS,EAAE;QAClCC,IAAI,EAAE,MAAMP,KAAK,CAACO,IAAI;MACvB,CAAC;IACF;IAEA,MAAMC,IAAI,GAAG,MAAM;MAClB,MAAM,IAAIC,KAAK,CAAC,4BAA4B,CAAC;IAC9C,CAAC;IAED,OAAO;MACNP,KAAK,EAAEM,IAAI;MACXL,KAAK,EAAEK,IAAI;MACXJ,cAAc,EAAEI,IAAI;MACpBF,SAAS,EAAEE,IAAI;MACfD,IAAI,EAAEC;IACP,CAAC;EACF,CAAC,CAAC;EAEF,MAAME,gBAAgB,GAAG,MAAM;IAAA;IAC9B,iBAAAb,IAAI,CAACI,OAAO,kDAAZ,cAAcE,KAAK,EAAE;IACrB,sBAAAP,IAAI,CAACe,YAAY,uDAAjB,wBAAAf,IAAI,EAAgB,EAAE,CAAC;EACxB,CAAC;EAED,MAAM;IAAEgB,MAAM;IAAEC,SAAS;IAAEC,IAAI;IAAEC;EAAK,CAAC,GAAGvB,KAAK;EAC/C,MAAMwB,SAAS,GAAGD,IAAI,GAAGvB,KAAK,CAACoB,MAAM,CAACK,SAAS,GAAGzB,KAAK,CAACoB,MAAM,CAACM,IAAI;EACnE,MAAMlC,SAAS,GACdC,eAAe,KACd6B,IAAI,GAAGE,SAAS,GAAG5C,KAAK,CAAC4C,SAAS,CAAC,CAACG,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,EAAE,CAACC,MAAM,EAAE,CAAC;EACjE,MAAMC,WAAW,GAAGlD,KAAK,CAAC4C,SAAS,CAAC,CAACG,KAAK,CAAC,IAAI,CAAC,CAACC,GAAG,EAAE,CAACC,MAAM,EAAE;EAE/D,oBACC,oBAAC,OAAO;IACP,KAAK,EAAE,CACN;MAAEE,YAAY,EAAEV;IAAU,CAAC,EAC3B,CAACE,IAAI,IAAIS,MAAM,CAAClC,SAAS,EACzBkC,MAAM,CAACC,SAAS,EAChBlC,KAAK;EACJ,GACGC,KAAK,CAACuB,IAAI,IAAI;IAAEzB;EAAU,CAAC,gBAEhC,oBAAC,UAAU;IACV,iBAAiB,EAAC,QAAQ;IAC1B,UAAU;IACV,WAAW,EAAEgC,WAAY;IACzB,OAAO,EAAEnC,WAAY;IACrB,SAAS,EAAEH,SAAU;IACrB,IAAI,EACHD,IAAI,KACH;MAAA,IAAC;QAAE2C,IAAI;QAAEtD;MAAM,CAAC;MAAA,oBAChB,oBAAC,qBAAqB;QACrB,IAAI,EAAC,SAAS;QACd,KAAK,EAAEA,KAAM;QACb,IAAI,EAAEsD,IAAK;QACX,SAAS,EACR3D,WAAW,CAAC4D,YAAY,EAAE,CAACC,KAAK,GAC7B,KAAK,GACL;MACH,EACA;IAAA,CACF,CACD;IACD,kBAAkB,EAAEvC;EAAyB,EAC5C,eACF,oBAAC,SAAS;IACT,KAAK,EAAE,CACNmC,MAAM,CAACxB,KAAK,EACZ;MACC5B,KAAK,EAAE4C,SAAS;MAChB,IAAIxB,KAAK,CAACuB,IAAI,GACXvB,KAAK,CAACqC,KAAK,CAACC,OAAO,GACnBtC,KAAK,CAACqC,KAAK,CAACE,OAAO,CAAC;MACvB,GAAG/D,QAAQ,CAACgE,MAAM,CAAC;QAAEC,GAAG,EAAE;UAAEC,OAAO,EAAE;QAAO;MAAE,CAAC;IAChD,CAAC,EACDhD,UAAU,CACT;IACF,WAAW,EAAEE,WAAW,IAAI,EAAG;IAC/B,oBAAoB,EACnBI,KAAK,CAACuB,IAAI,GACPvB,KAAK,CAACoB,MAAM,CAACK,SAAS,oBACtBzB,KAAK,CAACoB,MAAM,kDAAZ,cAAcxB,WACjB;IACD,cAAc,EAAEwB,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEuB,OAAQ;IAChC,qBAAqB,EAAC,aAAa;IACnC,aAAa,EAAC,QAAQ;IACtB,kBAAkB,EAAErB,IAAI,GAAG,MAAM,GAAG,OAAQ;IAC5C,iBAAiB,EAAC,QAAQ;IAC1B,GAAG,EAAEjB,IAAK;IACV,KAAK,EAAEJ,KAAM;IACb,MAAM,EAAEE;EAAO,GACXC,IAAI,EACP,EACDF,OAAO,gBACP,oBAAC,iBAAiB;IACjB,MAAM,EAAC,oBAAoB;IAC3B,KAAK,EAAE8B,MAAM,CAACY;EAAO,EACpB;EAAA;EAEF;EACA;EACA;EACA;EACA,oBAAC,IAAI;IACJ,aAAa,EAAE3C,KAAK,GAAG,MAAM,GAAG,MAAO;IACvC,MAAM,EAAG,GAAEE,MAAO;EAAe,gBAEjC,oBAAC,UAAU;IACV,UAAU;IACV,kBAAkB,EAAEd,uBAAwB;IAC5C,SAAS,EACRY,KAAK,GAAGT,SAAS,GAAG,wBACpB;IACD,WAAW,EAAEsC,WAAY;IACzB,OAAO,EAAEZ,gBAAiB;IAC1B,IAAI,EACH5B,SAAS,KACR;MAAA,IAAC;QAAE4C,IAAI;QAAEtD;MAAM,CAAC;MAAA,oBAChB,oBAAC,qBAAqB;QACrB,IAAI,EAAC,OAAO;QACZ,KAAK,EAAEA,KAAM;QACb,IAAI,EAAEsD,IAAK;QACX,SAAS,EACR3D,WAAW,CAAC4D,YAAY,EAAE,CAACC,KAAK,GAC7B,KAAK,GACL;MACH,EACA;IAAA,CACF,CACD;IACD,iBAAiB,EAAC;EAAQ,EACzB,CAEH,CACQ;AAEZ,CAAC,CACD;AAED,MAAMJ,MAAM,GAAGvD,UAAU,CAACoE,MAAM,CAAC;EAChCZ,SAAS,EAAE;IACVa,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE;EACb,CAAC;EACDvC,KAAK,EAAE;IACNwC,IAAI,EAAE,CAAC;IACPC,QAAQ,EAAE,EAAE;IACZC,WAAW,EAAE,CAAC;IACdC,SAAS,EAAE,SAAS;IACpBC,SAAS,EAAE7E,WAAW,CAAC4D,YAAY,EAAE,CAACC,KAAK,GAAG,OAAO,GAAG,MAAM;IAC9DiB,QAAQ,EAAE;EACX,CAAC;EACDvD,SAAS,EAAE;IACVA,SAAS,EAAE;EACZ,CAAC;EACD8C,MAAM,EAAE;IACPU,MAAM,EAAE;EACT;AACD,CAAC,CAAC;AAEF,eAAerE,iBAAiB,CAACC,SAAS,CAAC"}