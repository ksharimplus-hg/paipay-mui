{"version":3,"names":["React","Platform","StyleSheet","Pressable","getTouchableRippleColors","withInternalTheme","ANDROID_VERSION_LOLLIPOP","ANDROID_VERSION_PIE","TouchableRipple","style","background","borderless","disabled","disabledProp","rippleColor","underlayColor","children","theme","rest","showUnderlay","setShowUnderlay","useState","onPress","calculatedRippleColor","calculatedUnderlayColor","useForeground","OS","Version","handlePressIn","e","onPressIn","handlePressOut","onPressOut","supported","styles","overflowHidden","color","foreground","Children","only","backgroundColor","create","overflow"],"sources":["TouchableRipple.native.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n\tPressableAndroidRippleConfig,\n\tStyleProp,\n\tPlatform,\n\tViewStyle,\n\tStyleSheet,\n\tPressable,\n\tGestureResponderEvent,\n} from 'react-native';\n\nimport { getTouchableRippleColors } from './utils';\nimport { withInternalTheme } from '../../core/theming';\nimport type { InternalTheme } from '../../types';\n\nconst ANDROID_VERSION_LOLLIPOP = 21;\nconst ANDROID_VERSION_PIE = 28;\n\ntype Props = React.ComponentProps<typeof Pressable> & {\n\tborderless?: boolean;\n\tbackground?: PressableAndroidRippleConfig;\n\tdisabled?: boolean;\n\tonPress?: (e: GestureResponderEvent) => void | null;\n\trippleColor?: string;\n\tunderlayColor?: string;\n\tchildren: React.ReactNode;\n\tstyle?: StyleProp<ViewStyle>;\n\ttheme: InternalTheme;\n};\n\nconst TouchableRipple = ({\n\tstyle,\n\tbackground,\n\tborderless = false,\n\tdisabled: disabledProp,\n\trippleColor,\n\tunderlayColor,\n\tchildren,\n\ttheme,\n\t...rest\n}: Props) => {\n\tconst [showUnderlay, setShowUnderlay] = React.useState<boolean>(false);\n\n\tconst disabled = disabledProp || !rest.onPress;\n\tconst { calculatedRippleColor, calculatedUnderlayColor } =\n\t\tgetTouchableRippleColors({\n\t\t\ttheme,\n\t\t\trippleColor,\n\t\t\tunderlayColor,\n\t\t});\n\n\t// A workaround for ripple on Android P is to use useForeground + overflow: 'hidden'\n\t// https://github.com/facebook/react-native/issues/6480\n\tconst useForeground =\n\t\tPlatform.OS === 'android' &&\n\t\tPlatform.Version >= ANDROID_VERSION_PIE &&\n\t\tborderless;\n\n\tconst handlePressIn = (e: GestureResponderEvent) => {\n\t\tsetShowUnderlay(true);\n\t\trest.onPressIn?.(e);\n\t};\n\n\tconst handlePressOut = (e: GestureResponderEvent) => {\n\t\tsetShowUnderlay(false);\n\t\trest.onPressOut?.(e);\n\t};\n\n\tif (TouchableRipple.supported) {\n\t\treturn (\n\t\t\t<Pressable\n\t\t\t\t{...rest}\n\t\t\t\tdisabled={disabled}\n\t\t\t\tstyle={[borderless && styles.overflowHidden, style]}\n\t\t\t\tandroid_ripple={\n\t\t\t\t\tbackground != null\n\t\t\t\t\t\t? background\n\t\t\t\t\t\t: {\n\t\t\t\t\t\t\t\tcolor: calculatedRippleColor,\n\t\t\t\t\t\t\t\tborderless,\n\t\t\t\t\t\t\t\tforeground: useForeground,\n\t\t\t\t\t\t  }\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t{React.Children.only(children)}\n\t\t\t</Pressable>\n\t\t);\n\t}\n\n\treturn (\n\t\t<Pressable\n\t\t\t{...rest}\n\t\t\tdisabled={disabled}\n\t\t\tstyle={[\n\t\t\t\tborderless && styles.overflowHidden,\n\t\t\t\tshowUnderlay && { backgroundColor: calculatedUnderlayColor },\n\t\t\t\tstyle,\n\t\t\t]}\n\t\t\tonPressIn={handlePressIn}\n\t\t\tonPressOut={handlePressOut}\n\t\t>\n\t\t\t{React.Children.only(children)}\n\t\t</Pressable>\n\t);\n};\n\nTouchableRipple.supported =\n\tPlatform.OS === 'android' && Platform.Version >= ANDROID_VERSION_LOLLIPOP;\n\nconst styles = StyleSheet.create({\n\toverflowHidden: {\n\t\toverflow: 'hidden',\n\t},\n});\n\nexport default withInternalTheme(TouchableRipple);\n"],"mappings":";AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAGCC,QAAQ,EAERC,UAAU,EACVC,SAAS,QAEH,cAAc;AAErB,SAASC,wBAAwB,QAAQ,SAAS;AAClD,SAASC,iBAAiB,QAAQ,oBAAoB;AAGtD,MAAMC,wBAAwB,GAAG,EAAE;AACnC,MAAMC,mBAAmB,GAAG,EAAE;AAc9B,MAAMC,eAAe,GAAG,QAUX;EAAA,IAVY;IACxBC,KAAK;IACLC,UAAU;IACVC,UAAU,GAAG,KAAK;IAClBC,QAAQ,EAAEC,YAAY;IACtBC,WAAW;IACXC,aAAa;IACbC,QAAQ;IACRC,KAAK;IACL,GAAGC;EACG,CAAC;EACP,MAAM,CAACC,YAAY,EAAEC,eAAe,CAAC,GAAGpB,KAAK,CAACqB,QAAQ,CAAU,KAAK,CAAC;EAEtE,MAAMT,QAAQ,GAAGC,YAAY,IAAI,CAACK,IAAI,CAACI,OAAO;EAC9C,MAAM;IAAEC,qBAAqB;IAAEC;EAAwB,CAAC,GACvDpB,wBAAwB,CAAC;IACxBa,KAAK;IACLH,WAAW;IACXC;EACD,CAAC,CAAC;;EAEH;EACA;EACA,MAAMU,aAAa,GAClBxB,QAAQ,CAACyB,EAAE,KAAK,SAAS,IACzBzB,QAAQ,CAAC0B,OAAO,IAAIpB,mBAAmB,IACvCI,UAAU;EAEX,MAAMiB,aAAa,GAAIC,CAAwB,IAAK;IAAA;IACnDT,eAAe,CAAC,IAAI,CAAC;IACrB,mBAAAF,IAAI,CAACY,SAAS,oDAAd,qBAAAZ,IAAI,EAAaW,CAAC,CAAC;EACpB,CAAC;EAED,MAAME,cAAc,GAAIF,CAAwB,IAAK;IAAA;IACpDT,eAAe,CAAC,KAAK,CAAC;IACtB,oBAAAF,IAAI,CAACc,UAAU,qDAAf,sBAAAd,IAAI,EAAcW,CAAC,CAAC;EACrB,CAAC;EAED,IAAIrB,eAAe,CAACyB,SAAS,EAAE;IAC9B,oBACC,oBAAC,SAAS,eACLf,IAAI;MACR,QAAQ,EAAEN,QAAS;MACnB,KAAK,EAAE,CAACD,UAAU,IAAIuB,MAAM,CAACC,cAAc,EAAE1B,KAAK,CAAE;MACpD,cAAc,EACbC,UAAU,IAAI,IAAI,GACfA,UAAU,GACV;QACA0B,KAAK,EAAEb,qBAAqB;QAC5BZ,UAAU;QACV0B,UAAU,EAAEZ;MACZ;IACH,IAEAzB,KAAK,CAACsC,QAAQ,CAACC,IAAI,CAACvB,QAAQ,CAAC,CACnB;EAEd;EAEA,oBACC,oBAAC,SAAS,eACLE,IAAI;IACR,QAAQ,EAAEN,QAAS;IACnB,KAAK,EAAE,CACND,UAAU,IAAIuB,MAAM,CAACC,cAAc,EACnChB,YAAY,IAAI;MAAEqB,eAAe,EAAEhB;IAAwB,CAAC,EAC5Df,KAAK,CACJ;IACF,SAAS,EAAEmB,aAAc;IACzB,UAAU,EAAEG;EAAe,IAE1B/B,KAAK,CAACsC,QAAQ,CAACC,IAAI,CAACvB,QAAQ,CAAC,CACnB;AAEd,CAAC;AAEDR,eAAe,CAACyB,SAAS,GACxBhC,QAAQ,CAACyB,EAAE,KAAK,SAAS,IAAIzB,QAAQ,CAAC0B,OAAO,IAAIrB,wBAAwB;AAE1E,MAAM4B,MAAM,GAAGhC,UAAU,CAACuC,MAAM,CAAC;EAChCN,cAAc,EAAE;IACfO,QAAQ,EAAE;EACX;AACD,CAAC,CAAC;AAEF,eAAerC,iBAAiB,CAACG,eAAe,CAAC"}