{"version":3,"names":["React","View","StyleSheet","PortalManager","PureComponent","portals","key","children","setState","state","map","item","filter","render","absoluteFill"],"sources":["PortalManager.tsx"],"sourcesContent":["import * as React from 'react';\r\nimport { View, StyleSheet } from 'react-native';\r\n\r\ntype State = {\r\n\tportals: Array<{\r\n\t\tkey: number;\r\n\t\tchildren: React.ReactNode;\r\n\t}>;\r\n};\r\n\r\n/**\r\n * Portal host is the component which actually renders all Portals.\r\n */\r\nexport default class PortalManager extends React.PureComponent<{}, State> {\r\n\tstate: State = {\r\n\t\tportals: [],\r\n\t};\r\n\r\n\tmount = (key: number, children: React.ReactNode) => {\r\n\t\tthis.setState((state) => ({\r\n\t\t\tportals: [...state.portals, { key, children }],\r\n\t\t}));\r\n\t};\r\n\r\n\tupdate = (key: number, children: React.ReactNode) =>\r\n\t\tthis.setState((state) => ({\r\n\t\t\tportals: state.portals.map((item) => {\r\n\t\t\t\tif (item.key === key) {\r\n\t\t\t\t\treturn { ...item, children };\r\n\t\t\t\t}\r\n\t\t\t\treturn item;\r\n\t\t\t}),\r\n\t\t}));\r\n\r\n\tunmount = (key: number) =>\r\n\t\tthis.setState((state) => ({\r\n\t\t\tportals: state.portals.filter((item) => item.key !== key),\r\n\t\t}));\r\n\r\n\trender() {\r\n\t\treturn this.state.portals.map(({ key, children }) => (\r\n\t\t\t<View\r\n\t\t\t\tkey={key}\r\n\t\t\t\tcollapsable={\r\n\t\t\t\t\tfalse /* Need collapsable=false here to clip the elevations, otherwise they appear above sibling components */\r\n\t\t\t\t}\r\n\t\t\t\tpointerEvents=\"box-none\"\r\n\t\t\t\tstyle={StyleSheet.absoluteFill}\r\n\t\t\t>\r\n\t\t\t\t{children}\r\n\t\t\t</View>\r\n\t\t));\r\n\t}\r\n}\r\n"],"mappings":";;;AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B,SAASC,IAAI,EAAEC,UAAU,QAAQ,cAAc;AAS/C;AACA;AACA;AACA,eAAe,MAAMC,aAAa,SAASH,KAAK,CAACI,aAAa,CAAY;EAAA;IAAA;IAAA,+BAC1D;MACdC,OAAO,EAAE;IACV,CAAC;IAAA,+BAEO,CAACC,GAAW,EAAEC,QAAyB,KAAK;MACnD,IAAI,CAACC,QAAQ,CAAEC,KAAK,KAAM;QACzBJ,OAAO,EAAE,CAAC,GAAGI,KAAK,CAACJ,OAAO,EAAE;UAAEC,GAAG;UAAEC;QAAS,CAAC;MAC9C,CAAC,CAAC,CAAC;IACJ,CAAC;IAAA,gCAEQ,CAACD,GAAW,EAAEC,QAAyB,KAC/C,IAAI,CAACC,QAAQ,CAAEC,KAAK,KAAM;MACzBJ,OAAO,EAAEI,KAAK,CAACJ,OAAO,CAACK,GAAG,CAAEC,IAAI,IAAK;QACpC,IAAIA,IAAI,CAACL,GAAG,KAAKA,GAAG,EAAE;UACrB,OAAO;YAAE,GAAGK,IAAI;YAAEJ;UAAS,CAAC;QAC7B;QACA,OAAOI,IAAI;MACZ,CAAC;IACF,CAAC,CAAC,CAAC;IAAA,iCAEOL,GAAW,IACrB,IAAI,CAACE,QAAQ,CAAEC,KAAK,KAAM;MACzBJ,OAAO,EAAEI,KAAK,CAACJ,OAAO,CAACO,MAAM,CAAED,IAAI,IAAKA,IAAI,CAACL,GAAG,KAAKA,GAAG;IACzD,CAAC,CAAC,CAAC;EAAA;EAEJO,MAAM,GAAG;IACR,OAAO,IAAI,CAACJ,KAAK,CAACJ,OAAO,CAACK,GAAG,CAAC;MAAA,IAAC;QAAEJ,GAAG;QAAEC;MAAS,CAAC;MAAA,oBAC/C,oBAAC,IAAI;QACJ,GAAG,EAAED,GAAI;QACT,WAAW,EACV,KAAK,CAAC,wGACN;;QACD,aAAa,EAAC,UAAU;QACxB,KAAK,EAAEJ,UAAU,CAACY;MAAa,GAE9BP,QAAQ,CACH;IAAA,CACP,CAAC;EACH;AACD"}