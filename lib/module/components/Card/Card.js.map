{"version":3,"names":["React","Animated","StyleSheet","TouchableWithoutFeedback","View","CardActions","CardContent","CardCover","CardTitle","getCardColors","withInternalTheme","Surface","Card","elevation","cardElevation","onLongPress","delayLongPress","onPress","mode","cardMode","children","style","theme","testID","accessible","rest","isMode","useCallback","modeToCompare","current","useRef","Value","elevationDarkAdaptive","animation","dark","roundness","isV3","prevDarkRef","useEffect","prevDark","isAdaptiveMode","animationDuration","scale","setValue","runElevationAnimation","pressType","isPressTypeIn","timing","toValue","duration","useNativeDriver","start","handlePressIn","handlePressOut","total","Children","count","siblings","map","child","isValidElement","type","displayName","computedElevation","backgroundColor","borderColor","themedBorderColor","borderRadius","flatten","styles","resetElevation","outline","undefined","innerContainer","index","cloneElement","Content","Actions","Cover","Title","create","flexShrink","borderWidth","position","width","height","zIndex"],"sources":["Card.tsx"],"sourcesContent":["import * as React from 'react';\nimport {\n\tAnimated,\n\tGestureResponderEvent,\n\tStyleProp,\n\tStyleSheet,\n\tTouchableWithoutFeedback,\n\tView,\n\tViewStyle,\n} from 'react-native';\n\nimport CardActions from './CardActions';\nimport CardContent from './CardContent';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport CardCover from './CardCover';\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\nimport CardTitle from './CardTitle';\nimport { getCardColors } from './utils';\nimport { withInternalTheme } from '../../core/theming';\nimport type { InternalTheme } from '../../types';\nimport Surface from '../Surface';\n\ntype OutlinedCardProps = {\n\tmode: 'outlined';\n\televation?: never;\n};\n\ntype ElevatedCardProps = {\n\tmode?: 'elevated';\n\televation?: number;\n};\n\ntype ContainedCardProps = {\n\tmode?: 'contained';\n\televation?: never;\n};\n\ntype HandlePressType = 'in' | 'out';\n\ntype Mode = 'elevated' | 'outlined' | 'contained';\n\nexport type Props = React.ComponentProps<typeof Surface> & {\n\t/**\n\t * Mode of the Card.\n\t * - `elevated` - Card with elevation.\n\t * - `contained` - Card without outline and elevation @supported Available in v5.x with theme version 3\n\t * - `outlined` - Card with an outline.\n\t */\n\tmode?: Mode;\n\t/**\n\t * Content of the `Card`.\n\t */\n\tchildren: React.ReactNode;\n\t/**\n\t * Function to execute on long press.\n\t */\n\tonLongPress?: () => void;\n\t/**\n\t * Function to execute on press.\n\t */\n\tonPress?: (e: GestureResponderEvent) => void;\n\t/**\n\t * The number of milliseconds a user must touch the element before executing `onLongPress`.\n\t */\n\tdelayLongPress?: number;\n\t/**\n\t * Changes Card shadow and background on iOS and Android.\n\t */\n\televation?: 0 | 1 | 2 | 3 | 4 | 5 | Animated.Value;\n\tstyle?: StyleProp<ViewStyle>;\n\t/**\n\t * @optional\n\t */\n\ttheme: InternalTheme;\n\t/**\n\t * Pass down testID from card props to touchable\n\t */\n\ttestID?: string;\n\t/**\n\t * Pass down accessible from card props to touchable\n\t */\n\taccessible?: boolean;\n};\n\n/**\n * A card is a sheet of material that serves as an entry point to more detailed information.\n *\n * <div class=\"screenshots\">\n *   <figure>\n *     <img src=\"screenshots/card-1.png\" />\n *     <figcaption>Elevated card</figcaption>\n *   </figure>\n *   <figure>\n *     <img src=\"screenshots/card-2.png\" />\n *     <figcaption>Outlined card</figcaption>\n *   </figure>\n *   <figure>\n *     <img src=\"screenshots/card-3.png\" />\n *     <figcaption>Contained card</figcaption>\n *   </figure>\n * </div>\n *\n * ## Usage\n * ```js\n * import * as React from 'react';\n * import { Avatar, Button, Card, Text } from 'react-native-paper';\n *\n * const LeftContent = props => <Avatar.Icon {...props} icon=\"folder\" />\n *\n * const MyComponent = () => (\n *   <Card>\n *     <Card.Title title=\"Card Title\" subtitle=\"Card Subtitle\" left={LeftContent} />\n *     <Card.Content>\n *       <Text variant=\"titleLarge\">Card title</Text>\n *       <Text variant=\"bodyMedium\">Card content</Text>\n *     </Card.Content>\n *     <Card.Cover source={{ uri: 'https://picsum.photos/700' }} />\n *     <Card.Actions>\n *       <Button>Cancel</Button>\n *       <Button>Ok</Button>\n *     </Card.Actions>\n *   </Card>\n * );\n *\n * export default MyComponent;\n * ```\n */\nconst Card = ({\n\televation: cardElevation = 1,\n\tonLongPress,\n\tdelayLongPress,\n\tonPress,\n\tmode: cardMode = 'elevated',\n\tchildren,\n\tstyle,\n\ttheme,\n\ttestID = 'card',\n\taccessible,\n\t...rest\n}: (OutlinedCardProps | ElevatedCardProps | ContainedCardProps) & Props) => {\n\tconst isMode = React.useCallback(\n\t\t(modeToCompare: Mode) => {\n\t\t\treturn cardMode === modeToCompare;\n\t\t},\n\t\t[cardMode]\n\t);\n\n\t// Default animated value\n\tconst { current: elevation } = React.useRef<Animated.Value>(\n\t\tnew Animated.Value(cardElevation)\n\t);\n\t// Dark adaptive animated value, used in case of toggling the theme,\n\t// it prevents animating the background with native drivers inside Surface\n\tconst { current: elevationDarkAdaptive } = React.useRef<Animated.Value>(\n\t\tnew Animated.Value(cardElevation)\n\t);\n\tconst { animation, dark, mode, roundness, isV3 } = theme;\n\n\tconst prevDarkRef = React.useRef<boolean>(dark);\n\tReact.useEffect(() => {\n\t\tprevDarkRef.current = dark;\n\t});\n\n\tconst prevDark = prevDarkRef.current;\n\tconst isAdaptiveMode = mode === 'adaptive';\n\tconst animationDuration = 150 * animation.scale;\n\n\tReact.useEffect(() => {\n\t\t/**\n\t\t * Resets animations values if updating to dark adaptive mode,\n\t\t * otherwise, any card that is in the middle of animation while\n\t\t * toggling the theme will stay at that animated value until\n\t\t * the next press-in\n\t\t */\n\t\tif (dark && isAdaptiveMode && !prevDark) {\n\t\t\televation.setValue(cardElevation);\n\t\t\televationDarkAdaptive.setValue(cardElevation);\n\t\t}\n\t}, [\n\t\tprevDark,\n\t\tdark,\n\t\tisAdaptiveMode,\n\t\tcardElevation,\n\t\televation,\n\t\televationDarkAdaptive,\n\t]);\n\n\tconst runElevationAnimation = (pressType: HandlePressType) => {\n\t\tconst isPressTypeIn = pressType === 'in';\n\t\tif (dark && isAdaptiveMode) {\n\t\t\tAnimated.timing(elevationDarkAdaptive, {\n\t\t\t\ttoValue: isPressTypeIn ? (isV3 ? 2 : 8) : cardElevation,\n\t\t\t\tduration: animationDuration,\n\t\t\t\tuseNativeDriver: false,\n\t\t\t}).start();\n\t\t} else {\n\t\t\tAnimated.timing(elevation, {\n\t\t\t\ttoValue: isPressTypeIn ? (isV3 ? 2 : 8) : cardElevation,\n\t\t\t\tduration: animationDuration,\n\t\t\t\tuseNativeDriver: false,\n\t\t\t}).start();\n\t\t}\n\t};\n\n\tconst handlePressIn = () => {\n\t\trunElevationAnimation('in');\n\t};\n\n\tconst handlePressOut = () => {\n\t\trunElevationAnimation('out');\n\t};\n\n\tconst total = React.Children.count(children);\n\tconst siblings = React.Children.map(children, (child) =>\n\t\tReact.isValidElement(child) && child.type\n\t\t\t? (child.type as any).displayName\n\t\t\t: null\n\t);\n\tconst computedElevation =\n\t\tdark && isAdaptiveMode ? elevationDarkAdaptive : elevation;\n\n\tconst { backgroundColor, borderColor: themedBorderColor } = getCardColors({\n\t\ttheme,\n\t\tmode: cardMode,\n\t});\n\n\tconst {\n\t\tborderRadius = (isV3 ? 3 : 1) * roundness,\n\t\tborderColor = themedBorderColor,\n\t} = (StyleSheet.flatten(style) || {}) as ViewStyle;\n\n\treturn (\n\t\t<Surface\n\t\t\tstyle={[\n\t\t\t\t{\n\t\t\t\t\tborderRadius,\n\t\t\t\t},\n\t\t\t\tisV3 && !isMode('elevated') && { backgroundColor },\n\t\t\t\t!isV3 && isMode('outlined')\n\t\t\t\t\t? styles.resetElevation\n\t\t\t\t\t: {\n\t\t\t\t\t\t\televation: computedElevation as unknown as number,\n\t\t\t\t\t  },\n\t\t\t\tstyle,\n\t\t\t]}\n\t\t\ttheme={theme}\n\t\t\t{...(isV3 && {\n\t\t\t\televation: isMode('elevated') ? computedElevation : 0,\n\t\t\t})}\n\t\t\t{...rest}\n\t\t>\n\t\t\t{isMode('outlined') && (\n\t\t\t\t<View\n\t\t\t\t\tpointerEvents=\"none\"\n\t\t\t\t\ttestID={`${testID}-outline`}\n\t\t\t\t\tstyle={[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tborderRadius,\n\t\t\t\t\t\t\tborderColor,\n\t\t\t\t\t\t},\n\t\t\t\t\t\tstyles.outline,\n\t\t\t\t\t]}\n\t\t\t\t/>\n\t\t\t)}\n\t\t\t<TouchableWithoutFeedback\n\t\t\t\tdelayPressIn={0}\n\t\t\t\tdisabled={!(onPress || onLongPress)}\n\t\t\t\tdelayLongPress={delayLongPress}\n\t\t\t\tonLongPress={onLongPress}\n\t\t\t\tonPress={onPress}\n\t\t\t\tonPressIn={onPress || onLongPress ? handlePressIn : undefined}\n\t\t\t\tonPressOut={onPress || onLongPress ? handlePressOut : undefined}\n\t\t\t\ttestID={testID}\n\t\t\t\taccessible={accessible}\n\t\t\t>\n\t\t\t\t<View style={styles.innerContainer}>\n\t\t\t\t\t{React.Children.map(children, (child, index) =>\n\t\t\t\t\t\tReact.isValidElement(child)\n\t\t\t\t\t\t\t? React.cloneElement(\n\t\t\t\t\t\t\t\t\tchild as React.ReactElement<any>,\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tindex,\n\t\t\t\t\t\t\t\t\t\ttotal,\n\t\t\t\t\t\t\t\t\t\tsiblings,\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t: child\n\t\t\t\t\t)}\n\t\t\t\t</View>\n\t\t\t</TouchableWithoutFeedback>\n\t\t</Surface>\n\t);\n};\n\n// @component ./CardContent.tsx\nCard.Content = CardContent;\n// @component ./CardActions.tsx\nCard.Actions = CardActions;\n// @component ./CardCover.tsx\nCard.Cover = CardCover;\n// @component ./CardTitle.tsx\nCard.Title = CardTitle;\n\nconst styles = StyleSheet.create({\n\tinnerContainer: {\n\t\tflexShrink: 1,\n\t},\n\toutline: {\n\t\tborderWidth: 1,\n\t\tposition: 'absolute',\n\t\twidth: '100%',\n\t\theight: '100%',\n\t\tzIndex: 2,\n\t},\n\tresetElevation: {\n\t\televation: 0,\n\t},\n});\n\nexport default withInternalTheme(Card);\n"],"mappings":"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"}