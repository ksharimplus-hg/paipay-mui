{"version":3,"names":["React","Animated","StyleSheet","Text","color","AdornmentSide","withInternalTheme","getConstants","AffixContext","createContext","textStyle","fontFamily","topPosition","side","Left","AffixAdornment","affix","onLayout","visible","paddingHorizontal","maxFontSizeMultiplier","testID","TextInputAffix","text","labelStyle","theme","AFFIX_OFFSET","isV3","useContext","textColor","colors","onSurface","alpha","dark","rgb","string","offset","style","top","styles","container","opacity","interpolate","inputRange","outputRange","displayName","create","position","justifyContent","alignItems"],"sources":["TextInputAffix.tsx"],"sourcesContent":["import React from 'react';\r\nimport {\r\n\tAnimated,\r\n\tLayoutChangeEvent,\r\n\tStyleProp,\r\n\tStyleSheet,\r\n\tText,\r\n\tTextStyle,\r\n\tViewStyle,\r\n} from 'react-native';\r\n\r\nimport color from 'color';\r\n\r\nimport { AdornmentSide } from './enums';\r\nimport { withInternalTheme } from '../../../core/theming';\r\nimport type { InternalTheme } from '../../../types';\r\nimport { getConstants } from '../helpers';\r\n\r\nexport type Props = {\r\n\t/**\r\n\t * Text to show.\r\n\t */\r\n\ttext: string;\r\n\tonLayout?: (event: LayoutChangeEvent) => void;\r\n\t/**\r\n\t * Style that is passed to the Text element.\r\n\t */\r\n\ttextStyle?: StyleProp<TextStyle>;\r\n\t/**\r\n\t * @optional\r\n\t */\r\n\ttheme: InternalTheme;\r\n};\r\n\r\ntype ContextState = {\r\n\ttopPosition: number | null;\r\n\tonLayout?: (event: LayoutChangeEvent) => void;\r\n\tvisible?: Animated.Value;\r\n\ttextStyle?: StyleProp<TextStyle>;\r\n\tside: AdornmentSide;\r\n\tpaddingHorizontal?: number | string;\r\n\tmaxFontSizeMultiplier?: number | undefined | null;\r\n\ttestID?: string;\r\n};\r\n\r\nconst AffixContext = React.createContext<ContextState>({\r\n\ttextStyle: { fontFamily: '', color: '' },\r\n\ttopPosition: null,\r\n\tside: AdornmentSide.Left,\r\n});\r\n\r\nconst AffixAdornment: React.FunctionComponent<\r\n\t{\r\n\t\taffix: React.ReactNode;\r\n\t\ttestID: string;\r\n\t} & ContextState\r\n> = ({\r\n\taffix,\r\n\tside,\r\n\ttextStyle,\r\n\ttopPosition,\r\n\tonLayout,\r\n\tvisible,\r\n\tpaddingHorizontal,\r\n\tmaxFontSizeMultiplier,\r\n\ttestID,\r\n}) => {\r\n\treturn (\r\n\t\t<AffixContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tside,\r\n\t\t\t\ttextStyle,\r\n\t\t\t\ttopPosition,\r\n\t\t\t\tonLayout,\r\n\t\t\t\tvisible,\r\n\t\t\t\tpaddingHorizontal,\r\n\t\t\t\tmaxFontSizeMultiplier,\r\n\t\t\t\ttestID,\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{affix}\r\n\t\t</AffixContext.Provider>\r\n\t);\r\n};\r\n\r\n/**\r\n * A component to render a leading / trailing text in the TextInput\r\n *\r\n * <div class=\"screenshots\">\r\n *   <figure>\r\n *     <img class=\"small\" src=\"screenshots/textinput-outline.affix.png\" />\r\n *   </figure>\r\n * </div>\r\n *\r\n * ## Usage\r\n * ```js\r\n * import * as React from 'react';\r\n * import { TextInput } from 'react-native-paper';\r\n *\r\n * const MyComponent = () => {\r\n *   const [text, setText] = React.useState('');\r\n *\r\n *   return (\r\n *     <TextInput\r\n *       mode=\"outlined\"\r\n *       label=\"Outlined input\"\r\n *       placeholder=\"Type something\"\r\n *       right={<TextInput.Affix text=\"/100\" />}\r\n *     />\r\n *   );\r\n * };\r\n *\r\n * export default MyComponent;\r\n * ```\r\n */\r\n\r\nconst TextInputAffix = ({ text, textStyle: labelStyle, theme }: Props) => {\r\n\tconst { AFFIX_OFFSET } = getConstants(theme.isV3);\r\n\r\n\tconst {\r\n\t\ttextStyle,\r\n\t\tonLayout,\r\n\t\ttopPosition,\r\n\t\tside,\r\n\t\tvisible,\r\n\t\tpaddingHorizontal,\r\n\t\tmaxFontSizeMultiplier,\r\n\t\ttestID,\r\n\t} = React.useContext(AffixContext);\r\n\r\n\tconst textColor = color(\r\n\t\ttheme.isV3 ? theme.colors.onSurface : theme.colors?.text\r\n\t)\r\n\t\t.alpha(theme.dark ? 0.7 : 0.54)\r\n\t\t.rgb()\r\n\t\t.string();\r\n\r\n\tconst offset =\r\n\t\ttypeof paddingHorizontal === 'number'\r\n\t\t\t? paddingHorizontal\r\n\t\t\t: AFFIX_OFFSET;\r\n\r\n\tconst style = {\r\n\t\ttop: topPosition,\r\n\t\t[side]: offset,\r\n\t} as ViewStyle;\r\n\r\n\treturn (\r\n\t\t<Animated.View\r\n\t\t\tstyle={[\r\n\t\t\t\tstyles.container,\r\n\t\t\t\tstyle,\r\n\t\t\t\t{\r\n\t\t\t\t\topacity:\r\n\t\t\t\t\t\tvisible?.interpolate({\r\n\t\t\t\t\t\t\tinputRange: [0, 1],\r\n\t\t\t\t\t\t\toutputRange: [1, 0],\r\n\t\t\t\t\t\t}) || 1,\r\n\t\t\t\t},\r\n\t\t\t]}\r\n\t\t\tonLayout={onLayout}\r\n\t\t\ttestID={testID}\r\n\t\t>\r\n\t\t\t<Text\r\n\t\t\t\tmaxFontSizeMultiplier={maxFontSizeMultiplier}\r\n\t\t\t\tstyle={[{ color: textColor }, textStyle, labelStyle]}\r\n\t\t\t>\r\n\t\t\t\t{text}\r\n\t\t\t</Text>\r\n\t\t</Animated.View>\r\n\t);\r\n};\r\nTextInputAffix.displayName = 'TextInput.Affix';\r\n\r\nconst styles = StyleSheet.create({\r\n\tcontainer: {\r\n\t\tposition: 'absolute',\r\n\t\tjustifyContent: 'center',\r\n\t\talignItems: 'center',\r\n\t},\r\n});\r\n\r\nexport default withInternalTheme(TextInputAffix);\r\n\r\n// @component-docs ignore-next-line\r\nexport { TextInputAffix, AffixAdornment };\r\n"],"mappings":"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"}