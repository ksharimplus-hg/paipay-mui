{"version":3,"names":["React","AdornmentSide","AdornmentType","InputMode","TextInputAffix","AffixAdornment","TextInputIcon","IconAdornment","getConstants","getAdornmentConfig","left","right","adornmentConfig","side","Left","adornment","Right","forEach","isValidElement","type","Affix","Icon","push","getAdornmentStyleAdjustmentForNativeInput","leftAffixWidth","rightAffixWidth","paddingHorizontal","inputOffset","mode","isV3","OUTLINED_INPUT_OFFSET","ADORNMENT_OFFSET","length","adornmentStyleAdjustmentForNativeInput","map","isLeftSide","inputModeAdornemntOffset","Outlined","paddingKey","captalize","affixWidth","padding","offset","isAffix","marginKey","allStyleAdjustmentsMerged","reduce","mergedStyles","currentStyle","text","charAt","toUpperCase","slice","TextInputAdornment","onAffixChange","textStyle","visible","topPosition","isTextInputFocused","forceFocus","maxFontSizeMultiplier","inputAdornmentComponent","commonProps","testID"],"sources":["TextInputAdornment.tsx"],"sourcesContent":["import React from 'react';\r\nimport type {\r\n\tLayoutChangeEvent,\r\n\tTextStyle,\r\n\tStyleProp,\r\n\tAnimated,\r\n} from 'react-native';\r\n\r\nimport { AdornmentSide, AdornmentType, InputMode } from './enums';\r\nimport TextInputAffix, { AffixAdornment } from './TextInputAffix';\r\nimport TextInputIcon, { IconAdornment } from './TextInputIcon';\r\nimport type {\r\n\tAdornmentConfig,\r\n\tAdornmentStyleAdjustmentForNativeInput,\r\n} from './types';\r\nimport { getConstants } from '../helpers';\r\n\r\nexport function getAdornmentConfig({\r\n\tleft,\r\n\tright,\r\n}: {\r\n\tleft?: React.ReactNode;\r\n\tright?: React.ReactNode;\r\n}): Array<AdornmentConfig> {\r\n\tlet adornmentConfig: any[] = [];\r\n\tif (left || right) {\r\n\t\t[\r\n\t\t\t{ side: AdornmentSide.Left, adornment: left },\r\n\t\t\t{ side: AdornmentSide.Right, adornment: right },\r\n\t\t].forEach(({ side, adornment }) => {\r\n\t\t\tif (adornment && React.isValidElement(adornment)) {\r\n\t\t\t\tlet type;\r\n\t\t\t\tif (adornment.type === TextInputAffix) {\r\n\t\t\t\t\ttype = AdornmentType.Affix;\r\n\t\t\t\t} else if (adornment.type === TextInputIcon) {\r\n\t\t\t\t\ttype = AdornmentType.Icon;\r\n\t\t\t\t}\r\n\t\t\t\tadornmentConfig.push({\r\n\t\t\t\t\tside,\r\n\t\t\t\t\ttype,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\treturn adornmentConfig;\r\n}\r\n\r\nexport function getAdornmentStyleAdjustmentForNativeInput({\r\n\tadornmentConfig,\r\n\tleftAffixWidth,\r\n\trightAffixWidth,\r\n\tpaddingHorizontal,\r\n\tinputOffset = 0,\r\n\tmode,\r\n\tisV3,\r\n}: {\r\n\tinputOffset?: number;\r\n\tadornmentConfig: AdornmentConfig[];\r\n\tleftAffixWidth: number;\r\n\trightAffixWidth: number;\r\n\tmode?: 'outlined' | 'flat';\r\n\tpaddingHorizontal?: number | string;\r\n\tisV3?: boolean;\r\n}): AdornmentStyleAdjustmentForNativeInput | {} {\r\n\tconst { OUTLINED_INPUT_OFFSET, ADORNMENT_OFFSET } = getConstants(isV3);\r\n\r\n\tif (adornmentConfig.length) {\r\n\t\tconst adornmentStyleAdjustmentForNativeInput = adornmentConfig.map(\r\n\t\t\t({ type, side }: AdornmentConfig) => {\r\n\t\t\t\tconst isLeftSide = side === AdornmentSide.Left;\r\n\t\t\t\tconst inputModeAdornemntOffset =\r\n\t\t\t\t\tmode === InputMode.Outlined\r\n\t\t\t\t\t\t? ADORNMENT_OFFSET + OUTLINED_INPUT_OFFSET\r\n\t\t\t\t\t\t: ADORNMENT_OFFSET;\r\n\t\t\t\tconst paddingKey = `padding${captalize(side)}`;\r\n\t\t\t\tconst affixWidth = isLeftSide\r\n\t\t\t\t\t? leftAffixWidth\r\n\t\t\t\t\t: rightAffixWidth;\r\n\t\t\t\tconst padding =\r\n\t\t\t\t\ttypeof paddingHorizontal === 'number'\r\n\t\t\t\t\t\t? paddingHorizontal\r\n\t\t\t\t\t\t: inputModeAdornemntOffset;\r\n\t\t\t\tconst offset = affixWidth + padding;\r\n\r\n\t\t\t\tconst isAffix = type === AdornmentType.Affix;\r\n\t\t\t\tconst marginKey = `margin${captalize(side)}`;\r\n\r\n\t\t\t\treturn {\r\n\t\t\t\t\t[marginKey]: isAffix ? 0 : offset,\r\n\t\t\t\t\t[paddingKey]: isAffix ? offset : inputOffset,\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t);\r\n\t\tconst allStyleAdjustmentsMerged =\r\n\t\t\tadornmentStyleAdjustmentForNativeInput.reduce(\r\n\t\t\t\t(mergedStyles, currentStyle) => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\t...mergedStyles,\r\n\t\t\t\t\t\t...currentStyle,\r\n\t\t\t\t\t};\r\n\t\t\t\t},\r\n\t\t\t\t{}\r\n\t\t\t);\r\n\t\treturn allStyleAdjustmentsMerged;\r\n\t} else {\r\n\t\treturn [{}];\r\n\t}\r\n}\r\n\r\nconst captalize = (text: string) =>\r\n\ttext.charAt(0).toUpperCase() + text.slice(1);\r\n\r\nexport interface TextInputAdornmentProps {\r\n\tforceFocus: () => void;\r\n\tadornmentConfig: AdornmentConfig[];\r\n\ttopPosition: {\r\n\t\t[AdornmentType.Affix]: {\r\n\t\t\t[AdornmentSide.Left]: number | null;\r\n\t\t\t[AdornmentSide.Right]: number | null;\r\n\t\t};\r\n\t\t[AdornmentType.Icon]: number;\r\n\t};\r\n\tonAffixChange: {\r\n\t\t[AdornmentSide.Left]: (event: LayoutChangeEvent) => void;\r\n\t\t[AdornmentSide.Right]: (event: LayoutChangeEvent) => void;\r\n\t};\r\n\tleft?: React.ReactNode;\r\n\tright?: React.ReactNode;\r\n\ttextStyle?: StyleProp<TextStyle>;\r\n\tvisible?: Animated.Value;\r\n\tisTextInputFocused: boolean;\r\n\tpaddingHorizontal?: number | string;\r\n\tmaxFontSizeMultiplier?: number | undefined | null;\r\n}\r\n\r\nconst TextInputAdornment: React.FunctionComponent<TextInputAdornmentProps> = ({\r\n\tadornmentConfig,\r\n\tleft,\r\n\tright,\r\n\tonAffixChange,\r\n\ttextStyle,\r\n\tvisible,\r\n\ttopPosition,\r\n\tisTextInputFocused,\r\n\tforceFocus,\r\n\tpaddingHorizontal,\r\n\tmaxFontSizeMultiplier,\r\n}) => {\r\n\tif (adornmentConfig.length) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{adornmentConfig.map(({ type, side }: AdornmentConfig) => {\r\n\t\t\t\t\tlet inputAdornmentComponent;\r\n\t\t\t\t\tif (side === AdornmentSide.Left) {\r\n\t\t\t\t\t\tinputAdornmentComponent = left;\r\n\t\t\t\t\t} else if (side === AdornmentSide.Right) {\r\n\t\t\t\t\t\tinputAdornmentComponent = right;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconst commonProps = {\r\n\t\t\t\t\t\tside: side,\r\n\t\t\t\t\t\ttestID: `${side}-${type}-adornment`,\r\n\t\t\t\t\t\tisTextInputFocused,\r\n\t\t\t\t\t\tpaddingHorizontal,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tif (type === AdornmentType.Icon) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<IconAdornment\r\n\t\t\t\t\t\t\t\t{...commonProps}\r\n\t\t\t\t\t\t\t\tkey={side}\r\n\t\t\t\t\t\t\t\ticon={inputAdornmentComponent}\r\n\t\t\t\t\t\t\t\ttopPosition={topPosition[AdornmentType.Icon]}\r\n\t\t\t\t\t\t\t\tforceFocus={forceFocus}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else if (type === AdornmentType.Affix) {\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<AffixAdornment\r\n\t\t\t\t\t\t\t\t{...commonProps}\r\n\t\t\t\t\t\t\t\tkey={side}\r\n\t\t\t\t\t\t\t\ttopPosition={\r\n\t\t\t\t\t\t\t\t\ttopPosition[AdornmentType.Affix][side]\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\taffix={inputAdornmentComponent}\r\n\t\t\t\t\t\t\t\ttextStyle={textStyle}\r\n\t\t\t\t\t\t\t\tonLayout={onAffixChange[side]}\r\n\t\t\t\t\t\t\t\tvisible={visible}\r\n\t\t\t\t\t\t\t\tmaxFontSizeMultiplier={maxFontSizeMultiplier}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn null;\r\n\t\t\t\t\t}\r\n\t\t\t\t})}\r\n\t\t\t</>\r\n\t\t);\r\n\t} else {\r\n\t\treturn null;\r\n\t}\r\n};\r\n\r\nexport default TextInputAdornment;\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AAQzB,SAASC,aAAa,EAAEC,aAAa,EAAEC,SAAS,QAAQ,SAAS;AACjE,OAAOC,cAAc,IAAIC,cAAc,QAAQ,kBAAkB;AACjE,OAAOC,aAAa,IAAIC,aAAa,QAAQ,iBAAiB;AAK9D,SAASC,YAAY,QAAQ,YAAY;AAEzC,OAAO,SAASC,kBAAkB,OAMP;EAAA,IANQ;IAClCC,IAAI;IACJC;EAID,CAAC;EACA,IAAIC,eAAsB,GAAG,EAAE;EAC/B,IAAIF,IAAI,IAAIC,KAAK,EAAE;IAClB,CACC;MAAEE,IAAI,EAAEZ,aAAa,CAACa,IAAI;MAAEC,SAAS,EAAEL;IAAK,CAAC,EAC7C;MAAEG,IAAI,EAAEZ,aAAa,CAACe,KAAK;MAAED,SAAS,EAAEJ;IAAM,CAAC,CAC/C,CAACM,OAAO,CAAC,SAAyB;MAAA,IAAxB;QAAEJ,IAAI;QAAEE;MAAU,CAAC;MAC7B,IAAIA,SAAS,iBAAIf,KAAK,CAACkB,cAAc,CAACH,SAAS,CAAC,EAAE;QACjD,IAAII,IAAI;QACR,IAAIJ,SAAS,CAACI,IAAI,KAAKf,cAAc,EAAE;UACtCe,IAAI,GAAGjB,aAAa,CAACkB,KAAK;QAC3B,CAAC,MAAM,IAAIL,SAAS,CAACI,IAAI,KAAKb,aAAa,EAAE;UAC5Ca,IAAI,GAAGjB,aAAa,CAACmB,IAAI;QAC1B;QACAT,eAAe,CAACU,IAAI,CAAC;UACpBT,IAAI;UACJM;QACD,CAAC,CAAC;MACH;IACD,CAAC,CAAC;EACH;EAEA,OAAOP,eAAe;AACvB;AAEA,OAAO,SAASW,yCAAyC,QAgBT;EAAA,IAhBU;IACzDX,eAAe;IACfY,cAAc;IACdC,eAAe;IACfC,iBAAiB;IACjBC,WAAW,GAAG,CAAC;IACfC,IAAI;IACJC;EASD,CAAC;EACA,MAAM;IAAEC,qBAAqB;IAAEC;EAAiB,CAAC,GAAGvB,YAAY,CAACqB,IAAI,CAAC;EAEtE,IAAIjB,eAAe,CAACoB,MAAM,EAAE;IAC3B,MAAMC,sCAAsC,GAAGrB,eAAe,CAACsB,GAAG,CACjE,SAAqC;MAAA,IAApC;QAAEf,IAAI;QAAEN;MAAsB,CAAC;MAC/B,MAAMsB,UAAU,GAAGtB,IAAI,KAAKZ,aAAa,CAACa,IAAI;MAC9C,MAAMsB,wBAAwB,GAC7BR,IAAI,KAAKzB,SAAS,CAACkC,QAAQ,GACxBN,gBAAgB,GAAGD,qBAAqB,GACxCC,gBAAgB;MACpB,MAAMO,UAAU,GAAI,UAASC,SAAS,CAAC1B,IAAI,CAAE,EAAC;MAC9C,MAAM2B,UAAU,GAAGL,UAAU,GAC1BX,cAAc,GACdC,eAAe;MAClB,MAAMgB,OAAO,GACZ,OAAOf,iBAAiB,KAAK,QAAQ,GAClCA,iBAAiB,GACjBU,wBAAwB;MAC5B,MAAMM,MAAM,GAAGF,UAAU,GAAGC,OAAO;MAEnC,MAAME,OAAO,GAAGxB,IAAI,KAAKjB,aAAa,CAACkB,KAAK;MAC5C,MAAMwB,SAAS,GAAI,SAAQL,SAAS,CAAC1B,IAAI,CAAE,EAAC;MAE5C,OAAO;QACN,CAAC+B,SAAS,GAAGD,OAAO,GAAG,CAAC,GAAGD,MAAM;QACjC,CAACJ,UAAU,GAAGK,OAAO,GAAGD,MAAM,GAAGf;MAClC,CAAC;IACF,CAAC,CACD;IACD,MAAMkB,yBAAyB,GAC9BZ,sCAAsC,CAACa,MAAM,CAC5C,CAACC,YAAY,EAAEC,YAAY,KAAK;MAC/B,OAAO;QACN,GAAGD,YAAY;QACf,GAAGC;MACJ,CAAC;IACF,CAAC,EACD,CAAC,CAAC,CACF;IACF,OAAOH,yBAAyB;EACjC,CAAC,MAAM;IACN,OAAO,CAAC,CAAC,CAAC,CAAC;EACZ;AACD;AAEA,MAAMN,SAAS,GAAIU,IAAY,IAC9BA,IAAI,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,EAAE,GAAGF,IAAI,CAACG,KAAK,CAAC,CAAC,CAAC;AAyB7C,MAAMC,kBAAoE,GAAG,SAYvE;EAAA,IAZwE;IAC7EzC,eAAe;IACfF,IAAI;IACJC,KAAK;IACL2C,aAAa;IACbC,SAAS;IACTC,OAAO;IACPC,WAAW;IACXC,kBAAkB;IAClBC,UAAU;IACVjC,iBAAiB;IACjBkC;EACD,CAAC;EACA,IAAIhD,eAAe,CAACoB,MAAM,EAAE;IAC3B,oBACC,0CACEpB,eAAe,CAACsB,GAAG,CAAC,SAAqC;MAAA,IAApC;QAAEf,IAAI;QAAEN;MAAsB,CAAC;MACpD,IAAIgD,uBAAuB;MAC3B,IAAIhD,IAAI,KAAKZ,aAAa,CAACa,IAAI,EAAE;QAChC+C,uBAAuB,GAAGnD,IAAI;MAC/B,CAAC,MAAM,IAAIG,IAAI,KAAKZ,aAAa,CAACe,KAAK,EAAE;QACxC6C,uBAAuB,GAAGlD,KAAK;MAChC;MAEA,MAAMmD,WAAW,GAAG;QACnBjD,IAAI,EAAEA,IAAI;QACVkD,MAAM,EAAG,GAAElD,IAAK,IAAGM,IAAK,YAAW;QACnCuC,kBAAkB;QAClBhC;MACD,CAAC;MACD,IAAIP,IAAI,KAAKjB,aAAa,CAACmB,IAAI,EAAE;QAChC,oBACC,oBAAC,aAAa,eACTyC,WAAW;UACf,GAAG,EAAEjD,IAAK;UACV,IAAI,EAAEgD,uBAAwB;UAC9B,WAAW,EAAEJ,WAAW,CAACvD,aAAa,CAACmB,IAAI,CAAE;UAC7C,UAAU,EAAEsC;QAAW,GACtB;MAEJ,CAAC,MAAM,IAAIxC,IAAI,KAAKjB,aAAa,CAACkB,KAAK,EAAE;QACxC,oBACC,oBAAC,cAAc,eACV0C,WAAW;UACf,GAAG,EAAEjD,IAAK;UACV,WAAW,EACV4C,WAAW,CAACvD,aAAa,CAACkB,KAAK,CAAC,CAACP,IAAI,CACrC;UACD,KAAK,EAAEgD,uBAAwB;UAC/B,SAAS,EAAEN,SAAU;UACrB,QAAQ,EAAED,aAAa,CAACzC,IAAI,CAAE;UAC9B,OAAO,EAAE2C,OAAQ;UACjB,qBAAqB,EAAEI;QAAsB,GAC5C;MAEJ,CAAC,MAAM;QACN,OAAO,IAAI;MACZ;IACD,CAAC,CAAC,CACA;EAEL,CAAC,MAAM;IACN,OAAO,IAAI;EACZ;AACD,CAAC;AAED,eAAeP,kBAAkB"}