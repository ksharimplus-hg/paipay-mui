{"version":3,"names":["React","StyleSheet","AppbarAction","AppbarBackAction","AppbarContent","overlay","black","white","Tooltip","getAppbarColor","theme","elevation","customBackground","elevated","isV3","dark","isDarkTheme","mode","colors","isAdaptiveMode","surface","primary","level2","DEFAULT_APPBAR_HEIGHT","MD3_DEFAULT_APPBAR_HEIGHT","modeAppbarHeight","small","medium","large","modeTextVariant","renderAppbarContent","children","isDark","shouldCenterContent","renderOnly","renderExcept","Children","toArray","filter","child","includes","type","map","i","isValidElement","props","color","undefined","style","styles","v3Spacing","v2Spacing","centerAlignedContent","cloneElement","create","alignItems","marginLeft"],"sources":["utils.ts"],"sourcesContent":["import React from 'react';\r\nimport type { ColorValue, StyleProp, ViewStyle } from 'react-native';\r\nimport { StyleSheet } from 'react-native';\r\n\r\nimport AppbarAction from './AppbarAction';\r\nimport AppbarBackAction from './AppbarBackAction';\r\nimport AppbarContent from './AppbarContent';\r\nimport overlay from '../../styles/overlay';\r\nimport { black, white } from '../../styles/themes/v2/colors';\r\nimport type { InternalTheme } from '../../types';\r\nimport Tooltip from '../Tooltip/Tooltip';\r\n\r\nexport type AppbarModes = 'small' | 'medium' | 'large' | 'center-aligned';\r\n\r\nexport const getAppbarColor = (\r\n\ttheme: InternalTheme,\r\n\televation: number,\r\n\tcustomBackground?: ColorValue,\r\n\televated?: boolean\r\n) => {\r\n\tconst { isV3, dark: isDarkTheme, mode, colors } = theme;\r\n\tconst isAdaptiveMode = mode === 'adaptive';\r\n\tif (customBackground) {\r\n\t\treturn customBackground;\r\n\t}\r\n\r\n\tif (!isV3) {\r\n\t\tif (isDarkTheme && isAdaptiveMode) {\r\n\t\t\treturn overlay(elevation, colors?.surface);\r\n\t\t}\r\n\r\n\t\treturn colors.primary;\r\n\t}\r\n\r\n\tif (elevated) {\r\n\t\treturn theme.colors.elevation.level2;\r\n\t}\r\n\r\n\treturn colors.surface;\r\n};\r\n\r\ntype RenderAppbarContentProps = {\r\n\tchildren: React.ReactNode;\r\n\tisDark: boolean;\r\n\tshouldCenterContent?: boolean;\r\n\tisV3: boolean;\r\n\trenderOnly?: React.ComponentType<any>[];\r\n\trenderExcept?: React.ComponentType<any>[];\r\n\tmode?: AppbarModes;\r\n};\r\n\r\nexport const DEFAULT_APPBAR_HEIGHT = 56;\r\nconst MD3_DEFAULT_APPBAR_HEIGHT = 64;\r\n\r\nexport const modeAppbarHeight = {\r\n\tsmall: MD3_DEFAULT_APPBAR_HEIGHT,\r\n\tmedium: 112,\r\n\tlarge: 152,\r\n\t'center-aligned': MD3_DEFAULT_APPBAR_HEIGHT,\r\n};\r\n\r\nexport const modeTextVariant = {\r\n\tsmall: 'titleLarge',\r\n\tmedium: 'headlineSmall',\r\n\tlarge: 'headlineMedium',\r\n\t'center-aligned': 'titleLarge',\r\n};\r\n\r\nexport const renderAppbarContent = ({\r\n\tchildren,\r\n\tisDark,\r\n\tshouldCenterContent = false,\r\n\tisV3,\r\n\trenderOnly,\r\n\trenderExcept,\r\n\tmode = 'small',\r\n}: RenderAppbarContentProps) => {\r\n\treturn (\r\n\t\tReact.Children.toArray(children as React.ReactNode | React.ReactNode[])\r\n\t\t\t.filter((child) => child != null && typeof child !== 'boolean')\r\n\t\t\t.filter((child) =>\r\n\t\t\t\t/* @ts-ignore */\r\n\t\t\t\trenderExcept ? !renderExcept.includes(child.type) : child\r\n\t\t\t)\r\n\t\t\t/* @ts-ignore */\r\n\t\t\t.filter((child) =>\r\n\t\t\t\t/* @ts-ignore */\r\n\t\t\t\trenderOnly ? renderOnly.includes(child.type) : child\r\n\t\t\t)\r\n\t\t\t.map((child, i) => {\r\n\t\t\t\tif (\r\n\t\t\t\t\t!React.isValidElement(child) ||\r\n\t\t\t\t\t![\r\n\t\t\t\t\t\tAppbarContent,\r\n\t\t\t\t\t\tAppbarAction,\r\n\t\t\t\t\t\tAppbarBackAction,\r\n\t\t\t\t\t\tTooltip,\r\n\t\t\t\t\t].includes(\r\n\t\t\t\t\t\t/* @ts-ignore */\r\n\t\t\t\t\t\tchild.type\r\n\t\t\t\t\t)\r\n\t\t\t\t) {\r\n\t\t\t\t\treturn child;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconst props: {\r\n\t\t\t\t\tcolor?: string;\r\n\t\t\t\t\tstyle?: StyleProp<ViewStyle>;\r\n\t\t\t\t\tmode?: AppbarModes;\r\n\t\t\t\t} = {\r\n\t\t\t\t\tcolor:\r\n\t\t\t\t\t\ttypeof child.props.color !== 'undefined'\r\n\t\t\t\t\t\t\t? child.props.color\r\n\t\t\t\t\t\t\t: isV3\r\n\t\t\t\t\t\t\t? undefined\r\n\t\t\t\t\t\t\t: isDark\r\n\t\t\t\t\t\t\t? white\r\n\t\t\t\t\t\t\t: black,\r\n\t\t\t\t};\r\n\r\n\t\t\t\tif (child.type === AppbarContent) {\r\n\t\t\t\t\tprops.mode = mode;\r\n\t\t\t\t\tprops.style = [\r\n\t\t\t\t\t\tisV3\r\n\t\t\t\t\t\t\t? i === 0 &&\r\n\t\t\t\t\t\t\t  !shouldCenterContent &&\r\n\t\t\t\t\t\t\t  styles.v3Spacing\r\n\t\t\t\t\t\t\t: i !== 0 && styles.v2Spacing,\r\n\t\t\t\t\t\tshouldCenterContent && styles.centerAlignedContent,\r\n\t\t\t\t\t\tchild.props.style,\r\n\t\t\t\t\t];\r\n\t\t\t\t}\r\n\t\t\t\treturn React.cloneElement(child, props);\r\n\t\t\t})\r\n\t);\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n\tcenterAlignedContent: {\r\n\t\talignItems: 'center',\r\n\t},\r\n\tv2Spacing: {\r\n\t\tmarginLeft: 8,\r\n\t},\r\n\tv3Spacing: {\r\n\t\tmarginLeft: 12,\r\n\t},\r\n});\r\n"],"mappings":"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"}